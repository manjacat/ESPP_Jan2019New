@model eSPP.Models.MaklumatKakitanganModels
@{ 
    SelectList HR_TINDAKAN = ViewBag.HR_TINDAKAN;
}
<div class="tab-pane" id="Tatatertib">
    <div class="row">
        <fieldset class="col col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <legend>
                Senarai Kesalahan Disiplin
            </legend>
            <div class="row">

                <div class="col col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    @Html.Partial("ModalTatatertib")
                    <table id="datatable_Tatatertib" class="table table-striped table-bordered table-hover" width="100%">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Jenis Kesalahan</th>
                                <th>Tarikh Mula Tindakan</th>
                                <th>Jenis Hukuman</th>
                                <th>Tarikh Hukuman</th>
                                <th>Tarikh Tamat</th>
                                <th>Tambah</th>
                            </tr>
                        </thead>
                        <tbody>

                            @for (var item = 0; item < Model.HR_TINDAKAN_DISIPLIN.Count(); item++)
                            {

                                <tr id="no1">
                                    <td><span id="num">@(item + 1)</span></td>
                                    <td>
                                        <div id="rowtxt">@Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_KESALAHAN</div>
                                        <label class="textarea textarea-resizable">
                                            <textarea name="HR_TINDAKAN_DISIPLIN[@item].HR_KESALAHAN" class="form-control HR_TINDAKAN_DISIPLIN_HR_KESALAHAN" style="display:none;" disabled="disabled" data-msg-required="Sila masukkan jenis kesalahan">@Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_KESALAHAN</textarea>
                                        </label>
                                    </td>
                                    <td>
                                        <div id="rowtxt">@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_KESALAHAN)</div>
                                        <label class="input">
                                            <input type="hidden" name="HR_TINDAKAN_DISIPLIN[@item].HR_TARIKH_KESALAHAN" class="form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN" value="@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_KESALAHAN)" disabled="disabled" data-msg-required="Sila masukkan tarikh mula tindakan" />
                                        </label>
                                    </td>
                                    <td>
                                        <div id="rowtxt">
                                            @{
                                                string tindakan = null;
                                                if (HR_TINDAKAN.Where(s => s.Value == Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_KOD_TINDAKAN).Count() > 0)
                                                {
                                                    tindakan = HR_TINDAKAN.FirstOrDefault(s => s.Value == Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_KOD_TINDAKAN).Text;
                                                }
                                            }
                                            @tindakan
                                        </div>
                                        <label class="select">
                                            <select name="HR_TINDAKAN_DISIPLIN[@item].HR_KOD_TINDAKAN" class="form-control HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN" style="display:none;" disabled="disabled" data-msg-required="Sila pilih jenis hukuman">
                                                @foreach (var op in HR_TINDAKAN)
                                                {
                                                    <option value="@op.Value" @(op.Value == Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_KOD_TINDAKAN ? "selected" : "")>@op.Text</option>
                                                }
                                            </select>
                                        </label>
                                    </td>

                                    <td>
                                        <div id="rowtxt">@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_MULA)</div>
                                        <label class="input">
                                            <input type="hidden" name="HR_TINDAKAN_DISIPLIN[@item].HR_TARIKH_MULA" class="form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA" value="@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_MULA)" disabled="disabled" data-msg-required="Sila masukkan tarikh hukuman" />
                                        </label>
                                    </td>
                                    <td>
                                        <div id="rowtxt">@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_AKHIR)</div>
                                        <label class="input">
                                            <input type="hidden" name="HR_TINDAKAN_DISIPLIN[@item].HR_TARIKH_AKHIR" class="form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR" value="@string.Format("{0:dd/MM/yyyy}", Model.HR_TINDAKAN_DISIPLIN.ElementAt(item).HR_TARIKH_AKHIR)" disabled="disabled" data-msg-required="Sila masukkan tarikh tamat" />
                                        </label>
                                    </td>

                                    <td align="center">
                                        <button class="btn btn-danger btn-remove-Tatatertib" name="remove-Tatatertib" type="button" disabled="disabled">
                                            <i class="fa fa-minus"></i>
                                        </button>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </fieldset>
    </div>
    <br />
    <br />
    <br />
    <div class="row">
        <div class="col col-lg-12 col-md-12 col-sm-12 col-xs-12">
            <div class="text-right">
                <label class="">Kemaskini : </label>
                <span class="onoffswitch">
                    <input type="checkbox" name="sah[]" class="onoffswitch-checkbox" id="mTatatertib-btn" value="off">

                    <label class="onoffswitch-label" for="mTatatertib-btn">
                        <span class="onoffswitch-inner" data-swchon-text="YES" data-swchoff-text="NO"></span>
                        <span class="onoffswitch-switch"></span>
                    </label>
                </span>
                <input type="hidden" name="kemaskini" class="form-control" value="off">
            </div>
        </div>
    </div>
</div>


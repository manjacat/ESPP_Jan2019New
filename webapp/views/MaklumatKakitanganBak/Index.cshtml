@model eSPP.Models.MaklumatKakitanganModels
<div id="content">
    <div class="row">
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark">
                <i class="fa fa-table fa-fw "></i>
                Maklumat Kakitangan
                <span>
                    >
                    Cari Maklumat Kakitangan
                </span>
            </h1>
        </div>
    </div>



    <!-- widget grid -->
    <section id="widget-grid" class="">
        <!-- row -->
        <div class="row">

            <!-- NEW WIDGET START -->
            <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget" id="wid-id-3" data-widget-editbutton="false">
                    <!-- widget options:
                    usage: <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-0" data-widget-editbutton="false">

                    data-widget-colorbutton="false"
                    data-widget-editbutton="false"
                    data-widget-togglebutton="false"
                    data-widget-deletebutton="false"
                    data-widget-fullscreenbutton="false"
                    data-widget-custombutton="false"
                    data-widget-collapsed="true"
                    data-widget-sortable="false"

                    -->
                    <header>
                        <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                        <h2>Cari Maklumat Kakitangan</h2>

                    </header>

                    <!-- widget div-->
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->

                        </div>
                        <!-- end widget edit box -->
                        <!-- widget content -->
                        <div class="widget-body">
                            <div class="row">
                                @Html.Partial("SearchKakitangan", Model)
                            </div>
                        </div>
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->
                </div>
            </article>
            <!-- WIDGET END -->

        </div>
    </section>

    @using (Html.BeginForm("Index", "MaklumatKakitanganBak", FormMethod.Post, new { id = "mKakitangan", enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
        @Html.ValidationBootstrap()
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        @Html.Partial("ListKakitangan", Model)
        if (ViewBag.key == "4")
        {
            <div id="lihat-info">
                <div class="row">
                    <div class="col-md-12 tab-pane">
                        @Html.Partial("KakitanganTab")
                    </div>
                    <div class="tab-content padding-10">
                        @Html.Partial("TabPeribadi", Model)
                        @Html.Partial("TabPekerjaan", Model)
                        @Html.Partial("TabKemahiran", Model)
                        @Html.Partial("TabAkademik", Model)
                        @Html.Partial("TabPewaris", Model)
                        @Html.Partial("TabTanggungan", Model)
                        @Html.Partial("TabKuarters", Model)
                        @Html.Partial("TabGaji", Model)
                        @Html.Partial("TabAnugerah", Model)
                        @Html.Partial("TabPersaraan", Model)
                        @Html.Partial("TabTatatertib", Model)
                        @Html.Partial("TabKematian", Model)
                        @Html.Partial("TabPrestasi", Model)
                        @Html.Partial("TabCuti", Model)
                    </div>
                </div>
            </div>
            <footer>
                <div class="well text-right">
                    <button type="submit" name="Command" id="btn-edit" class="btn btn-primary" disabled="disabled">
                        <i class="fa fa-edit"> Kemaskini</i>
                    </button>
                </div>
            </footer>
        }
    }
</div>


<!-- END MAIN CONTENT (Khairil) -->

@section pagespecific {
    <script type="text/javascript">

        // DO NOT REMOVE : GLOBAL FUNCTIONS!

            $(document).ready(function () {

                /* // DOM Position key index //

                l - Length changing (dropdown)
                f - Filtering input (search)
                t - The Table! (datatable)
                i - Information (records)
                p - Pagination (paging)
                r - pRocessing
                < and > - div elements
                <"#id" and > - div with an id
                <"class" and > - div with a class
                <"#id.class" and > - div with an id and class

                Also see: http://legacy.datatables.net/usage/features
                */

                /* BASIC ;*/
                var responsiveHelper_dt_basic = undefined;
                var responsiveHelper_datatable_fixed_column = undefined;
                var responsiveHelper_datatable_col_reorder = undefined;
                var responsiveHelper_datatable_PengalamanKerjaMPPJ = undefined;
                var responsiveHelper_datatable_PengalamanKerja = undefined;
                var responsiveHelper_datatable_KemahiranBahasa = undefined;
                var responsiveHelper_datatable_KemahiranTeknikal = undefined;
                var responsiveHelper_datatable_Kelayakan = undefined;
                var responsiveHelper_datatable_Sijil = undefined;
                var responsiveHelper_datatable_Kursus = undefined;
                var responsiveHelper_datatable_AktivitiLuar = undefined;
                var responsiveHelper_datatable_Tanggungan = undefined;
                var responsiveHelper_datatable_Gaji = undefined;
                var responsiveHelper_datatable_Elaun = undefined;
                var responsiveHelper_datatable_Potongan = undefined;
                var responsiveHelper_datatable_Caruman = undefined;
                var responsiveHelper_datatable_AnugerahPingat = undefined;
                var responsiveHelper_datatable_AnugerahCemerlang = undefined;
                var responsiveHelper_datatable_Tatatertib = undefined;
                var responsiveHelper_datatable_Cuti = undefined;

                var breakpointDefinition = {
                    tablet: 1024,
                    phone: 480
                };

                /* END BASIC */


                /* TABLETOOLS */
                $('#datatable_PengalamanKerjaMPPJ').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-history2'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_PengalamanKerjaMPPJ) {
                            responsiveHelper_datatable_PengalamanKerjaMPPJ = new ResponsiveDatatablesHelper($('#datatable_PengalamanKerjaMPPJ'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_PengalamanKerjaMPPJ.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_PengalamanKerjaMPPJ.respond();
                    }
                });
                //button
                $("div.btn-add-history2").html('<div class="text-right"><button type = "button" name = "btn-add-history" id = "btn-add-history" class = "btn btn-success btn-add-history" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $('#datatable_PengalamanKerja').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_PengalamanKerja) {
                            responsiveHelper_datatable_PengalamanKerja = new ResponsiveDatatablesHelper($('#datatable_PengalamanKerja'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_PengalamanKerja.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_PengalamanKerja.respond();
                    }
                });

                $('#datatable_KemahiranBahasa').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_KemahiranBahasa) {
                            responsiveHelper_datatable_KemahiranBahasa = new ResponsiveDatatablesHelper($('#datatable_KemahiranBahasa'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_KemahiranBahasa.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_KemahiranBahasa.respond();
                    }
                });

                $('#datatable_KemahiranTeknikal').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_KemahiranTeknikal) {
                            responsiveHelper_datatable_KemahiranTeknikal = new ResponsiveDatatablesHelper($('#datatable_KemahiranTeknikal'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_KemahiranTeknikal.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_KemahiranTeknikal.respond();
                    }
                });

                $('#datatable_Kelayakan').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Kelayakan) {
                            responsiveHelper_datatable_Kelayakan = new ResponsiveDatatablesHelper($('#datatable_Kelayakan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Kelayakan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Kelayakan.respond();
                    }
                });

                $('#datatable_Sijil').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Sijil) {
                            responsiveHelper_datatable_Sijil = new ResponsiveDatatablesHelper($('#datatable_Sijil'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Sijil.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Sijil.respond();
                    }
                });

                $('#datatable_Kursus').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Kursus) {
                            responsiveHelper_datatable_Kursus = new ResponsiveDatatablesHelper($('#datatable_Kursus'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Kursus.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Kursus.respond();
                    }
                });

                $('#datatable_AktivitiLuar').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AktivitiLuar) {
                            responsiveHelper_datatable_AktivitiLuar = new ResponsiveDatatablesHelper($('#datatable_AktivitiLuar'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AktivitiLuar.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AktivitiLuar.respond();
                    }
                });

                $('#datatable_Tanggungan').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Tanggungan) {
                            responsiveHelper_datatable_Tanggungan = new ResponsiveDatatablesHelper($('#datatable_Tanggungan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Tanggungan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Tanggungan.respond();
                    },
                    "scrollX": true
                });

                $('#datatable_Gaji').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Gaji) {
                            responsiveHelper_datatable_Gaji = new ResponsiveDatatablesHelper($('#datatable_Gaji'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Gaji.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Gaji.respond();
                    }
                });

                $('#datatable_Elaun').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Elaun) {
                            responsiveHelper_datatable_Elaun = new ResponsiveDatatablesHelper($('#datatable_Elaun'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Elaun.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Elaun.respond();
                    }
                });

                $('#datatable_Potongan').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Potongan) {
                            responsiveHelper_datatable_Potongan = new ResponsiveDatatablesHelper($('#datatable_Potongan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Potongan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Potongan.respond();
                    }
                });

                $('#datatable_Caruman').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Caruman) {
                            responsiveHelper_datatable_Caruman = new ResponsiveDatatablesHelper($('#datatable_Caruman'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Caruman.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Caruman.respond();
                    }
                });
                $('#datatable_AnugerahPingat').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AnugerahPingat) {
                            responsiveHelper_datatable_AnugerahPingat = new ResponsiveDatatablesHelper($('#datatable_AnugerahPingat'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AnugerahPingat.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AnugerahPingat.respond();
                    },
                    "scrollX": true,
                });
                $('#datatable_AnugerahCemerlang').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AnugerahCemerlang) {
                            responsiveHelper_datatable_AnugerahCemerlang = new ResponsiveDatatablesHelper($('#datatable_AnugerahCemerlang'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AnugerahCemerlang.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AnugerahCemerlang.respond();
                    }
                });
                $('#datatable_Tatatertib').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Tatatertib) {
                            responsiveHelper_datatable_Tatatertib = new ResponsiveDatatablesHelper($('#datatable_Tatatertib'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Tatatertib.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Tatatertib.respond();
                    },
                    //"scrollX": true,
                });

                $('#datatable_Cuti').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Cuti) {
                            responsiveHelper_datatable_Cuti = new ResponsiveDatatablesHelper($('#datatable_Cuti'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Cuti.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Cuti.respond();
                    },
                    //"scrollX": true,
                });
                /* END TABLETOOLS */
                /*var $mKakitangan = $('#mKakitangan').validate({
                    // Rules for form validation
                    rules: {
                        HR_NO_PEKERJA: {
                            required: true,
                            number: true,
                            maxlength: 5,
                            minlength: 5
                        },
                        HR_NAMA_PEKERJA: {
                            required: true
                        },
                        HR_NO_KPBARU: {
                            required: true,
                            number: true,
                            maxlength: 12,
                            minlength: 12
                        }
                    },

                    // Messages for form validation
                    messages: {
                        HR_NO_PEKERJA: {
                            required: 'Sila masukkan no pekerja',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 5 digit nombor'
                        },
                        HR_NAMA_PEKERJA: {
                            required: 'Sila masukkan nama pekerja'

                        },
                        HR_NO_KPBARU: {
                            required: 'Sila masukkan no kad pengenalan',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 12 digit nombor'
                        }

                    },

                    // Do not change code below
                    errorPlacement: function (error, element) {
                        error.insertAfter(element.parent());
                    }
                });*/

                var $mKakitangan = $('#mKakitangan').validate({
                    // Rules for form validation
                    rules: {
                        'HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA': {
                            required: true,
                            number: true,
                            maxlength: 5,
                            minlength: 5
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_NAMA_PEKERJA': {
                            required: true
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_NO_KPBARU': {
                            required: true,
                            number: true,
                            maxlength: 12,
                            minlength: 12
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_EMAIL': {
                            required: true,
                            email: true
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR': {
                            required: true
                        },
                        'HR_MAKLUMAT_PEWARIS.HR_NO_KP':
                        {
                            required: function () {
                                return $("#mPewaris-btn").is(":checked");
                            }
                        }
                    },

                    // Messages for form validation
                    messages: {
                        HR_NO_PEKERJA: {
                            required: 'Sila masukkan no pekerja',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 5 digit nombor'
                        },
                        HR_NAMA_PEKERJA: {
                            required: 'Sila masukkan nama pekerja'

                        },
                        HR_NO_KPBARU: {
                            required: 'Sila masukkan no kad pengenalan',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 12 digit nombor'
                        },
                        HR_EMAIL: {
                            required: 'Sila masukkan e-mel',
                            email: 'Sila masukkan e-mel dengan betul'
                        },
                        HR_TARIKH_LAHIR: {
                            required: 'Sila masukkan tarik lahir'
                        },
                        'HR_MAKLUMAT_PEWARIS.HR_NO_KP':
                        {
                            required: 'Sila masukkan no. kad pengenalan'
                        }
                    },

                    // Do not change code below
                    errorPlacement: function (error, element) {
                        error.insertAfter(element.parent());
                    }
                });

            });

            var mmm = $('#datatable_PengalamanKerjaMPPJ tr').length;
        $(function () {

            $(document).on('click', '#Pekerjaan .btn-add-history', function (e) {
                e.preventDefault();

                var controlForm = $('#Pekerjaan #datatable_PengalamanKerjaMPPJ'),
                    currentEntry = $('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:last'),
                    newEntry = $(currentEntry.clone()).appendTo(controlForm);
                newEntry.find('input').val('');
                newEntry.find('select').val('');

                var currentDate = new Date();



                /*controlForm.find('tr:not(:last) .btn-add-PengalamanKerjaMPPJ')
                    .removeClass('btn-add-PengalamanKerjaMPPJ').addClass('btn-remove-PengalamanKerjaMPPJ')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');*/

                var g = 0;

                if ($('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:not(:first)').length > 1)
                {
                    $('#Pekerjaan .btn-remove-history').removeAttr("disabled");
                }
                $('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:not(:first)').each(function () {

                    var name = $(this).find("input, select");

                    var nom = $(this).find("span#num");
                    nom.each(function () {
                        $(this).html(g+1);
                    })
                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if(s.length > 1)
                        {
                            $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEKERJAAN_HISTORY_" + g + "__" + s[1])
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEKERJAAN_HISTORY[" + g + "]." + s[1])
                        }
                    })
                    g++;

                });

                var l = $('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:not(:first)').length - 1;

                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_NO_PEKERJA']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_NO_PEKERJA']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_PERUBAHAN']").val($.datepicker.formatDate('dd/mm/yy', currentDate))
                newEntry.find("select[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JABATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JABATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_BAHAGIAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_UNIT']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_GRED']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_GRED']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KATEGORI']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_KATEGORI']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KUMP_PERKHIDMATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_KUMP_PERKHIDMATAN']").val())
                newEntry.find("select[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JAWATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JAWATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JAWATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JAWATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARAF_JAWATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_SAH_JAWATAN']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_NO_PENYELIA']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_NO_PENYELIA']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_MATRIKS_GAJI']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_MATRIKS_GAJI']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KUMPULAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_KUMPULAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TINGKATAN']").val($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_TINGKATAN']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KOD_GAJI']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_KOD_GAJI']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_NP_UBAH']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_NP_UBAH']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_MASUK']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val())
                newEntry.find("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_MASUK']").val()

                $(this).attr("disabled", "disabled")

            }).on('click', '#Pekerjaan .btn-remove-history', function (e) {
                if ($('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:not(:first)').length == 2)
                {
                    $('#Pekerjaan .btn-remove-history').attr("disabled", "disabled")
                }

                    $(this).parents('tr:first').remove();
                    //mmm = $('#datatable_PengalamanKerjaMPPJ tr').length;
                    var g = 0;

                    $('#Pekerjaan #datatable_PengalamanKerjaMPPJ tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEKERJAAN_HISTORY_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEKERJAAN_HISTORY[" + g + "]." + s[1])

                                if(s[1] == "HR_TARIKH_PERUBAHAN" && $(this).val() == $.datepicker.formatDate('dd/mm/yy', currentDate))
                                {
                                    $('#Pekerjaan .btn-add-history').attr("disabled", "disabled");
                                }
                                else {
                                    $('#Pekerjaan .btn-add-history').removeAttr("disabled");
                                }
                            }
                        })
                        g++;

                    });
                e.preventDefault();
                return false;
            })
              var co = 0
              $('#datatable_PengalamanKerjaMPPJ tr:not(:first)').each(function () {
                  var name = $(this).find("input, select");
                  name.each(function () {

                      var splitName = $(this).attr("name");
                      var s = splitName.split('.');
                      //console.log(s);
                      if (s.length > 1) {
                          $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEKERJAAN_HISTORY_" + co + "__" + s[1])
                          $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEKERJAAN_HISTORY[" + (co) + "]." + s[1])
                      }
                  })

                /*if (co > 0)
                {
                    $(this).find('.btn-add-PengalamanKerjaMPPJ').removeAttr('id').attr("id", "btn-add-PengalamanKerjaMPPJ" + co)
                    .removeClass('btn-add-PengalamanKerjaMPPJ').addClass('btn-remove-PengalamanKerjaMPPJ')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');
                }*/
                $(this).find('#num').html(co + 1);

                co++
              })

            /*$('#datatable_PengalamanKerjaMPPJ tr:not(:last) .btn-add-PengalamanKerjaMPPJ')
                      .removeClass('btn-add-PengalamanKerjaMPPJ').addClass('btn-remove-PengalamanKerjaMPPJ')
                      .removeClass('btn-success').addClass('btn-danger')
                      .html('<span class="glyphicon glyphicon-minus"></span>');*/
        });

        $(function () {
            $(document).on('click', '#Kemahiran .btn-add-PengalamanKerja', function (e) {
                e.preventDefault();

                var controlForm = $('#Kemahiran #datatable_PengalamanKerja'),
                    currentEntry = $(this).parents('tr:first'),
                    newEntry = $(currentEntry.clone()).appendTo(controlForm);

                newEntry.find('input').val('');
                newEntry.find('textarea').val('');
                controlForm.find('tr:not(:last) .btn-add-PengalamanKerja')
                    .removeClass('btn-add-PengalamanKerja').addClass('btn-remove-PengalamanKerja')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');

                var g = 0;

                $('#Kemahiran #datatable_PengalamanKerja tr:not(:first)').each(function () {

                    var name = $(this).find("input, textarea");

                    var nom = $(this).find("span#num");
                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {

                            /*if ($('#mPekerjaan-btn').is(':checked') == true) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g + mmm - 1) + "]." + s[1])
                            }
                            else {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g) + "]." + s[1])
                            }*/

                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g) + "]." + s[1])

                            if (s[1] == "HR_TARIKH_MULA") {
                                $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                .datepicker({
                                    changeMonth: true,
                                    changeYear: true,
                                    dateFormat: 'dd/mm/yy',
                                    prevText: '<i class="fa fa-chevron-left"></i>',
                                    nextText: '<i class="fa fa-chevron-right"></i>',
                                    onSelect: function (selectedDate) {
                                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                    }
                                });
                            }
                            if (s[1] == "HR_TARIKH_TAMAT") {
                                $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                .datepicker({
                                    changeMonth: true,
                                    changeYear: true,
                                    dateFormat: 'dd/mm/yy',
                                    prevText: '<i class="fa fa-chevron-left"></i>',
                                    nextText: '<i class="fa fa-chevron-right"></i>',
                                    onSelect: function (selectedDate) {
                                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                    }
                                });
                            }
                        }

                    })
                    g++;
                    //var spliteanme = name.split('.')
                    //console.log(spliteanme[0])
                });

            }).on('click', '#Kemahiran .btn-remove-PengalamanKerja', function (e) {
                $(this).parents('tr:first').remove();

                var g = 0;

                $('#Kemahiran #datatable_PengalamanKerja tr:not(:first)').each(function () {

                    var name = $(this).find("input, textarea");

                    var nom = $(this).find("span#num");
                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');

                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g) + "]." + s[1])

                    })
                    g++;

                });

                e.preventDefault();
                return false;
            })
            var co = 0

            $('#datatable_PengalamanKerja tr:not(:first)').each(function () {

                var name = $(this).find("input, textarea");

                name.each(function () {

                    var splitName = $(this).attr("name");
                    var s = splitName.split('.');

                    $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (co) + "]." + s[1])

                })


                $(this).find('#num').html(co + 1);
                co++
            })
            $('#datatable_PengalamanKerja tr:not(:last) .btn-add-PengalamanKerja')
                      .removeClass('btn-add-PengalamanKerja').addClass('btn-remove-PengalamanKerja')
                      .removeClass('btn-success').addClass('btn-danger')
                      .html('<span class="glyphicon glyphicon-minus"></span>');

        });

        $(function () {
            $(document).on('click', '#Kemahiran .btn-add-KemahiranBahasa', function (e) {
                e.preventDefault();
                var countRow = $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').length;
                var countBahasa = $(this).parents('tr:first').find("#HR_BAHASA option").length;
                var controlForm = $('#Kemahiran #datatable_KemahiranBahasa');
                if ((parseInt(countBahasa) - 1) > parseInt(countRow))
                {

                    var currentEntry = $(this).parents('tr:first'),
                    newEntry = $(currentEntry.clone()).appendTo(controlForm);



                    newEntry.find('input').val('');
                    newEntry.find('select').val('');
                    newEntry.find('textarea').val('');


                    controlForm.find('tr:not(:last) .btn-add-KemahiranBahasa')
                        .removeClass('btn-add-KemahiranBahasa').addClass('btn-remove-KemahiranBahasa')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
                    if(((parseInt(countBahasa) - 2) - parseInt(countRow)) <= 0)
                    {
                        controlForm.find('tr:last .btn-add-KemahiranBahasa')
                        .removeClass('btn-add-KemahiranBahasa').addClass('btn-remove-KemahiranBahasa')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
                    }

                }

                var g = 0;

                $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').each(function () {

                    var name = $(this).find("select, input");
                    var nom = $(this).find("span#num");

                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + g + "]." + s[1]);
                        }
                    })
                    var btn = $(this).find(".btn-remove-KemahiranBahasa, .btn-add-KemahiranBahasa");
                    btn.each(function () {
                        $(this).removeAttr("id").attr("id", "btn-add-KemahiranBahasa" + g);
                    })

                    g++;
                });

                var tt = 0
                $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').each(function () {
                    var vv = $(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']")

                    if ($(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']").val() != "" || $(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']").val() != null) {
                        var prevValue = $(vv).data('previous');
                        $('select').not(vv).find('option[value="' + prevValue + '"]').show();
                        var value = $(vv).val();
                        $(vv).data('previous', value); $('select').not(vv).find('option[value="' + value + '"]').hide();
                        if (tt >= 4)
                        {
                            $('select').not(vv).find('option[value="' + prevValue + '"]').show();
                            var value = $(vv).val();
                            $(vv).data('previous', value); $('select').not(vv).find('option[value="' + value + '"]').hide();
                        }
                        tt++;
                    }

                })

            }).on('click', '#Kemahiran .btn-remove-KemahiranBahasa', function (e) {
                var countRow = $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').length;
                var countBahasa = $(this).parents('tr:first').find("#HR_BAHASA option").length;
                var controlForm = $('#Kemahiran #datatable_KemahiranBahasa');
                controlForm.find('tr:last .btn-remove-KemahiranBahasa')
                        .removeClass('btn-remove-KemahiranBahasa').addClass('btn-add-KemahiranBahasa')
                        .removeClass('btn-danger').addClass('btn-success')
                        .html('<span class="glyphicon glyphicon-plus"></span>');
                if ($(this).attr("id") == controlForm.find('tr:last .btn-add-KemahiranBahasa').attr("id"))
                {
                    controlForm.find('tr:last').prev().find('.btn-remove-KemahiranBahasa')
                        .removeClass('btn-remove-KemahiranBahasa').addClass('btn-add-KemahiranBahasa')
                        .removeClass('btn-danger').addClass('btn-success')
                        .html('<span class="glyphicon glyphicon-plus"></span>');
                }

                var vv = $(this).parents('tr').find("select[id='HR_BAHASA']").val();
                console.log(vv);
                $(this).parents('tr:first').remove();
                var g = 0;

                $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').each(function () {

                    var name = $(this).find("select, input");

                    var nom = $(this).find("span#num");
                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + g + "]." + s[1])
                        }
                    })
                    var btn = $(this).find(".btn-remove-KemahiranBahasa, .btn-add-KemahiranBahasa");
                    btn.each(function () {
                        $(this).removeAttr("id").attr("id", "btn-add-KemahiranBahasa" + g);
                    })
                    g++;
                    //var spliteanme = name.split('.')
                    //console.log(spliteanme[0])
                });

                var tt = 0

                $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').each(function () {

                    $(this).find("option[value='" + vv + "']").show()
                    tt++;
                })

                e.preventDefault();
                return false;
            })
            var co = 0;

            $('#datatable_KemahiranBahasa tr:not(:first)').each(function () {
                var name = $(this).find("select, input");
                var lol = new Array();
                name.each(function () {

                    var splitName = $(this).attr("name");
                    var s = splitName.split('.');
                    //console.log(s);
                    if (s.length > 1) {
                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + (co) + "]." + s[1])
                    }

                })

                var btn = $(this).find(".btn-remove-KemahiranBahasa, .btn-add-KemahiranBahasa");
                btn.each(function () {
                    $(this).removeAttr("id").attr("id", "btn-add-KemahiranBahasa" + co);
                })

                $(this).find('#num').html(co + 1);
                co++

            });

            $('#datatable_KemahiranBahasa tr:not(:last) .btn-add-KemahiranBahasa')
                    .removeClass('btn-add-KemahiranBahasa').addClass('btn-remove-KemahiranBahasa')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');

            $('select[id="HR_BAHASA"]').on('change', function (event) {

                var prevValue = $(this).data('previous');
                if (prevValue != null || prevValue != "")
                {
                    $('select').not(this).find('option[value="' + prevValue + '"]').show();
                    var value = $(this).val();
                    $(this).data('previous', value); $('select').not(this).find('option[value="' + value + '"]').hide();
                }

            });

            var tt = 0
            $('#Kemahiran #datatable_KemahiranBahasa tr:not(:first)').each(function () {
                var vv = $(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']")

                if ($(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']").val() != "" || $(this).find("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + tt + "].HR_BAHASA']").val() != null)
                {
                    var prevValue = $(vv).data('previous');
                    $('select').not(vv).find('option[value="' + prevValue + '"]').show();
                    var value = $(vv).val();
                    $(vv).data('previous', value); $('select').not(vv).find('option[value="' + value + '"]').hide();
                    tt++;
                }

            })
        });

        $(function () {
            $(document).on('click', '#Kemahiran .btn-add-KemahiranTeknikal', function (e) {
                e.preventDefault();

                var controlForm = $('#Kemahiran #datatable_KemahiranTeknikal'),
                    currentEntry = $(this).parents('tr:first'),
                    newEntry = $(currentEntry.clone()).appendTo(controlForm);
                newEntry.find('input').val('');
                newEntry.find('select').val('');

                controlForm.find('tr:not(:last) .btn-add-KemahiranTeknikal')
                    .removeClass('btn-add-KemahiranTeknikal').addClass('btn-remove-KemahiranTeknikal')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');

                var g = 0;

                $('#Kemahiran #datatable_KemahiranTeknikal tr:not(:first)').each(function () {

                    var name = $(this).find("select,input");

                    var nom = $(this).find("span#num");


                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + g + "]." + s[1]);

                        }
                    })
                    g++;
                });

            }).on('click', '#Kemahiran .btn-remove-KemahiranTeknikal', function (e) {
                $(this).parents('tr:first').remove();
                var g = 0;

                $('#Kemahiran #datatable_KemahiranTeknikal tr:not(:first)').each(function () {

                    var name = $(this).find("select, input");

                    var nom = $(this).find("span#num");
                    nom.each(function () {
                        $(this).html(g + 1);
                    })

                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + g + "]." + s[1])
                        }

                    })
                    g++;
                });

                e.preventDefault();
                return false;
            })
            var co = 0;

            $('#datatable_KemahiranTeknikal tr:not(:first)').each(function () {
                var name = $(this).find("select, input");
                var lol = new Array();
                name.each(function () {

                    var splitName = $(this).attr("name");
                    var s = splitName.split('.');
                    //console.log(s);
                    if (s.length > 1) {
                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + (co) + "]." + s[1])
                    }

                })
                $(this).find('#num').html(co + 1);
                co++

            });
            $('#datatable_KemahiranTeknikal tr:not(:last) .btn-add-KemahiranTeknikal')
                    .removeClass('btn-add-KemahiranTeknikal').addClass('btn-remove-KemahiranTeknikal')
                    .removeClass('btn-success').addClass('btn-danger')
                    .html('<span class="glyphicon glyphicon-minus"></span>');
        });

            $(function () {
                $(document).on('click', '#Akademik .btn-add-Kelayakan', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Akademik #datatable_Kelayakan'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');

                    controlForm.find('tr:not(:last) .btn-add-Kelayakan')
                        .removeClass('btn-add-Kelayakan').addClass('btn-remove-Kelayakan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Akademik #datatable_Kelayakan tr:not(:first)').each(function () {

                        var name = $(this).find("input");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KELAYAKAN[" + g + "]." + s[1]);
                            }
                        })
                        g++;
                    });

                }).on('click', '#Akademik .btn-remove-Kelayakan', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Akademik #datatable_Kelayakan tr:not(:first)').each(function () {

                        var name = $(this).find("input");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KELAYAKAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Kelayakan tr:not(:first)').each(function () {
                    var name = $(this).find("input");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KELAYAKAN[" + (co) + "]." + s[1])
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Kelayakan tr:not(:last) .btn-add-Kelayakan')
                        .removeClass('btn-add-Kelayakan').addClass('btn-remove-Kelayakan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
            });

            $(function () {
                $(document).on('click', '#Akademik .btn-add-Sijil', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Akademik #datatable_Sijil'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);
                    newEntry.find('input').val('');
                    newEntry.find('select').val('');
                    controlForm.find('tr:not(:last) .btn-add-Sijil')
                        .removeClass('btn-add-Sijil').addClass('btn-remove-Sijil')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Akademik #datatable_Sijil tr:not(:first)').each(function () {

                        var name = $(this).find("input");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_SIJIL[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_DIPEROLEHI") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });

                }).on('click', '#Akademik .btn-remove-Sijil', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Akademik #datatable_Sijil tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_SIJIL[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Sijil tr:not(:first)').each(function () {
                    var name = $(this).find("input");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_SIJIL[" + (co) + "]." + s[1])
                        }
                    })
                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Sijil tr:not(:last) .btn-add-Sijil')
                        .removeClass('btn-add-Sijil').addClass('btn-remove-Sijil')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
            });

            $(function () {
                $(document).on('click', '#Akademik .btn-add-Kursus', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Akademik #datatable_Kursus'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Kursus')
                        .removeClass('btn-add-Kursus').addClass('btn-remove-Kursus')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Akademik #datatable_Kursus tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURSUS_LATIHAN[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_TAMAT") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });

                }).on('click', '#Akademik .btn-remove-Kursus', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Akademik #datatable_Kursus tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURSUS_LATIHAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Kursus tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURSUS_LATIHAN[" + (co) + "]." + s[1])
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Kursus tr:not(:last) .btn-add-Kursus')
                        .removeClass('btn-add-Kursus').addClass('btn-remove-Kursus')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
            });

            $(function () {
                $(document).on('click', '#Akademik .btn-add-AktivitiLuar', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Akademik #datatable_AktivitiLuar'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-AktivitiLuar')
                        .removeClass('btn-add-AktivitiLuar').addClass('btn-remove-AktivitiLuar')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Akademik #datatable_AktivitiLuar tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_AKTIVITI[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_AKTIVITI") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });

                }).on('click', '#Akademik .btn-remove-AktivitiLuar', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Akademik #datatable_AktivitiLuar tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_AKTIVITI[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_AktivitiLuar tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_AKTIVITI[" + (co) + "]." + s[1])
                        }
                        if (s[1] == "KEPUTUSAN") {
                            $(this).RemoveAttr("disabled").attr("disabled", "disabled")
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_AktivitiLuar tr:not(:last) .btn-add-AktivitiLuar')
                        .removeClass('btn-add-AktivitiLuar').addClass('btn-remove-AktivitiLuar')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
            });

            $(function () {
                $(document).on('click', '#Pewaris .tambah-waris', function (e) {
                    e.preventDefault();

                    var controlForm = $('#form-Pewaris'),
                        currentEntry = $("#clone-pewaris:last"),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    controlForm.find('.tambah-waris:not(:first)')
                        .removeClass('tambah-waris').addClass('padam-waris')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var name = currentEntry.find('input, select')
                    var length = $("#Pewaris #clone-pewaris").length;


                    if (length > 1) {
                        $("#Pewaris .padam-waris").removeAttr('disabled');
                        $("#Pewaris .tambah-waris").attr('disabled', 'disabled');
                    }
                    else {
                        $("#Pewaris .padam-waris").attr('disabled', 'disabled');
                    }

                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var newClone = newEntry.find('input, select')
                        var s = splitName.split('.');
                        if (s.length > 1) {

                            newClone.each(function () {
                                var splitName2 = $(this).attr("name");
                                var s2 = splitName2.split('.');
                                if (s[1] == s2[1]) {
                                    if (s2.length > 1) {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEWARIS[" + (length-1) + "]." + s2[1]);
                                        $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEWARIS_" + (length - 1) + "__" + s2[1]);
                                        if (s2[1] == "HR_TARIKH_LAHIR") {
                                            $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                            .datepicker({
                                                changeMonth: true,
                                                changeYear: true,
                                                dateFormat: 'dd/mm/yy',
                                                prevText: '<i class="fa fa-chevron-left"></i>',
                                                nextText: '<i class="fa fa-chevron-right"></i>',
                                                onSelect: function (selectedDate) {
                                                    //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                                }
                                            });
                                        }
                                    }
                                }
                            })


                        }
                    })

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');
                    newEntry.find('#text-pewaris').text("Kedua")

                }).on('click', '#Pewaris .padam-waris', function (e) {
                    var length = $("#Pewaris #clone-pewaris").length;
                    if (length == 2) {
                        $("#Pewaris .padam-waris").attr('disabled', 'disabled');
                        $("#Pewaris .tambah-waris").removeAttr('disabled');
                    }

                    $(this).parents('#clone-pewaris:first').remove();



                    e.preventDefault();
                    return false;
                })
                $('.tambah-waris:not(:first)')
                      .removeClass('tambah-waris').addClass('padam-waris')
                      .removeClass('btn-success').addClass('btn-danger')
                      .html('<span class="glyphicon glyphicon-minus"></span>');
            });

            $(function () {
                $(document).on('click', '#Tanggungan .btn-add-Tanggungan', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Tanggungan #datatable_Tanggungan'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Tanggungan')
                        .removeClass('btn-add-Tanggungan').addClass('btn-remove-Tanggungan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Tanggungan #datatable_Tanggungan tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {

                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_TANGGUNGAN[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_LAHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                            $.ajax({
                                                url: "MaklumatKakitangan/KiraUmur",
                                                data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                                                contentType: "application/json; charset=utf-8",
                                                type: 'GET',
                                                dataType: "json",
                                                success: function (data) {

                                                    $("input[name='HR_MAKLUMAT_TANGGUNGAN[" + (g-1) + "].HR_UMUR']").val(data);
                                                }
                                            })
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });

                }).on('click', '#Tanggungan .btn-remove-Tanggungan', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Tanggungan #datatable_Tanggungan tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_TANGGUNGAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Tanggungan tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_TANGGUNGAN[" + (co) + "]." + s[1])
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Tanggungan tr:not(:last) .btn-add-Tanggungan')
                        .removeClass('btn-add-Tanggungan').addClass('btn-remove-Tanggungan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

            });

            $(function () {
                $(document).on('click', '#Gaji .btn-add-Gaji', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Gaji #datatable_Gaji'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    //newEntry.find('textarea').val('');
                    newEntry.find('select').val('');


                    controlForm.find('tr:not(:last) .btn-add-Gaji')
                        .removeClass('btn-add-Gaji').addClass('btn-remove-Gaji')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Gaji #datatable_Gaji tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_G[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_AKHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });
                }).on('click', '#Gaji .btn-remove-Gaji', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_Gaji tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_G[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Gaji tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_G[" + (co) + "]." + s[1])
                        }
                    })


                    $(this).find('#num').html(co + 1);
                    co++

                });

                $("#datatable_Gaji").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {

                    var name = $(this).attr('name');
                    var sname = name.split('.')
                    $("#datatable_Gaji input[name='" + sname[0] + ".HR_KOD']").val($(this).val());
                });

                $('#datatable_Gaji tr:not(:last) .btn-add-Gaji')
                        .removeClass('btn-add-Gaji').addClass('btn-remove-Gaji')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                $("#datatable_Gaji").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", tr).val("T");
                })

                $("#datatable_Gaji").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR", tr).val();

                    $.get("MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND", tr).val(data);
                        }
                    }, "Json")
                })

            });

            $(function () {
                $(document).on('click', '#Gaji .btn-add-Elaun', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Gaji #datatable_Elaun'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    //newEntry.find('textarea').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Elaun')
                        .removeClass('btn-add-Elaun').addClass('btn-remove-Elaun')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Gaji #datatable_Elaun tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_E[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_AKHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                //if (s[1] == "HR_MATRIKS_GAJI_PT" || s[1] == "HR_GRED_PT" || s[1] == "HR_UBAH_IND" || s[1] == "HR_TARIKH_UBAH" || s[1] == "HR_TARIKH_KEYIN" || s[1] == "HR_NO_PEKERJA_PT" || s[1] == "HR_HARI_BEKERJA" || s[1] == "HR_BAKI" || s[1] == "HR_PENERANGAN" || s[1] == "HR_KOD") {
                                //    $(this).val("");
                                //}
                            }
                        })
                        g++;
                    });
                }).on('click', '#Gaji .btn-remove-Elaun', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_Elaun tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_E[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Elaun tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_E[" + (co) + "]." + s[1])
                        }
                    })


                    $(this).find('#num').html(co + 1);
                    co++

                });

                $('#datatable_Elaun tr:not(:last) .btn-add-Elaun')
                        .removeClass('btn-add-Elaun').addClass('btn-remove-Elaun')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                $("#datatable_Elaun").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {

                    var name = $(this).attr('name');
                    var sname = name.split('.');

                    $("#datatable_Elaun input[name='" + sname[0] + ".HR_JUMLAH']").val("");
                    $.getJSON("MaklumatKakitangan/JumElaun?HR_KOD=" + $(this).val(), function (data) {
                        $("#datatable_Elaun input[name='" + sname[0] + ".HR_JUMLAH']").val(data);
                    })

                    $("#datatable_Elaun input[name='" + sname[0] + ".HR_KOD']").val($(this).val());
                })

                $("#datatable_Elaun").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", tr).val("T");
                })

                $("#datatable_Elaun").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR", tr).val();

                    $.get("MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND", tr).val(data);
                        }
                    }, "Json")
                })

            });

            $(function () {
                $(document).on('click', '#Gaji .btn-add-Potongan', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Gaji #datatable_Potongan'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    //newEntry.find('textarea').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Potongan')
                        .removeClass('btn-add-Potongan').addClass('btn-remove-Potongan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Gaji #datatable_Potongan tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_P[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_AKHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                //if (s[1] == "HR_MATRIKS_GAJI_PT" || s[1] == "HR_GRED_PT" || s[1] == "HR_UBAH_IND" || s[1] == "HR_TARIKH_UBAH" || s[1] == "HR_TARIKH_KEYIN" || s[1] == "HR_NO_PEKERJA_PT" || s[1] == "HR_HARI_BEKERJA" || s[1] == "HR_BAKI" || s[1] == "HR_PENERANGAN" || s[1] == "HR_KOD") {
                                //    $(this).val("");
                                //}
                            }
                        })
                        g++;
                    });
                }).on('click', '#Gaji .btn-remove-Potongan', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_Potongan tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_P[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Potongan tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_P[" + (co) + "]." + s[1])
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });

                $('#datatable_Potongan tr:not(:last) .btn-add-Potongan')
                        .removeClass('btn-add-Potongan').addClass('btn-remove-Potongan')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                $("#datatable_Potongan").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {

                    var name = $(this).attr('name');
                    var sname = name.split('.')

                    $("#datatable_Potongan input[name='" + sname[0] + ".HR_JUMLAH']").val("");
                    $.getJSON("MaklumatKakitangan/JumPotongan?HR_KOD=" + $(this).val(), function (data) {
                        $("#datatable_Potongan input[name='" + sname[0] + ".HR_JUMLAH']").val(data);
                    })

                    $("#datatable_Potongan input[name='" + sname[0] + ".HR_KOD']").val($(this).val());
                })

                $("#datatable_Potongan").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", tr).val("T");
                })

                $("#datatable_Potongan").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR", tr).val();

                    $.get("MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND", tr).val(data);
                        }
                    }, "Json")
                })

            });

            $(function () {
                $(document).on('click', '#Gaji .btn-add-Caruman', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Gaji #datatable_Caruman'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    //newEntry.find('textarea').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Caruman')
                        .removeClass('btn-add-Caruman').addClass('btn-remove-Caruman')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Gaji #datatable_Caruman tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_C[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_AKHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                //if (s[1] == "HR_MATRIKS_GAJI_PT" || s[1] == "HR_GRED_PT" || s[1] == "HR_UBAH_IND" || s[1] == "HR_TARIKH_UBAH" || s[1] == "HR_TARIKH_KEYIN" || s[1] == "HR_NO_PEKERJA_PT" || s[1] == "HR_HARI_BEKERJA" || s[1] == "HR_BAKI" || s[1] == "HR_PENERANGAN" || s[1] == "HR_KOD") {
                                //    $(this).val("");
                                //}
                            }
                        })
                        g++;
                    });
                }).on('click', '#Gaji .btn-remove-Caruman', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_Caruman tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_C[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Caruman tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_C[" + (co) + "]." + s[1])
                        }
                    })

                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Caruman tr:not(:last) .btn-add-Caruman')
                        .removeClass('btn-add-Caruman').addClass('btn-remove-Caruman')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
                $("#datatable_Caruman").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {

                    var name = $(this).attr('name');
                    var sname = name.split('.')
                    $("#datatable_Elaun input[name='" + sname[0] + ".HR_JUMLAH']").val("");
                    $.getJSON("MaklumatKakitangan/JumCaruman?HR_KOD=" + $(this).val(), function (data) {
                        $("#datatable_Elaun input[name='" + sname[0] + ".HR_JUMLAH']").val(data);
                    })
                    $("#datatable_Caruman input[name='" + sname[0] + ".HR_KOD']").val($(this).val());
                })

                $("#datatable_Caruman").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", tr).val("T");
                })

                $("#datatable_Caruman").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR", tr).val();

                    $.get("MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND", tr).val(data);
                        }
                    }, "Json")
                })

            });

            $(function () {
                $(document).on('click', '#Anugerah .btn-add-AnugerahPingat', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Anugerah #datatable_AnugerahPingat'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-AnugerahPingat')
                        .removeClass('btn-add-AnugerahPingat').addClass('btn-remove-AnugerahPingat')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Anugerah #datatable_AnugerahPingat tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURNIAAN[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_PENCALONAN") {
                                    $(this).attr({ "id": "" }).removeClass('datepickerAnugerahPingat1').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_KURNIAAN") {
                                    $(this).attr({ "id": "" }).removeClass('datepickerAnugerahPingat2').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });
                }).on('click', '#Anugerah .btn-remove-AnugerahPingat', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_AnugerahPingat tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURNIAAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_AnugerahPingat tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURNIAAN[" + (co) + "]." + s[1])
                        }
                    })


                    $(this).find('#num').html(co + 1);
                    co++

                });

                $('#datatable_AnugerahPingat tr:not(:last) .btn-add-AnugerahPingat')
                        .removeClass('btn-add-AnugerahPingat').addClass('btn-remove-AnugerahPingat')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                $("#datatable_AnugerahPingat").on("input", "select,input", function () {

                    var name = $(this).attr('name');
                    var sname = name.split('.')
                    if (sname[1] == "HR_NEGERI") {
                        $("select[name='" + sname[0] + ".HR_KOD_KURNIAAN']").val("");
                        if ($(this).val() == "N ") {
                            $("select[name='" + sname[0] + ".HR_KOD_KURNIAAN']").find("option[value*='DN']").hide();
                            $("select[name='" + sname[0] + ".HR_KOD_KURNIAAN']").find("option[value*='DP']").show();
                        }
                        if ($(this).val() == "P ") {

                            $("select[name='" + sname[0] + ".HR_KOD_KURNIAAN']").find("option[value*='DP']").hide();
                            $("select[name='" + sname[0] + ".HR_KOD_KURNIAAN']").find("option[value*='DN']").show();
                        }
                    }
                    if (sname[1] == "HR_NAMA_PENCALON") {
                        $("input[name='" + sname[0] + ".HR_NP_PENCALON']").val("");
                        $.ajax({
                            url: "MaklumatKakitangan/CariNoPekerja",
                            data: { "id": $(this).val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                $("input[name='" + sname[0] + ".HR_NP_PENCALON']").val(data)
                            }
                        })
                    }

                });
                $("#HR_ANUGERAH_HAJI_HR_NAMA_UP").on('input', function () {

                    $.ajax({
                        url: "MaklumatKakitangan/CariNoPekerja",
                        data: { "id": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#HR_ANUGERAH_HAJI_HR_NP_UP").val(data)
                        }
                    })
                })
                $("#HR_ANUGERAH_HAJI_HR_NAMA_YDP").on('input', function () {

                    $.ajax({
                        url: "MaklumatKakitangan/CariNoPekerja",
                        data: { "id": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#HR_ANUGERAH_HAJI_HR_NP_YDP").val(data)
                        }
                    })
                })
            });

            $(function () {
                $(document).on('click', '#Anugerah .btn-add-AnugerahCemerlang', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Anugerah #datatable_AnugerahCemerlang'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-AnugerahCemerlang')
                        .removeClass('btn-add-AnugerahCemerlang').addClass('btn-remove-AnugerahCemerlang')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Anugerah #datatable_AnugerahCemerlang tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_ANUGERAH_CEMERLANG[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_PENERIMAAN") {
                                    $(this).attr({ "id": "" }).removeClass('HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }

                            }
                        })
                        g++;
                    });
                }).on('click', '#Anugerah .btn-remove-AnugerahCemerlang', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Gaji #datatable_AnugerahCemerlang tr:not(:first)').each(function () {

                        var name = $(this).find("input, select");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_ANUGERAH_CEMERLANG[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_AnugerahCemerlang tr:not(:first)').each(function () {
                    var name = $(this).find("input, select");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_ANUGERAH_CEMERLANG[" + (co) + "]." + s[1])
                        }
                    })


                    $(this).find('#num').html(co + 1);
                    co++

                });

                $('#datatable_AnugerahCemerlang tr:not(:last) .btn-add-AnugerahCemerlang')
                        .removeClass('btn-add-AnugerahCemerlang').addClass('btn-remove-AnugerahCemerlang')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                $("#HR_ANUGERAH_HAJI_HR_NAMA_UP").on('input', function () {

                    $.ajax({
                        url: "MaklumatKakitangan/CariNoPekerja",
                        data: { "id": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#HR_ANUGERAH_HAJI_HR_NP_UP").val(data)
                        }
                    })
                })
                $("#HR_ANUGERAH_HAJI_HR_NAMA_YDP").on('input', function () {

                    $.ajax({
                        url: "MaklumatKakitangan/CariNoPekerja",
                        data: { "id": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#HR_ANUGERAH_HAJI_HR_NP_YDP").val(data)
                        }
                    })
                })
            });

            $(function () {
                $(document).on('click', '#Tatatertib .btn-add-Tatatertib', function (e) {
                    e.preventDefault();

                    var controlForm = $('#Tatatertib #datatable_Tatatertib'),
                        currentEntry = $(this).parents('tr:first'),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);
                    newEntry.find('input').val('');
                    newEntry.find('textarea').val('');
                    newEntry.find('select').val('');

                    controlForm.find('tr:not(:last) .btn-add-Tatatertib')
                        .removeClass('btn-add-Tatatertib').addClass('btn-remove-Tatatertib')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var g = 0;

                    $('#Tatatertib #datatable_Tatatertib tr:not(:first)').each(function () {

                        var name = $(this).find("input, select, textarea");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })
                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_TINDAKAN_DISIPLIN[" + g + "]." + s[1]);
                                if (s[1] == "HR_TARIKH_MULA") {
                                    $(this).attr({ "id": "" }).removeClass('HR_TARIKH_MULA_TINDAKAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_AKHIR") {
                                    $(this).attr({ "id": "" }).removeClass('HR_TARIKH_AKHIR_TINDAKAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                                if (s[1] == "HR_TARIKH_KESALAHAN") {
                                    $(this).attr({ "id": "" }).removeClass('HR_TARIKH_KESALAHAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                    .datepicker({
                                        changeMonth: true,
                                        changeYear: true,
                                        dateFormat: 'dd/mm/yy',
                                        prevText: '<i class="fa fa-chevron-left"></i>',
                                        nextText: '<i class="fa fa-chevron-right"></i>',
                                        onSelect: function (selectedDate) {
                                            //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                        }
                                    });
                                }
                            }
                        })
                        g++;
                    });
                }).on('click', '#Tatatertib .btn-remove-Tatatertib', function (e) {
                    $(this).parents('tr:first').remove();
                    var g = 0;

                    $('#Tatatertib #datatable_Tatatertib tr:not(:first)').each(function () {

                        var name = $(this).find("input, select, textarea");
                        var nom = $(this).find("span#num");
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {
                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_TINDAKAN_DISIPLIN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    e.preventDefault();
                    return false;
                })
                var co = 0;

                $('#datatable_Tatatertib tr:not(:first)').each(function () {
                    var name = $(this).find("input, select, textarea");
                    var lol = new Array();
                    name.each(function () {

                        var splitName = $(this).attr("name");
                        var s = splitName.split('.');
                        //console.log(s);
                        if (s.length > 1) {
                            $(this).removeAttr("name").attr("name", "HR_TINDAKAN_DISIPLIN[" + (co) + "]." + s[1])
                        }
                    })


                    $(this).find('#num').html(co + 1);
                    co++

                });
                $('#datatable_Tatatertib tr:not(:last) .btn-add-Tatatertib')
                        .removeClass('btn-add-Tatatertib').addClass('btn-remove-Tatatertib')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');
            });

        $(function () {
            /*$("#btn-click").on("click",this, function (e) {
                e.preventDefault();
                $("#Peribadi input[type='text']").removeAttr('disabled')
                $("#Peribadi input[type='radio']").removeAttr('disabled')
                $("#Peribadi input[name='HR_TARIKH_LAHIR']").removeAttr('disabled').attr('readonly', 'readonly')
                $("#Peribadi input[name='Umur']").removeAttr('disabled').attr('readonly', 'readonly')
                $("#Peribadi select").removeAttr('disabled')
                $(".click-parent").addClass("hide")
                $(".edit-parent").removeClass("hide")
            })*/

            /*$("#btn-click2").on("click", this, function (e) {
                e.preventDefault();
                $("#infoKakitangan input[type='text']").removeAttr('disabled')
                $("#infoKakitangan input[name='HR_NO_PEKERJA']").removeAttr('disabled').attr('readonly', 'readonly')

                $(".click-parent2").addClass("hide")
                $(".edit-parent2").removeClass("hide")

            })*/

            //hide column datatable
            /*$("#Pekerjaan #datatable_PengalamanKerjaMPPJ tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_PengalamanKerja tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_KemahiranBahasa tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_KemahiranTeknikal tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Kelayakan tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Sijil tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Kursus tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_AktivitiLuar tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });*/
            /*
            $("#datatable_Tanggungan tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });*/
            //
            var DisabledCuti = 0
            $("input[name='sah[]']").on("change", this, function () {


                if ($(this).attr("id") == "mKakitangan-btn")
                {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#infoKakitangan input[name='kemaskini']").val("Info")
                        $("#infoKakitangan input[type='text']").removeAttr('disabled');
                        $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").attr('readonly', 'readonly');
                        $("#infoKakitangan #upload-image").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#infoKakitangan input[name='kemaskini']").val("off")

                        $("#infoKakitangan input[type='text']").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                        })

                        $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").removeAttr('readonly', 'readonly');
                        $("#infoKakitangan input[type='text']").attr('disabled', 'disabled');
                        $("#infoKakitangan #upload-image").attr('disabled', 'disabled');
                    }
                }
                if ($(this).attr("id") == "mPeribadi-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Peribadi input[name='kemaskini']").val("Peribadi")

                        $("#Peribadi input[type='text']").removeAttr('disabled');
                        $("#Peribadi select").removeAttr('disabled');
                        $("#Peribadi input[type='radio']").removeAttr('disabled');
                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Peribadi input[name='Umur']").attr('readonly', 'readonly');
                        $("#Peribadi button").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Peribadi input[name='kemaskini']").val("off")

                        $("#Peribadi input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Peribadi input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Peribadi select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").removeAttr('readonly', 'readonly');
                        $("#Peribadi input[name='Umur']").removeAttr('readonly', 'readonly');
                        $("#Peribadi input[type='text']").attr('disabled', 'disabled');
                        $("#Peribadi select").attr('disabled', 'disabled');
                        $("#Peribadi input[type='radio']").attr('disabled', 'disabled');
                        $("#Peribadi button").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mPekerjaan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Pekerjaan input[name='kemaskini']").val("Pekerjaan")

                        $("#Pekerjaan input[type='text']").removeAttr('disabled');
                        $("#Pekerjaan select").removeAttr('disabled');
                        $("#Pekerjaan input[type='radio']").removeAttr('disabled');
                        $("#Pekerjaan textarea").removeAttr('disabled');
                        if ('@ViewBag.ExistingDate' != "Y")
                        {
                            $("#Pekerjaan .btn-add-history").removeAttr('disabled');
                        }
                        if ('@Model.HR_MAKLUMAT_PEKERJAAN_HISTORY.Count()' > 1)
                        {
                            $("#Pekerjaan .btn-remove-history").removeAttr('disabled');
                        }

                        /*$("#Pekerjaan #datatable_PengalamanKerjaMPPJ tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });*/

                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ input[type='text']:not(.hide)").attr('disabled', 'disabled');
                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ select").attr('disabled', 'disabled');

                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_MULA']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_AKHIR']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN']").attr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").attr('readonly', 'readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_TAMAT").attr('readonly', 'readonly');

                        /*var g = 0;
                        $('#Kemahiran #datatable_tabletools2 tr:not(:first)').each(function () {
                            var name = $(this).find("input, textarea");
                            var nom = $(this).find("span#num");
                            nom.each(function () {
                                $(this).html(g + 1);
                            })
                            name.each(function () {
                                var splitName = $(this).attr("name");
                                var s = splitName.split('.');
                                //console.log(s);
                                if (s.length > 1) {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g + mmm - 1) + "]." + s[1])
                                }
                            })
                            g++;
                        });*/

                    }
                    else {
                        $(this).val('off')
                        $("#Pekerjaan input[name='kemaskini']").val("off")
                        /*$("#Pekerjaan #datatable_PengalamanKerjaMPPJ tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });*/
                        $("#Pekerjaan input,#Pekerjaan textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Pekerjaan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Pekerjaan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ select").attr('disabled', 'disabled');
                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ input[type='text']").attr('disabled', 'disabled');

                        //$("#Pekerjaan input[name='HR_TARIKH_LAHIR']").removeAttr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='Umur']").removeAttr('readonly', 'readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_MULA']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_AKHIR']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN']").removeAttr('readonly');
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").removeAttr('readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_MULA").removeAttr('readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_TAMAT").removeAttr('readonly');

                        $("#Pekerjaan input[type='text']").attr('disabled', 'disabled');
                        $("#Pekerjaan textarea").attr('disabled', 'disabled');
                        $("#Pekerjaan select").attr('disabled', 'disabled');
                        $("#Pekerjaan input[type='radio']").attr('disabled', 'disabled');
                        $("#Pekerjaan .btn-add-history, #Pekerjaan .btn-remove-history").attr('disabled', 'disabled');

                        /*var g = 0;
                        $('#Kemahiran #datatable_tabletools2 tr:not(:first)').each(function () {
                            var name = $(this).find("input, textarea");
                            var nom = $(this).find("span#num");
                            nom.each(function () {
                                $(this).html(g + 1);
                            })
                            name.each(function () {
                                var splitName = $(this).attr("name");
                                var s = splitName.split('.');
                                //console.log(s);
                                if (s.length > 1)
                                {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g) + "]." + s[1])
                                }
                            })
                            g++;
                            //var spliteanme = name.split('.')
                            //console.log(spliteanme[0])
                        });*/
                    }
                }
                if ($(this).attr("id") == "mPewaris-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Pewaris input[name='kemaskini']").val("Pewaris")

                        $("#Pewaris input").removeAttr('disabled');
                        $("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR ").attr('readonly', 'readonly');
                        $("#Pewaris select").removeAttr('disabled');
                        $("#Pewaris input[type='radio']").removeAttr('disabled');
                        //$("#Pekerjaan textarea").removeAttr('disabled');
                        $("#Pewaris button[name='tambah-waris']").removeAttr('disabled');
                        if ($("#Pewaris #clone-pewaris").length > 1) {
                            $("#Pewaris button[name='padam-waris']").removeAttr('disabled');
                            $("#Pewaris button[name='tambah-waris']").attr('disabled');
                        }

                        $("#Pewaris .HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR").removeAttr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Pewaris input[name='kemaskini']").val("off")

                        $("#Pewaris button[name='tambah-waris'], #Pewaris button[name='tambah-waris']").attr('disabled');

                        $("#Pewaris input,#Pewaris textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Pewaris input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Pewaris select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR").attr('readonly', 'readonly');

                        $("#Pewaris input[type='text']").attr('disabled', 'disabled');
                        $("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR ").removeAttr('readonly', 'readonly');
                        $("#Pewaris textarea").attr('disabled', 'disabled');
                        $("#Pewaris select").attr('disabled', 'disabled');
                        $("#Pewaris input[type='radio']").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mKemahiran-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kemahiran input[name='kemaskini']").val("Kemahiran")

                        $("#Kemahiran input").removeAttr('disabled');
                        $("#Kemahiran select").removeAttr('disabled');
                        //$("#Kemahiran input[type='radio']").removeAttr('disabled');
                        $("#Kemahiran textarea").removeAttr('disabled');
                        $("#Kemahiran .btn-add-KemahiranTeknikal, #Kemahiran .btn-remove-KemahiranTeknikal").removeAttr('disabled');
                        $("#Kemahiran .btn-add-KemahiranBahasa, #Kemahiran .btn-remove-KemahiranBahasa").removeAttr('disabled');
                        $("#Kemahiran .btn-add-PengalamanKerja, #Kemahiran .btn-remove-PengalamanKerja").removeAttr('disabled');
                        //$("#Pewaris input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Kemahiran .HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        $("#Kemahiran .HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT").attr('readonly', 'readonly');
                        /*$("#Kemahiran #datatable_PengalamanKerja tr, #Kemahiran #datatable_PengalamanKerja tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        $("#Kemahiran #datatable_KemahiranBahasa tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        $("#Kemahiran #datatable_KemahiranTeknikal tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });*/
                    }
                    else {
                        $(this).val('off')
                        $("#Kemahiran input[name='kemaskini']").val("off")

                        $("#Kemahiran input,#Kemahiran textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Kemahiran input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Kemahiran select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })


                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        $("#Kemahiran .HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA").removeAttr('readonly');
                        $("#Kemahiran .HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT").removeAttr('readonly');

                        $("#Kemahiran input[type='text']").attr('disabled', 'disabled');
                        $("#Kemahiran textarea").attr('disabled', 'disabled');
                        $("#Kemahiran select").attr('disabled', 'disabled');
                        //$("#Kemahiran input[type='radio']").attr('disabled', 'disabled');
                        $("#Kemahiran .btn-add-KemahiranBahasa, #Kemahiran .btn-remove-KemahiranBahasa").attr('disabled', 'disabled');
                        $("#Kemahiran .btn-add-PengalamanKerja, #Kemahiran .btn-remove-PengalamanKerja").attr('disabled', 'disabled');
                        $("#Kemahiran .btn-add-KemahiranTeknikal, #Kemahiran .btn-remove-KemahiranTeknikal").attr('disabled', 'disabled');
                        /*$("#Kemahiran #datatable_PengalamanKerja tr, #Kemahiran #datatable_PengalamanKerja tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        $("#Kemahiran #datatable_KemahiranBahasa tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        $("#Kemahiran #datatable_KemahiranTeknikal tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });*/
                    }
                }

                if ($(this).attr("id") == "mAkademik-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik input[name='kemaskini']").val("Akademik")

                        $("#Akademik input[type='text']").removeAttr('disabled');
                        $("#Akademik select").removeAttr('disabled');
                        $("#Akademik input[type='radio']").removeAttr('disabled');
                        //$("#Akademik textarea").removeAttr('disabled');
                        $("#Akademik .btn-add-Kelayakan, #Akademik .btn-remove-Kelayakan").removeAttr('disabled');
                        $("#Akademik .btn-add-Sijil, #Akademik .btn-remove-Sijil").removeAttr('disabled');
                        $("#Akademik .btn-add-Kursus, #Akademik .btn-remove-Kursus").removeAttr('disabled');
                        $("#Akademik .btn-add-AktivitiLuar, #Akademik .btn-remove-AktivitiLuar").removeAttr('disabled');
                        //$("#Pewaris input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Akademik .HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI").attr('readonly', 'readonly');
                        $("#Akademik .HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        $("#Akademik .HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT").attr('readonly', 'readonly');
                        $("#Akademik .HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI").attr('readonly', 'readonly');
                        /*$("#datatable_Kelayakan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        $("#datatable_Sijil tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        $("#datatable_Kursus tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        $("#datatable_AktivitiLuar tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });*/
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik input[name='kemaskini']").val("off")

                        $("#Akademik input,#Akademik textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Akademik input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Akademik select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        $("#Akademik .HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI").removeAttr('readonly');
                        $("#Akademik .HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA").removeAttr('readonly');
                        $("#Akademik .HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT").removeAttr('readonly');
                        $("#Akademik .HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI").removeAttr('readonly');

                        $("#Akademik input[type='text']").attr('disabled', 'disabled');
                        //$("#Akademik textarea").attr('disabled', 'disabled');
                        $("#Akademik select").attr('disabled', 'disabled');
                        $("#Akademik input[type='radio']").attr('disabled', 'disabled');
                        $("#Akademik .btn-add-Kelayakan, #Akademik .btn-remove-Kelayakan").attr('disabled', 'disabled');
                        $("#Akademik .btn-add-Sijil, #Akademik .btn-remove-Sijil").attr('disabled', 'disabled');
                        $("#Akademik .btn-add-Kursus, #Akademik .btn-remove-Kursus").attr('disabled', 'disabled');
                        $("#Akademik .btn-add-AktivitiLuar, #Akademik .btn-remove-AktivitiLuar").attr('disabled', 'disabled');
                        /*$("#datatable_Kelayakan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        $("#datatable_Sijil tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        $("#datatable_Kursus tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        $("#datatable_AktivitiLuar tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });*/
                    }
                }


                if ($(this).attr("id") == "mKuarters-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kuarters input[name='kemaskini']").val("Kuarters")

                        $("#Kuarters input[type='text']").removeAttr('disabled');
                        $("#Kuarters textarea").removeAttr('disabled');
                        $("#Kuarters select").removeAttr('disabled');
                        $("#Kuarters input[type='checkbox']").removeAttr('disabled');

                        $("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK").attr('readonly', 'readonly');
                        $("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR").attr('readonly', 'readonly');

                    }
                    else {
                        $(this).val('off')
                        $("#Kuarters input[name='kemaskini']").val("off")

                        $("#Kuarters input,#Kuarters textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Kuarters input[type=checkbox]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Kuarters select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        $("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK").removeAttr('readonly');
                        $("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR").removeAttr('readonly');


                        $("#Kuarters input[type='text']").attr('disabled', 'disabled');
                        //$("#Akademik textarea").attr('disabled', 'disabled');
                        $("#Kuarters select").attr('disabled', 'disabled');
                        $("#Kuarters input[type='checkbox']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mTanggungan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Tanggungan input[name='kemaskini']").val("Tanggungan")

                        $("#Tanggungan input[type='text']").removeAttr('disabled');
                        //$("#Tanggungan textarea").removeAttr('disabled');
                        $("#Tanggungan select").removeAttr('disabled');
                        $("#Tanggungan input[type='radio']").removeAttr('disabled');

                        $("#Tanggungan .HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR").attr('readonly', 'readonly');
                        $("#Tanggungan .umur").attr('readonly', 'readonly');

                        $("#Tanggungan .btn-add-Tanggungan, #Tanggungan .btn-remove-Tanggungan").removeAttr('disabled');
                        /*
                        $("#datatable_Tanggungan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        */
                    }
                    else {
                        $(this).val('off')
                        $("#Tanggungan input[name='kemaskini']").val("off")

                        $("#Tanggungan input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Tanggungan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Tanggungan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        $("#Tanggungan .HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR").removeAttr('readonly');
                        $("#Tanggungan .umur").removeAttr('readonly');


                        $("#Tanggungan input[type='text']").attr('disabled', 'disabled');
                        //$("#Akademik textarea").attr('disabled', 'disabled');
                        $("#Tanggungan select").attr('disabled', 'disabled');
                        $("#Tanggungan input[type='radio']").attr('disabled', 'disabled');
                        $("#Tanggungan .btn-add-Tanggungan, #Tanggungan .btn-remove-Tanggungan").attr('disabled', 'disabled');
                        /*
                        $("#Tanggungan #datatable_Tanggungan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        */
                    }
                }

                if ($(this).attr("id") == "mGaji-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Gaji input[name='kemaskini']").val("Gaji")

                        $("#Gaji input[type='text']").removeAttr('disabled');
                        //$("#Gaji textarea").removeAttr('disabled');
                        $("#Gaji select").removeAttr('disabled');
                        //$("#Gaji input[type='radio']").removeAttr('disabled');

                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR").attr('readonly', 'readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").attr('readonly', 'readonly');
                        $("#Gaji #HR_KOD").attr('readonly', 'readonly');
                        $("#Gaji #HR_JAWATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_JABATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_KUMPULAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_TAHUN_EP").attr('readonly', 'readonly');

                        $("#Gaji .btn-add-Gaji, #Gaji .btn-remove-Gaji").removeAttr('disabled');
                        $("#Gaji .btn-add-Elaun, #Gaji .btn-remove-Elaun").removeAttr('disabled');
                        $("#Gaji .btn-add-Potongan, #Gaji .btn-remove-Potongan").removeAttr('disabled');
                        $("#Gaji .btn-add-Caruman, #Gaji .btn-remove-Caruman").removeAttr('disabled');

                    }
                    else {
                        $(this).val('off')
                        $("#Gaji input[name='kemaskini']").val("off")

                        $("#Gaji input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Gaji select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").removeAttr('readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR").removeAttr('readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").removeAttr('readonly');
                        $("#Gaji .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").removeAttr('readonly');
                        $("#Gaji #HR_KOD").removeAttr('readonly');
                        $("#Gaji #HR_JAWATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_JABATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_KUMPULAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_TAHUN_EP").removeAttr('readonly');

                        $("#Gaji input[type='text']").attr('disabled', 'disabled');
                        //$("#Gaji textarea").attr('disabled', 'disabled');
                        $("#Gaji select").attr('disabled', 'disabled');
                        //$("#Gaji input[type='radio']").attr('disabled', 'disabled');
                        $("#Gaji .btn-add-Gaji, #Gaji .btn-remove-Gaji").attr('disabled', 'disabled');
                        $("#Gaji .btn-add-Elaun, #Gaji .btn-remove-Elaun").attr('disabled', 'disabled');
                        $("#Gaji .btn-add-Potongan, #Gaji .btn-remove-Potongan").attr('disabled', 'disabled');
                        $("#Gaji .btn-add-Caruman, #Gaji .btn-remove-Caruman").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAnugerah-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Anugerah input[name='kemaskini']").val("Anugerah")

                        $("#Anugerah input[type='text']").removeAttr('disabled');
                        //$("#Gaji textarea").removeAttr('disabled');
                        $("#Anugerah select").removeAttr('disabled');
                        $("#Anugerah input[type='radio']").removeAttr('disabled');

                        $("#Anugerah .datepickerAnugerahPingat1").attr('readonly', 'readonly');
                        $("#Anugerah .datepickerAnugerahPingat2").attr('readonly', 'readonly');
                        $("#Anugerah .HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN").attr('readonly', 'readonly');
                        $("#Anugerah #HR_ANUGERAH_HAJI_HR_NP_UP").attr('readonly', 'readonly');
                        $("#Anugerah #HR_ANUGERAH_HAJI_HR_NP_YDP").attr('readonly', 'readonly');
                        //$("#Anugerah .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        //$("#Anugerah .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").attr('readonly', 'readonly');
                        $("#Anugerah #HR_KOD").attr('readonly', 'readonly');

                        $("#Anugerah .btn-add-AnugerahPingat, #Anugerah .btn-remove-AnugerahPingat, #Anugerah .btn-add-AnugerahCemerlang, #Anugerah .btn-remove-AnugerahCemerlang").removeAttr('disabled');
                        //$("#Anugerah .btn-add-Elaun, #GajiAnugerah .btn-remove-Elaun").removeAttr('disabled');
                        //$("#Anugerah .btn-add-Potongan, #GajiAnugerah .btn-remove-Potongan").removeAttr('disabled');
                        //$("#Anugerah .btn-add-Caruman, #Anugerah .btn-remove-Caruman").removeAttr('disabled');

                    }
                    else {
                        $(this).val('off')
                        $("#Anugerah input[name='kemaskini']").val("off")

                        $("#Anugerah input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Anugerah select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Anugerah .datepickerAnugerahPingat1").removeAttr('readonly');
                        $("#Anugerah .datepickerAnugerahPingat2").removeAttr('readonly');
                        $("#Anugerah .HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN").removeAttr('readonly');
                        $("#Anugerah #HR_ANUGERAH_HAJI_HR_NP_UP").removeAttr('readonly');
                        $("#Anugerah #HR_ANUGERAH_HAJI_HR_NP_YDP").removeAttr('readonly');
                        //$("#Anugerah .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").removeAttr('readonly');
                        //$("#Anugerah .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").removeAttr('readonly');
                        //$("#Anugerah #HR_KOD").removeAttr('readonly');

                        $("#Anugerah input[type='text']").attr('disabled', 'disabled');
                        //$("#Anugerah textarea").attr('disabled', 'disabled');
                        $("#Anugerah select").attr('disabled', 'disabled');
                        $("#Anugerah input[type='radio']").attr('disabled', 'disabled');
                        $("#Anugerah .btn-add-AnugerahPingat, #Anugerah .btn-remove-AnugerahPingat, #Anugerah .btn-add-AnugerahCemerlang, #Anugerah .btn-remove-AnugerahCemerlang").attr('disabled', 'disabled');
                        //$("#Anugerah .btn-add-Elaun, #Anugerah .btn-remove-Elaun").attr('disabled', 'disabled');
                        //$("#Anugerah .btn-add-Potongan, #Anugerah .btn-remove-Potongan").attr('disabled', 'disabled');
                        //$("#Anugerah .btn-add-Caruman, #Anugerah .btn-remove-Caruman").attr('disabled', 'disabled');
                    }
                }



                if ($(this).attr("id") == "mPersaraan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Persaraan input[name='kemaskini']").val("Persaraan")

                        $("#Persaraan input[type='text']").removeAttr('disabled');
                        $("#Persaraan input[type='number']").removeAttr('disabled');
                        $("#Persaraan select").removeAttr('disabled');
                        $("#Persaraan input[type='radio']").removeAttr('disabled');

                        if ($("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND:checked").val() == "C")
                        {
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").attr("disabled", "disabled")
                        }

                        $("#Persaraan #HR_PERSARAAN_HR_TARIKH_BERSARA").attr('readonly', 'readonly');

                    }
                    else {
                        $(this).val('off')
                        $("#Persaraan input[name='kemaskini']").val("off")

                        $("#Persaraan input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Persaraan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Persaraan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Persaraan #HR_PERSARAAN_HR_TARIKH_BERSARA").removeAttr('readonly');
                        $("#Persaraan input[type='text']").attr('disabled', 'disabled');
                        $("#Persaraan input[type='number']").attr('disabled', 'disabled');
                        $("#Persaraan select").attr('disabled', 'disabled');
                        $("#Persaraan input[type='radio']").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mTatatertib-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Tatatertib input[name='kemaskini']").val("Tatatertib")

                        $("#Tatatertib input[type='text']").removeAttr('disabled');
                        $("#Tatatertib textarea").removeAttr('disabled');
                        $("#Tatatertib select").removeAttr('disabled');
                        $("#Tatatertib .HR_TARIKH_KESALAHAN").attr('readonly', 'readonly');
                        $("#Tatatertib .HR_TARIKH_MULA_TINDAKAN").attr('readonly', 'readonly');
                        $("#Tatatertib .HR_TARIKH_AKHIR_TINDAKAN").attr('readonly', 'readonly');

                        $("#Tatatertib .btn-add-Tatatertib, #Tatatertib .btn-remove-Tatatertib").removeAttr('disabled');

                    }
                    else {
                        $(this).val('off')
                        $("#Tatatertib input[name='kemaskini']").val("off")

                        $("#Tatatertib input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Tatatertib select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Tatatertib .HR_TARIKH_KESALAHAN").removeAttr('readonly');
                        $("#Tatatertib .HR_TARIKH_MULA_TINDAKAN").removeAttr('readonly');
                        $("#Tatatertib .HR_TARIKH_AKHIR_TINDAKAN").removeAttr('readonly');
                        $("#Tatatertib .HR_JABATAN_T").removeAttr('readonly');
                        $("#Tatatertib input[type='text']").attr('disabled', 'disabled');
                        $("#Tatatertib textarea").attr('disabled', 'disabled');
                        $("#Tatatertib select").attr('disabled', 'disabled');
                        $("#Tatatertib input[type='radio']").attr('disabled', 'disabled');
                        $("#Tatatertib .btn-add-Tatatertib, #Tatatertib .btn-remove-Tatatertib").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mKematian-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kematian input[name='kemaskini']").val("Kematian")

                        $("#Kematian input[type='text']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Kematian select").removeAttr('disabled');
                        $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").attr('readonly', 'readonly');
                        $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").attr('readonly', 'readonly');
                        $("#Kematian .HR_JABATAN_T").attr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Kematian input[name='kemaskini']").val("off")

                        $("#Kematian input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Kematian select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").removeAttr('readonly');
                        $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").removeAttr('readonly');

                        $("#Kematian input[type='text']").attr('disabled', 'disabled');
                        $("#Kematian select").attr('disabled', 'disabled');
                        $("#Kematian input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mPrestasi-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Prestasi input[name='kemaskini']").val("Prestasi")

                        $("#Prestasi input[type='text']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Prestasi select").removeAttr('disabled');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_JUMLAH_BESAR").attr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Prestasi input[name='kemaskini']").val("off")

                        $("#Prestasi input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Prestasi select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_JUMLAH_BESAR").removeAttr('readonly');

                        $("#Prestasi input[type='text']").attr('disabled', 'disabled');
                        $("#Prestasi select").attr('disabled', 'disabled');
                        $("#Prestasi input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mCuti-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Cuti input[name='kemaskini']").val("Cuti")
                        $("#Cuti #HR_MAKLUMAT_CUTI_DISABLED").val("1")
                        DisabledCuti = 1;
                        $("#Cuti input[type='text'], #Cuti input[type='number']").removeAttr('disabled');
                        $("#Cuti input[type='radio']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Cuti select").removeAttr('disabled');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KOD_CUTI2").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_TAHUNAN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").attr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Cuti input[name='kemaskini']").val("off")
                        $("#Cuti #HR_MAKLUMAT_CUTI_DISABLED").val("0")
                        $("#Cuti input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Cuti select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })
                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");

                        $("#Cuti #Kelulusan").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KOD_CUTI2").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").removeAttr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_TAHUNAN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").removeAttr('readonly');
                        $("#Cuti input[type='text'], #Cuti input[type='number']").attr('disabled', 'disabled');
                        $("#Cuti select").attr('disabled', 'disabled');
                        $("#Cuti input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                var on = 0;
                $("input[name='sah[]']").each(function () {
                    if($(this).val() == "on")
                    {
                        on++;
                    }
                })
                if (on > 0) {
                    $("#btn-edit").removeAttr("disabled");
                }
                else {
                    $("#btn-edit").attr("disabled", "disabled");
                }
            })

            $("#HR_MAKLUMAT_KUARTERS_HR_KOD_KUARTERS").on("input", function () {

                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT1").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT2").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_POSKOD").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BANDAR").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_NEGERI").val("");

                $.ajax({
                    url: "MaklumatKakitangan/CariKodKuarters",
                    data: { "HR_KOD_KUARTERS": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function(data)
                    {
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT1").val(data.HR_ALAMAT1);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT2").val(data.HR_ALAMAT2);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_POSKOD").val(data.HR_POSKOD);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BANDAR").val(data.HR_BANDAR);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_NEGERI").val(data.HR_NEGERI);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BLOK_KUARTERS").val(data.HR_BLOK_KUARTERS);
                    }
                })
            })

            $("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND").on("click", function () {

                if ($("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND:checked").val() == "C") {
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").attr("disabled", "disabled")
                }
                else{
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").removeAttr("disabled", "disabled")
                }
            })

            $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_NAMA_PEGAWAI").on("change", function () {

                $.ajax({
                    url: "MaklumatKakitangan/CariJawatanPegawai",
                    data: { "id": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $("#HR_MAKLUMAT_KEMATIAN_HR_JAWATAN_PEGAWAI").val(data);
                    }
                })
            });

            $("#Persaraan #HR_PERSARAAN_HR_NP_PEGAWAI").on("change", function () {

                $.ajax({
                    url: "MaklumatKakitangan/CariJawatanPegawai",
                    data: { "id": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $("#HR_PERSARAAN_HR_JAWATAN_PEGAWAI").val(data);
                    }
                })
            })

            $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_NAMA_PEWARIS").on("input", function () {
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_KP_PEWARIS").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT1").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT2").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT3").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_BANDAR").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_POSKOD").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NEGERI").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_HUBUNGAN").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELRUMAH").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELPEJABAT").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELBIMBIT").val("");
                $.ajax({
                    url: "MaklumatKakitangan/CariPewaris",
                    data: { "id": $(this).val(), "no": '@Model.HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA'},
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $.each(data, function (i, v) {
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_KP_PEWARIS").val(v.HR_NO_KP);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT1").val(v.HR_PALAMAT1);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT2").val(v.HR_PALAMAT2);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT3").val(v.HR_PALAMAT3);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_BANDAR").val(v.HR_PBANDAR);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_POSKOD").val(v.HR_PPOSKOD);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NEGERI").val(v.HR_PNEGERI);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_HUBUNGAN").val(v.HR_HUBUNGAN);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELRUMAH").val(v.HR_TELRUMAH);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELPEJABAT").val(v.HR_TELPEJABAT);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELBIMBIT").val(v.HR_TELBIMBIT);
                        })

                    }
                })
            })



            $('#HR_MAKLUMAT_PERIBADI_HR_TARIKH_LAHIR').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);
                    $.ajax({
                        url: "MaklumatKakitangan/KiraUmur",
                        data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#Umur").val(data);
                        }
                    })

                    $("#Pekerjaan input[name='HR_UMUR_SARA']").val("");
                    if ($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val() != "")
                    $.ajax({
                        url: "MaklumatKakitangan/KiraUmurBersara",
                        data: { "HR_TARIKH_LAHIR": $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val(), "HR_TARIKH_TAMAT": $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#Pekerjaan input[name='HR_UMUR_SARA']").val(data);
                        }
                    })
                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR').datepicker('option', 'minDate', selectedDate);


                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA').datepicker('option', 'maxDate', selectedDate);


                }
            });
            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK_KERAJAAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#HR_TARIKH_TAMAT').datepicker('option', 'minDate', selectedDate);


                }
            });
            $('#HR_MAKLUMAT_PEKERJAAN_HR_BULAN_KENAIKAN_GAJI').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                showButtonPanel: true,
                currentText: "Bulan Kini",
                closeText: 'Tutup',
                onSelect: function (selectedDate) {
                    $('#HR_TARIKH_AKHIR').datepicker('option', 'minDate', selectedDate);
                },
                onChangeMonthYear: function (year, month, inst) {
                    $(this).val($.datepicker.formatDate('dd/mm/yy', new Date(year, month - 1, 1)));
                },
                onClose: function (dateText, inst) {
                    $(this).val($.datepicker.formatDate('dd/mm/yy', new Date(inst.selectedYear, inst.selectedMonth, 1)));
                }
            }).focus(function () {
                $(".ui-datepicker-calendar").hide();
            });
            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT').datepicker('option', 'minDate', selectedDate);

                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val("");
                    if ($("#Pekerjaan input[name='HR_JUM_TAHUN']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() != "") {
                        $.ajax({
                            url: "MaklumatKakitangan/JumlahTahunKontrak",
                            data: { "HR_JUM_TAHUN": $("#Pekerjaan input[name='HR_JUM_TAHUN']").val(), "HR_TARIKH_MASUK": $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val(tarikh.toLocaleDateString('en-GB'));
                            }
                        })
                    }
                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', selectedDate);

                    $("#Pekerjaan input[name='HR_UMUR_SARA']").val("");
                    $.ajax({
                        url: "MaklumatKakitangan/KiraUmurBersara",
                        data: { "HR_TARIKH_LAHIR": $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI_HR_TARIKH_LAHIR']").val(), "HR_TARIKH_TAMAT": $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#Pekerjaan input[name='HR_UMUR_SARA']").val(data);
                        }
                    })
                }
            });

            function TarafJawatan() {
                if ($("#HR_MAKLUMAT_PEKERJAAN_HR_TARAF_JAWATAN").val() == "K") {
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT_KONTRAK').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT_KONTRAK').val());
                    }
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('disable');
                }
                else {
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').val());
                    }
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('option', 'minDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').val());
                    }
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('enable');
                }
            }
            TarafJawatan()

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_SAH_JAWATAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_LANTIKAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });

            /*$('#HR_TARIKH_TAMAT_KONTRAK').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });*/

                $(".HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#datepicker3').datepicker('option', 'minDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#datepicker3').datepicker('option', 'minDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".datepicker").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $('.HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#finishdate').datepicker('option', 'minDate', selectedDate);
                        $.ajax({
                            url: "MaklumatKakitangan/KiraUmur",
                            data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                $("#Umur").val(data);
                            }
                        })

                    }
                });
                $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR').datepicker('option', 'minDate', selectedDate);
                    }
                });
                $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $('.HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#finishdate').datepicker('option', 'minDate', selectedDate);
                        var name = $(this).attr("name");
                        var sname = name.split(".");
                        $.ajax({
                            url: "MaklumatKakitangan/KiraUmur",
                            data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {

                                $("input[name='" + sname[0] + ".HR_UMUR']").val(data);
                            }
                        })
                    }
                });
                $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $(".datepickerAnugerahPingat1").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".datepickerAnugerahPingat2").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_ANUGERAH_HAJI_HR_TAHUN_PERGI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_PERSARAAN_HR_TARIKH_BERSARA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_TARIKH_KESALAHAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_TARIKH_MULA_TINDAKAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_TARIKH_AKHIR_TINDAKAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI').datepicker('option', 'minDate', selectedDate);
                        var start = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker("getDate");
                        var end = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker("getDate");
                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");

                        function max() {
                            return $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val();
                        }

                        function BakiTerkini() {
                            return $("#HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").val();
                        }

                        if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == 3)
                        {
                            console.log(max());
                            end = new Date(start);
                            end.setDate(end.getDate() + parseInt(max()) - 1);

                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val($.datepicker.formatDate('dd/mm/yy', end));
                            $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(parseInt(max()))
                        }
                        else
                        {
                            //disable day in datepicker
                            if (parseInt(BakiTerkini()) != "")
                            {
                                var startMax = new Date(start);
                                var endMax = new Date(start);
                                endMax = new Date(endMax.setDate(endMax.getDate() + parseInt(BakiTerkini()) - 1));
                                console.log(selectedDate)
                                console.log(endMax)
                                while (startMax <= endMax) {

                                    if ($.datepicker.formatDate('DD', startMax) == "Sunday" || $.datepicker.formatDate('DD', startMax) == "Saturday") {
                                        endMax.setDate(endMax.getDate() + 1)
                                    }
                                    startMax.setDate(startMax.getDate() + 1)
                                }
                                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker('option', 'maxDate', endMax);
                            }

                            if ($("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val != "" && $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val() != "") {
                                $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("");
                                var currentDate = new Date(start);
                                var between = [];
                                while (currentDate <= end) {
                                    between.push(new Date(currentDate));
                                    currentDate.setDate(currentDate.getDate() + 1);
                                }
                                var totalDay = 0;
                                $.each(between, function (i, v) {
                                    if ($.datepicker.formatDate('DD', v) != "Sunday" && $.datepicker.formatDate('DD', v) != "Saturday") {
                                        totalDay++;
                                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").append($("<option selected='selected'></option>").val($.datepicker.formatDate('dd/mm/yy', v)).html($.datepicker.formatDate('dd/mm/yy', v)))
                                    }

                                })
                                $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(totalDay)

                                $.ajax({
                                    url: "MaklumatKakitangan/BilCuti",
                                    data: { "no_pekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "kod_cuti": $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "tahun": $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() },
                                    contentType: "application/json; charset=utf-8",
                                    type: 'GET',
                                    dataType: "json",
                                    success: function (data) {
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data)
                                    }
                                })
                            }
                        }

                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI').datepicker('option', 'maxDate', selectedDate);
                        var start = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker("getDate");
                        var end = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker("getDate");
                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        if ($("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val != "" && $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val() != "")
                        {
                            $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("");
                            var currentDate = new Date(start);
                            var between = [];
                            while(currentDate <= end)
                            {
                                between.push(new Date(currentDate));
                                currentDate.setDate(currentDate.getDate() + 1);
                            }
                            var totalDay = 0;
                            $.each(between, function (i, v) {
                                if ($.datepicker.formatDate('DD', v) != "Sunday" && $.datepicker.formatDate('DD', v) != "Saturday") {
                                    totalDay++;
                                    $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").append($("<option selected='selected'></option>").val($.datepicker.formatDate('dd/mm/yy', v)).html($.datepicker.formatDate('dd/mm/yy', v)))
                                }

                            })
                            $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(totalDay)

                            $.ajax({
                                url: "MaklumatKakitangan/BilCuti",
                                data: { "no_pekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "kod_cuti": $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "tahun": $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() },
                                contentType: "application/json; charset=utf-8",
                                type: 'GET',
                                dataType: "json",
                                success: function (data) {
                                    $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data)
                                }
                            })

                        }
                    }
                });


                if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "")
                {
                    $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                }

                $("#HR_MAKLUMAT_CUTI_HR_TAHUN, #HR_MAKLUMAT_CUTI_HR_KOD_CUTI, #HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").on("input", function () {

                    if ($(this).attr("id") == "HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI") {

                        $.ajax({
                            url: "MaklumatKakitangan/KategoriCuti",
                            data: { "HR_KATEGORI_CUTI": $(this).val() },
                            type: "GET",
                            dataType: "json",
                            success: function (data) {
                                $.each(data, function (i, v) {
                                    if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "2") {
                                        $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val(v.HR_KOD_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").append($("<option selected></option>").val(v.HR_KOD_CUTI).html(v.HR_KETERANGAN));

                                    }
                                    else {
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").append($("<option></option>").val(v.HR_KOD_CUTI).html(v.HR_KETERANGAN));
                                    }
                                    if(data.length == 1)
                                    {
                                        if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val().length == 4 && $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "2") {
                                            $.ajax({
                                                url: "MaklumatKakitangan/JenisCuti",
                                                type: "GET",
                                                data: { HR_KATEGORI_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val(), HR_TARIKH_PERMOHONAN: $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(), HR_JUMLAH_MAKSIMUM: $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(), HR_TAHUN: $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(), HR_KOD_CUTI: v.HR_KOD_CUTI, "NoPekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), DISABLED: DisabledCuti },
                                                //dataType: "json",
                                                //contentType: "application/json: charset=utf-8",
                                                success: function (data) {

                                                    $("#Cuti #KategoriCuti").html(data);
                                                }
                                            });
                                        }
                                    }
                                })
                            }
                        })

                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                        $("#Cuti input").each(function () {
                            $(this).not("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN, #HR_MAKLUMAT_CUTI_HR_TAHUN, #KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                        })
                        $("#Cuti select").each(function () {
                            if ($(this).attr("id") != "HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI") {
                                $(this).val("");
                            }
                        })

                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");

                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanHR").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");

                        $("#Cuti #Kelulusan").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });

                        if ($(this).val() == 1) {
                            $("#Cuti #CutiBerekod").removeClass("hide");
                            $("#Cuti #CutiBerekod2").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Bahagian");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");

                        }
                        else if ($(this).val() == 2) {
                            $("#Cuti #CutiTidakBerekod").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            $("#Cuti #KelulusanYDP").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan / Bahagian");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).val() == 3) {
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #KelulusanYDP").removeClass("hide");
                            /*$("#Cuti #KelulusanHR").find(".row").each(function () {
                                $(this).not("#Ulasan").hide();
                            });*/
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).val() == 4)
                        {
                            //$("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #Sokongan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Kelulusan Penolong Pengarah, Bahagian Sumber Manusia");
                            $("#Cuti #Ulasan").hide();
                        }
                    }

                    $("#Cuti input").each(function () {
                        $(this).not("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN, #HR_MAKLUMAT_CUTI_HR_TAHUN, #KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                    })
                    $("#Cuti select").each(function () {
                        $(this).not("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI, #HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val("");

                    })
                    $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                    $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");
                    if ($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                        $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val())
                    }

                    if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() != "" && $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                        if ($(this).val() == "CU008") {
                            $("#Cuti #CutiKematian").removeClass("hide");
                            $("#Cuti #CutiBersalin").addClass("hide");
                        }
                        if ($(this).val() == "CU007" || $(this).val() == "CU091") {
                            $("#Cuti #CutiKematian").addClass("hide");
                            $("#Cuti #CutiBersalin").removeClass("hide");
                        }
                    }
                    if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val().length == 4 && $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "" && $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() != "2") {
                        $.ajax({
                            url: "MaklumatKakitangan/JenisCuti",
                            type: "GET",
                            data: { HR_KATEGORI_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val(), HR_TARIKH_PERMOHONAN: $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(), HR_JUMLAH_MAKSIMUM: $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(), HR_TAHUN: $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(), HR_KOD_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "NoPekerja": $("#HR_NO_PEKERJA").val(), DISABLED: DisabledCuti },
                            //dataType: "json",
                            //contentType: "application/json: charset=utf-8",
                            success: function (data) {

                                $("#Cuti #KategoriCuti").html(data);
                            }
                        });
                    }
                })

                var tableCuti = $('#datatable_Cuti').DataTable();
                $('#datatable_Cuti tbody').on('click', 'tr', function () {
                    if ('@ViewBag.SenaraiCutiCount' > 0)
                    {
                        var tr = $(this);
                        if ($(this).hasClass('selectedCuti')) {
                            $(this).removeClass('selectedCuti');
                        }
                        else {
                            tableCuti.$('tr.selectedCuti').removeClass('selectedCuti');
                            $(this).parent().find("tr").removeAttr("style");
                            $(this).addClass('selectedCuti');
                            $(".selectedCuti").css({ "background-color": "yellow" })
                            /*$(this).parent().find("tr").each(function () {
                                $(this).not(tr).removeAttr("style");
                            })*/

                        }

                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                        $("#Cuti input").each(function () {
                            $(this).not("#KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                        })
                        $("#Cuti select").each(function () {
                            $(this).val("");
                        })

                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");

                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanHR").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");
                        $("#Cuti #KelulusanHR").find("legend").html("");
                        $("#Cuti #KelulusanHR").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });

                        var DataJson = { DISABLED: DisabledCuti, "NoPekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "KodCuti": $(this).find("#KOD_CUTI_dt").val(), "HR_TARIKH_PERMOHONAN": $(this).find("#TARIKH_PERMOHONAN_dt").val() };

                        $.ajax({
                            url: "MaklumatKakitangan/DataCuti",
                            data: DataJson,
                            type: "GET",
                            //dataType: "json",
                            success: function (data) {
                                $("#Cuti #KategoriCuti").html(data);
                                $.ajax({
                                    url: "MaklumatKakitangan/DataCuti2",
                                    data: DataJson,
                                    type: "GET",
                                    dataType: "json",
                                    success: function (data) {


                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA").val(data.HR_MAKLUMAT_CUTI.HR_NO_PEKERJA)
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_KOD_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_PERMOHONAN != null) {
                                            var tarikhPermohonan = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_PERMOHONAN.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(tarikhPermohonan.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_CUTI_REHAT").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_CUTI_REHAT)
                                        $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(data.HR_MAKLUMAT_CUTI.HR_JUMLAH_MAKSIMUM)
                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_TAHUN_LEPA)

                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_PENCEN").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_PENCEN)
                                        $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(data.HR_MAKLUMAT_CUTI.HR_TAHUN)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(data.HR_MAKLUMAT_CUTI.HR_BIL_CUTI_TEMP)
                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_PENCEN_TERKUMPUL").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_PENCEN_TERKUMPUL)
                                        $("#HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").val(data.HR_MAKLUMAT_CUTI.HR_KELAYAKAN_BULANAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data.HR_MAKLUMAT_CUTI.HR_BIL_CUTI_DIAMBIL)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_MULA_CUTI != null) {
                                            var tarikhMulaCuti = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_MULA_CUTI.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val(tarikhMulaCuti.toLocaleDateString('en-GB'))
                                        }
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_TAMAT_CUTI != null) {
                                            var tarikhTamatCuti = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_TAMAT_CUTI.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val(tarikhTamatCuti.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT1").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT1)
                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT2").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT2)
                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT3").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT3)
                                        $("#HR_MAKLUMAT_CUTI_HR_CBANDAR").val(data.HR_MAKLUMAT_CUTI.HR_CBANDAR)
                                        $("#HR_MAKLUMAT_CUTI_HR_CPOSKOD").val(data.HR_MAKLUMAT_CUTI.HR_CPOSKOD)
                                        $("#HR_MAKLUMAT_CUTI_HR_CNEGERI").val(data.HR_MAKLUMAT_CUTI.HR_CNEGERI)
                                        $("#HR_MAKLUMAT_CUTI_HR_TEL").val(data.HR_MAKLUMAT_CUTI.HR_TEL)
                                        $("#HR_MAKLUMAT_CUTI_HR_NP_PENGGANTI").val(data.HR_MAKLUMAT_CUTI.HR_NP_PENGGANTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_NAMA_PROGRAM").val(data.HR_MAKLUMAT_CUTI.HR_NAMA_PROGRAM)
                                        $("#HR_MAKLUMAT_CUTI_HR_TEMPAT_PROGRAM").val(data.HR_MAKLUMAT_CUTI.HR_TEMPAT_PROGRAM)
                                        $("#HR_MAKLUMAT_CUTI_HR_ANJURAN").val(data.HR_MAKLUMAT_CUTI.HR_ANJURAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_ISTERI_BERSALIN != null) {
                                            var tarikhIsteriBersalin = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_ISTERI_BERSALIN.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").val(tarikhIsteriBersalin.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_ALASAN").val(data.HR_MAKLUMAT_CUTI.HR_ALASAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_HUBUNGAN").val(data.HR_MAKLUMAT_CUTI.HR_HUBUNGAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_NO_SIRI").val(data.HR_MAKLUMAT_CUTI.HR_NO_SIRI)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_HARI_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_BIL_HARI_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_SOKONG_IND").val(data.HR_MAKLUMAT_CUTI.HR_SOKONG_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_SOKONG != null) {
                                            var tarikhSokong = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_SOKONG.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").val(tarikhSokong.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_LULUS_IND").val(data.HR_MAKLUMAT_CUTI.HR_LULUS_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS != null) {
                                            var tarikhLulus = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").val(tarikhLulus.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NP_KJ").val(data.HR_MAKLUMAT_CUTI.HR_NP_KJ)
                                        $("#HR_MAKLUMAT_CUTI_HR_HR_LULUS_IND").val(data.HR_MAKLUMAT_CUTI.HR_HR_LULUS_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS_HR").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS_HR != null) {
                                            var tarikhLulusHR = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS_HR.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS_HR").val(tarikhLulusHR.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA_LULUS").val(data.HR_MAKLUMAT_CUTI.HR_NO_PEKERJA_LULUS)
                                        $("#HR_MAKLUMAT_CUTI_HR_ULASAN").val(data.HR_MAKLUMAT_CUTI.HR_ULASAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_LULUS_YDP_IND").val(data.HR_MAKLUMAT_CUTI.HR_LULUS_YDP_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_YDP != null) {
                                            var tarikhYDP = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_YDP.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").val(tarikhYDP.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA_YDP").val(data.HR_MAKLUMAT_CUTI._HR_NO_PEKERJA_YDP)
                                        $("#HR_MAKLUMAT_CUTI_HR_HARI_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_HARI_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_NAMA_KLINIK").val(data.HR_MAKLUMAT_CUTI.HR_NAMA_KLINIK)
                                    }
                                })
                            }
                        })


                        if ($(this).find("#KATEGORI_CUTI_dt").val() == 1) {
                            $("#Cuti #CutiBerekod").removeClass("hide");
                            $("#Cuti #CutiBerekod2").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Bahagian");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");

                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 2) {
                            $("#Cuti #CutiTidakBerekod").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            $("#Cuti #KelulusanYDP").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan / Bahagian");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 3) {
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #KelulusanYDP").removeClass("hide");
                            /*$("#Cuti #KelulusanHR").find(".row").each(function () {
                                $(this).not("#Ulasan").hide();
                            });*/
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 4) {
                            //$("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #Sokongan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Kelulusan Penolong Pengarah, Bahagian Sumber Manusia");
                            $("#Cuti #Ulasan").hide();
                        }


                        if ($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                            $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val())
                        }

                        if ($(this).find("#TAHUN_dt").val() != "" && $(this).find("#KOD_CUTI_dt").val() != "") {
                            if ($(this).val() == "CU008") {
                                $("#Cuti #CutiKematian").removeClass("hide");
                                $("#Cuti #CutiBersalin").addClass("hide");
                            }
                            if ($(this).val() == "CU007" || $(this).val() == "CU091") {
                                $("#Cuti #CutiKematian").addClass("hide");
                                $("#Cuti #CutiBersalin").removeClass("hide");
                            }
                        }
                    }



                    //$.ajax({})
                });

            $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").on("input", function () {
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").html("<option></option>");
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").html("<option></option>");
                    $.ajax({
                        url: "MaklumatKakitangan/Bahagian",
                        data: { "KodJabatan": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").append($("<option></option>").val(v.GE_KOD_BAHAGIAN).html(v.GE_KETERANGAN));
                            })
                        }
                    })
                })
                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").on("input", function () {
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").html("<option></option>");
                    $.ajax({
                        url: "MaklumatKakitangan/Unit",
                        data: { "KodBahagian": $(this).val(), "KodJabatan": $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").append($("<option></option>").val(v.GE_KOD_UNIT).html(v.GE_KETERANGAN));
                            })
                        }
                    })
                })
                $("#Peribadi #btn-paste").on("click", function () {
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT1']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT1']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT2']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT2']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT3']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT3']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SPOSKOD']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TPOSKOD']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SBANDAR']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TBANDAR']").val());
                    $("#Peribadi select[name='HR_MAKLUMAT_PERIBADI.HR_SNEGERI']").val($("#Peribadi select[name='HR_MAKLUMAT_PERIBADI.HR_TNEGERI']").val());
                })

                $("#Pekerjaan input[name='HR_UMUR_SARA']").on("input", function () {
                    $("#Pekerjaan input[name='HR_TARIKH_TAMAT']").val("");
                    $.ajax({
                        url: "MaklumatKakitangan/KiraUmurBersara2",
                        data: { "HR_TARIKH_LAHIR": $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val(), "HR_UMUR_SARA": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                            $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val(tarikh.toLocaleDateString('en-GB'));
                        }
                    })
                })

                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_PENCEN']").on("click", function () {
                    if ($(this).is(":checked") == true) {
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_KWSP']").prop("checked", false)
                    }
                })
                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_KWSP']").on("click", function () {
                    if ($(this).is(":checked") == true) {
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_PENCEN']").prop("checked", false)
                    }
                })

                function CariGred(HR_SISTEM) {
                    $.ajax({
                        url: "MaklumatKakitangan/CariGred",
                        data: { "HR_SISTEM": HR_SISTEM },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#gredList").empty();
                            $.each(data, function (i, v) {
                                $("#gredList").append("<option value = '" + v.SHORT_DESCRIPTION + "'></option>")
                            })
                        }
                    })
                }
                CariGred($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val())

                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']").on("click", function () {
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GRED']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MIN']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MAX']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK']").val("")
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_KOD_GAJI']").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#MinList").empty()
                    $("#MaxList").empty()
                    $("#GajiList").empty()

                    CariGred(this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KATEGORI_PCB").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_PCB").html("<option></option>");
                    $.ajax({
                        url: "MaklumatKakitangan/KategoriPCB",
                        type: "GET",
                        data: { "id": $(this).val() },
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_PCB").append($("<option></option>").val(v.STRING_PARAM).html(v.SHORT_DESCRIPTION));
                            })
                        }
                    })
                })

                /*$("#Pekerjaan input[name='HR_SISTEM'], #Pekerjaan select[name='HR_GRED'], #Pekerjaan select[name='HR_GAJI_MIN'], #Pekerjaan select[name='HR_GAJI_MAX']").on("input", function () {

                    if($(this).attr("name") == "HR_GRED")
                    {
                        $("#Pekerjaan select[name='HR_GAJI_MIN']").html("<option></option>");
                        $("#Pekerjaan select[name='HR_GAJI_MAX']").html("<option></option>");
                        $("#Pekerjaan input[name='HR_GAJI_POKOK']").val("")
                        $("#Pekerjaan input[name='HR_KOD_GAJI']").val("")
                        $.ajax({
                            url: "MaklumatKakitangan/MinGaji",
                            data: { "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {

                                $.each($.unique(data), function (i, v) {
                                    $("#Pekerjaan select[name='HR_GAJI_MIN']").append($("<option></option>").val(v.PERINGKAT).html(v.PERINGKAT))
                                })
                            }
                        })
                    }
                    if($(this).attr("name") == "HR_GAJI_MIN")
                    {
                        $("#Pekerjaan select[name='HR_GAJI_MAX']").html("<option></option>");
                        $.ajax({
                            url: "MaklumatKakitangan/MaxGaji",
                            data: { "HR_GAJI_MIN": $("#Pekerjaan select[name='HR_GAJI_MIN']").val(), "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                $.each($.unique(data), function (i, v) {
                                    $("#Pekerjaan select[name='HR_GAJI_MAX']").append($("<option></option>").val(v.TAHAP).html(v.TAHAP))
                                })

                            }
                        })
                    }

                    $.ajax({
                        url: "MaklumatKakitangan/GajiPokok",
                        data: { "HR_SISTEM": $("#Pekerjaan input[name='HR_SISTEM']").val(), "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val(), "HR_GAJI_MIN": $("#Pekerjaan select[name='HR_GAJI_MIN']").val(), "HR_GAJI_MAX": $("#Pekerjaan select[name='HR_GAJI_MAX']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {


                                $("#Pekerjaan input[name='HR_GAJI_POKOK']").val(data.HR_GAJI_POKOK)
                                $("#Pekerjaan input[name='HR_KOD_GAJI']").val(data.HR_KOD_GAJI)

                        }
                    })

                })*/

                function MinGaji(HR_SISTEM, HR_GRED) {
                    $.ajax({
                        url: "MaklumatKakitangan/MinGaji",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#MinList").empty()

                            $.each(data, function (i, v) {
                                $("#MinList").append("<option value='" + v.HR_GAJI_MIN.toFixed(2) + "'></option>")
                            })
                        }
                    })
                    GajiPokok(HR_SISTEM, HR_GRED, null, null)
                }
                MinGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val())

                function MaxGaji(HR_SISTEM, HR_GRED, HR_GAJI_MIN) {
                    $.ajax({
                        url: "MaklumatKakitangan/MaxGaji",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_MIN": HR_GAJI_MIN },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#MaxList").empty()

                            $.each(data, function (i, v) {
                                //console.log(v.HR_GAJI_MAX.toFixed(2))
                                $("#MaxList").append("<option value='" + v.HR_GAJI_MAX.toFixed(2) + "'></option>")
                            })
                        }
                    })
                    //MaxGaji(HR_SISTEM, HR_GRED, HR_GAJI_MIN)
                    GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, null)
                }
                MaxGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val())

                function GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, HR_GAJI_MAX) {
                    $.ajax({
                        url: "MaklumatKakitangan/GajiPokok",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_MIN": HR_GAJI_MIN, "HR_GAJI_MAX": HR_GAJI_MAX },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#GajiList").empty()
                            $.each(data, function (i, v) {

                                $("#GajiList").append("<option value='" + v.HR_GAJI_POKOK.toFixed(2) + "'>P" + v.HR_PERINGKAT + "T" + parseFloat(v.HR_TAHAP).toFixed(2) + "</option>")
                            })

                        }
                    })
                    //GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, HR_GAJI_MAX)
                }
                GajiPokok($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val())

                function KodMatriks(HR_SISTEM, HR_GRED, HR_GAJI_POKOK) {
                    $.ajax({
                        url: "MaklumatKakitangan/KodMatriks",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_POKOK": HR_GAJI_POKOK },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {

                            $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("P" + data.HR_PERINGKAT + "T" + parseFloat(data.HR_TAHAP).toFixed(2))
                            $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val(data.HR_KOD_GAJI)
                        }
                    })
                    //GajiPokok(HR_SISTEM, HR_GRED, null, null)
                }
                KodMatriks($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val())

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#MaxList").empty()
                    $("#GajiList").empty()

                    MinGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#GajiList").empty()

                    MaxGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    GajiPokok($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    KodMatriks($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), this.value)
                })

                $("#Pekerjaan input[name='HR_JUM_TAHUN']").on("input", function () {
                    $("#Pekerjaan input[name='HR_TARIKH_TAMAT_KONTRAK']").val("");
                    if ($("#Pekerjaan input[name='HR_JUM_TAHUN']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() != "")
                    {
                        $.ajax({
                            url: "MaklumatKakitangan/JumlahTahunKontrak",
                            data: { "HR_JUM_TAHUN": $("#Pekerjaan input[name='HR_JUM_TAHUN']").val(), "HR_TARIKH_MASUK": $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val(tarikh.toLocaleDateString('en-GB'));
                            }
                        })
                    }

                })

                if ($.trim($("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").find("option:selected").text().toLowerCase()) != "kontrak") {
                    $("#Pekerjaan #TamatKontrak").hide();
                    $("#Pekerjaan #TamatTetap").show();
                }
                else {
                    $("#Pekerjaan #TamatKontrak").show();
                    $("#Pekerjaan #TamatTetap").hide();
                }
                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").on("input", function () {
                    console.log($.trim($(this).find("option:selected").text().toLowerCase()))
                    if ($.trim($(this).find("option:selected").text().toLowerCase()) == "kontrak")
                    {
                        $("#Pekerjaan #TamatKontrak").show();
                        $("#Pekerjaan #TamatTetap").hide();
                    }
                    else {
                        $("#Pekerjaan #TamatKontrak").hide();
                        $("#Pekerjaan #TamatTetap").show();
                    }

                    TarafJawatan();
                })

                $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").on("input", function () {

                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val("");
                    }

                    var TambahPenghasilan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val()))
                    var PurataPenghasilan = parseFloat(TambahPenghasilan / 2);
                    var PeratusPenghasilan = parseFloat(PurataPenghasilan / 100 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val(PurataPenghasilan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val(PeratusPenghasilan.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val("");
                    }
                    var TambahPengetahuan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val()))
                    var PurataPengetahuan = parseFloat(TambahPengetahuan / 2);
                    var PeratusPengetahuan = parseFloat(PurataPengetahuan / 120 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val(PurataPengetahuan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val(PeratusPengetahuan.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val("");
                    }
                    var TambahKualiti = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val()))
                    var PurataKualiti = parseFloat(TambahKualiti / 2);
                    var PeratusKualiti = parseFloat(PurataKualiti / 200 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val(PurataKualiti.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val(PeratusKualiti.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val("");
                    }
                    var TambahSumbangan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val()))
                    var PurataSumbangan = parseFloat(TambahSumbangan / 2);
                    var PeratusSumbangan = parseFloat(PurataSumbangan / 200 * 100);
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val(PurataSumbangan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val(PeratusSumbangan.toFixed(2));


                    var jumlah = PeratusPenghasilan + PeratusPengetahuan + PeratusKualiti + PeratusSumbangan;
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val(jumlah.toFixed(2));

                });
                $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").on("input", function () {
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val("");

                    if ($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").val() != "" && $("#Pekerjaan input[name='HR_TARIKH_MASUK']").val() != "") {
                        if ($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").val().length > 3)
                        {
                            $.ajax({
                                url: "MaklumatKakitangan/CariPrestasi",
                                data: { "HR_TAHUN_PRESTASI": $(this).val(), "HR_NO_PEKERJA": $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").val() },
                                contentType: "application/json; charset=utf-8",
                                type: 'GET',
                                dataType: "json",
                                success: function (data) {
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val(data.HR_PENGHASILAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val(data.HR_PENGHASILAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val(data.HR_PURATA_PENGHASILAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val(data.HR_PERATUS_PENGHASILAN.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val(data.HR_PENGETAHUAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val(data.HR_PENGETAHUAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val(data.HR_PURATA_PENGETAHUAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val(data.HR_PERATUS_PENGETAHUAN.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val(data.HR_KUALITI_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val(data.HR_KUALITI_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val(data.HR_PURATA_KUALITI.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val(data.HR_PERATUS_KUALITI.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val(data.HR_SUMBANGAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val(data.HR_SUMBANGAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val(data.HR_PURATA_SUMBANGAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val(data.HR_PERATUS_SUMBANGAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val(data.HR_JUMLAH_BESAR.toFixed(2));
                                }
                            })
                        }

                    }

                })

            //upload image
                $("button[name='upload-image']").click(function () {
                    $("input[name='file']").click();
                })
                $("input[name='file']").change(function () {
                    readURL(this);
                });

                function readURL(input) {
                    debugger;
                    if (input.files && input.files[0]) {
                        var reader = new FileReader();

                        reader.onload = function (e) {
                            $('#img').attr('src', e.target.result);
                        }
                        reader.readAsDataURL(input.files[0]);
                    }
                }
            $.post("../Kewangan8/AutoAktif", { HR_NO_PEKERJA: '@Model.HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA' });
        });
    </script>
}
<!-- END JAVASCRIPT -->

@model eSPP.Models.MaklumatKakitanganModels
<div id="content">

    <!-- widget grid -->
    <section id="widget-grid" class="">
        <!-- row -->
        <div class="row">

            <!-- NEW WIDGET START -->
            <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">

                <!-- Widget ID (each widget will need unique ID)-->
                <div class="jarviswidget" id="wid-id-3" data-widget-editbutton="false">
                    <!-- widget options:
                    usage: <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-0" data-widget-editbutton="false">

                    data-widget-colorbutton="false"
                    data-widget-editbutton="false"
                    data-widget-togglebutton="false"
                    data-widget-deletebutton="false"
                    data-widget-fullscreenbutton="false"
                    data-widget-custombutton="false"
                    data-widget-collapsed="true"
                    data-widget-sortable="false"

                    -->
                    <header>
                        <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                        <h2>Lantikan Jawatan Baru Manual</h2>

                    </header>

                    <!-- widget div-->
                    <div>

                        <!-- widget edit box -->
                        <div class="jarviswidget-editbox">
                            <!-- This area used as dropdown edit box -->

                        </div>
                        <!-- end widget edit box -->
                        <!-- widget content -->
                        <div class="widget-body">
                            
                            @using (Html.BeginForm("LantikanJawatanBaruManual", "LantikanJawatanBaru", FormMethod.Post, new { id = "mKakitangan", enctype = "multipart/form-data" }))
                            {
                                @Html.AntiForgeryToken()
                                @Html.ValidationBootstrap()
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                @Html.HiddenFor(model => model.ACTIVE_ITEM)
                                @Html.Partial("ListKakitangan", Model)

                                <div id="lihat-info">
                                    <div class="row">
                                        <div class="col-md-12 tab-pane">
                                            @Html.Partial("KakitanganTab")
                                            <div class="tab-content padding-10">
                                                @Html.Partial("TabPeribadi", Model)
                                                @Html.Partial("TabPekerjaan", Model)
                                                @Html.Partial("TabKemahiran", Model)
                                                @Html.Partial("TabAkademik", Model)
                                                @Html.Partial("TabPewaris", Model)
                                                @Html.Partial("TabTanggungan", Model)
                                                @Html.Partial("TabKuarters", Model)
                                                @Html.Partial("TabGaji", Model)
                                                @Html.Partial("TabAnugerah", Model)
                                                @Html.Partial("TabPersaraan", Model)
                                                @Html.Partial("TabTatatertib", Model)
                                                @Html.Partial("TabKematian", Model)
                                                @Html.Partial("TabPrestasi", Model)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <footer>
                                    <div class="well text-right">
                                        <button type="submit" name="Command" id="btn-edit" class="btn btn-primary" disabled="disabled">
                                            <i class="fa fa-save"> Simpan</i>
                                        </button>
                                    </div>
                                </footer>
                            }
                        </div>
                        @Html.Partial("ModalPekerja")
                        <!-- end widget div -->

                    </div>
                    <!-- end widget -->
                </div>
            </article>
            <!-- WIDGET END -->

        </div>
    </section>
</div>


<!-- END MAIN CONTENT (Khairil) -->

@section pagespecific {
    <script type="text/javascript">

        // DO NOT REMOVE : GLOBAL FUNCTIONS!

        $(document).ready(function () {

            //ActiveTab
            // store the currently selected tab in the hash value
            //$("ul.nav-tabs > li > a").on("shown.bs.tab", function(e) {
            //  var id = $(e.target).attr("href").substr(1);
            //  window.location.hash = id;
            //});

            // on load of the page: switch to the currently selected tab
            var hash = window.location.hash;
            $('#myTab a[href="' + hash + '"]').tab('show');


            $("#myTab #ActiveTab").on("click", function () {
                var fid = $(this).attr("href")
                item = fid.substring(1, fid.length)
                console.log(item);
                $("#ACTIVE_ITEM").val(item)
            })

                /* // DOM Position key index //

                l - Length changing (dropdown)
                f - Filtering input (search)
                t - The Table! (datatable)
                i - Information (records)
                p - Pagination (paging)
                r - pRocessing
                < and > - div elements
                <"#id" and > - div with an id
                <"class" and > - div with a class
                <"#id.class" and > - div with an id and class

                Also see: http://legacy.datatables.net/usage/features
                */

                /* BASIC ;*/
                var responsiveHelper_dt_basic = undefined;
                var responsiveHelper_datatable_fixed_column = undefined;
                var responsiveHelper_datatable_col_reorder = undefined;
                var responsiveHelper_datatable_PengalamanKerjaMPPJ = undefined;
                var responsiveHelper_datatable_PengalamanKerja = undefined;
                var responsiveHelper_datatable_KemahiranBahasa = undefined;
                var responsiveHelper_datatable_KemahiranTeknikal = undefined;
                var responsiveHelper_datatable_Kelayakan = undefined;
                var responsiveHelper_datatable_Sijil = undefined;
                var responsiveHelper_datatable_Kursus = undefined;
                var responsiveHelper_datatable_AktivitiLuar = undefined;
                var responsiveHelper_datatable_Tanggungan = undefined;
                var responsiveHelper_datatable_Gaji = undefined;
                var responsiveHelper_datatable_Elaun = undefined;
                var responsiveHelper_datatable_Potongan = undefined;
                var responsiveHelper_datatable_Caruman = undefined;
                var responsiveHelper_datatable_AnugerahPingat = undefined;
                var responsiveHelper_datatable_AnugerahCemerlang = undefined;
                var responsiveHelper_datatable_Tatatertib = undefined;
                var responsiveHelper_datatable_Cuti = undefined;
                var responsiveHelper_datatable_CariPekerja = undefined;

                var breakpointDefinition = {
                    tablet: 1024,
                    phone: 480
                };

                /* END BASIC */


                /* TABLETOOLS */
                function Cari(nilai) {
                    var CariPekerja = $('#datatable_CariPekerja').DataTable({

                        // Tabletools options:
                        //   https://datatables.net/extensions/tabletools/button_options
                        "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'l>r>" +
                                "t" +
                                "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                        "language": {
                            "zeroRecords": "Tiada data dijumpai",
                            "info": "Memaparkan <span class='txt-color-darken'>_START_</span> hingga <span class='txt-color-darken'>_END_</span> daripada <span class='text-primary'>_TOTAL_</span> rekod",
                            "infoEmpty": "Tiada data",
                            "infoFiltered": "(ditapis daripada <span class='text-primary'>_MAX_</span> jumlah rekod)"
                        },
                        "lengthMenu": [[10, 50, 100, -1], [10, 50, 100, "Semua"]],
                        'columnDefs': [{
                            'targets': 0,
                            'searchable': false,
                            'orderable': false,
                            'className': 'dt-body-center smart-form',
                            'render': function (data, type, full, meta) {
                                var html = '<label class="radio"><input type="radio" name="HR_NO_PEKERJA" value="' + data + '" class="HR_NO_PEKERJA"><i></i></label>';
                                return html;
                            }
                        }],
                        'order': [[1, 'asc']],
                        "searching": false,
                        "autoWidth": true,
                        'retrieve': true,
                        "ajax": {
                            "destroy": true,
                            "url": "../MaklumatKakitangan/SenaraiPekerja",
                            "data": { "nilai": nilai },
                            "type": "POST",
                            "datatype": "json"
                        },
                        "columns": [
                        { "data": "HR_NO_PEKERJA" },
                        { "data": "HR_NO_PEKERJA" },
                        { "data": "HR_NO_KPBARU" },
                        { "data": "HR_NAMA_PEKERJA" }

                        ],
                        //"preDrawCallback": function () {
                        //    // Initialize the responsive datatables helper once.
                        //    if (!responsiveHelper_datatable_CariPekerja) {
                        //        responsiveHelper_datatable_CariPekerja = new ResponsiveDatatablesHelper($('#datatable_CariPekerja'), breakpointDefinition);
                        //    }
                        //},
                        //"rowCallback": function (nRow) {
                        //    responsiveHelper_datatable_CariPekerja.createExpandIcon(nRow);
                        //},
                        //"drawCallback": function (oSettings) {
                        //    responsiveHelper_datatable_CariPekerja.respond();
                        //}
                    });

                    return CariPekerja;
                }
                Cari($("#nilai").val())

                $("#CariPenyelia2").on("click", function () {
                    $('#datatable_CariPekerja').DataTable().destroy();
                    Cari($("#nilai").val()).draw()
                })
                
                var PengalamanKerjaMPPJ = $('#datatable_PengalamanKerjaMPPJ').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-history2'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_PengalamanKerjaMPPJ) {
                            responsiveHelper_datatable_PengalamanKerjaMPPJ = new ResponsiveDatatablesHelper($('#datatable_PengalamanKerjaMPPJ'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_PengalamanKerjaMPPJ.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_PengalamanKerjaMPPJ.respond();
                    }
                });
                //button
                $("div.btn-add-history2").html('<div class="text-right"><button type = "button" name = "btn-add-history" id = "btn-add-history" class = "btn btn-success btn-add-history" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //
                var l = 0;
                if ($('#Pekerjaan #datatable_PengalamanKerjaMPPJ tbody tr:first td').length > 1) {
                    l = $('#Pekerjaan #datatable_PengalamanKerjaMPPJ tbody tr:not(:first)').length - 1;
                }

                $("#errorMsg").dialog({
                    modal: true,
                    autoOpen: false,
                    draggable: false,
                    title: 'Mesej',
                    buttons: {
                        "Tutup": function () {
                            $(this).dialog("close");
                            $("#errorMsg").html("")
                        }
                    }
                });

                $(document).on('click', '#Pekerjaan .btn-add-history', function (e) {
                    e.preventDefault();

                    var currentDate = new Date();
                    if ($("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val() == "" || $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").val() == "" || $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").val() == "" || $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JAWATAN']").val() == "" || $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").val() == "" || $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_GRED']").val() == "" || $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_MATRIKS_GAJI']").val() == "" || $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK']").val() == "") {
                        $("#errorMsg").html("<div><div><p>Sila penuhkan pada ruang berikut:-</p> <ul><li>Jabatan</li><li>Bahagian</li><li>Unit</li><li>Jawatan</li><li>Taraf Jawatan</li><li>Gred</li><li>Gaji Min</li><li>Gaji Max</li><li>Gaji Pokok</li></ul></div></div>");
                        $('#errorMsg').dialog('open');
                    }
                    else{
                        PengalamanKerjaMPPJ.row.add(["<span id='num'>" + (l + 1) + "</span>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JAWATAN'] option:selected").text() + "</div>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_BAHAGIAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_UNIT' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_GRED' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_GRED']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KUMP_PERKHIDMATAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_KUMP_PERKHIDMATAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARAF_JAWATAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_SAH_JAWATAN' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_NO_PENYELIA' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_NO_PENYELIA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_MATRIKS_GAJI' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_MATRIKS_GAJI']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KUMPULAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_KUMPULAN']").val() + "' />" +
                        //"<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TINGKATAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_TINGKATAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_KOD_GAJI' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_KOD_GAJI']").val() + "' />" +
                        //"<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_NP_UBAH' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_NP_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_MASUK' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_GAJI' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JAWATAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JAWATAN']").val() + "' />",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val() + "</div>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK' value='" + $("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val() + "' />",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN'] option:selected").text() + "</div>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_JABATAN' value='" + $("select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val() + "' />",

                        "<div id='rowtxt'>" + $.datepicker.formatDate('dd/mm/yy', currentDate) + "</div>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_PERUBAHAN' value='" + $.datepicker.formatDate('dd/mm/yy', currentDate) + "' />",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-history' id='btn-remove-history' name='remove-history' type='button'>" +
                        "<i class='fa fa-minus'></i>" +
                        "</button></div>"]).draw(false);

                        if ($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val() != "") {
                            $("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val())
                        }
                        else {
                            $("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK']").val($("input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val())
                        }

                        var td = $("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK']").parents("td");
                        $("#rowtxt", td).html($("input[name='HR_MAKLUMAT_PEKERJAAN_HISTORY[" + l + "].HR_TARIKH_TAMAT_KONTRAK']").val())

                        l++;
                        $(this).attr("disabled", "disabled");
                    }
                }).on('click', '#Pekerjaan .btn-remove-history', function (e) {
                    var row = PengalamanKerjaMPPJ.row($(this).parents('tr'));
                    row.remove().draw(false);

                    if ($('#Pekerjaan #datatable_PengalamanKerjaMPPJ tbody tr').length == 1) {
                        if (($('#Pekerjaan #datatable_PengalamanKerjaMPPJ tbody tr:first td').length <= 1)) {
                            $('#Pekerjaan .btn-add-history').removeAttr("disabled");
                        }
                    }

                    var g = 0;

                    PengalamanKerjaMPPJ.row().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEKERJAAN_HISTORY_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEKERJAAN_HISTORY[" + g + "]." + s[1])

                                if (s[1] == "HR_TARIKH_PERUBAHAN" && $(this).val() == $.datepicker.formatDate('dd/mm/yy', new Date()))
                                {
                                    $('#Pekerjaan .btn-add-history').attr("disabled", "disabled");
                                }
                                else {
                                    $('#Pekerjaan .btn-add-history').removeAttr("disabled");
                                }
                            }
                        })
                        g++;

                    });
                    l--;
                    e.preventDefault();
                    return false;
                })
                //$('#Pekerjaan .btn-add-history').click();

                var PengalamanKerja = $('#datatable_PengalamanKerja').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-pengalaman'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_PengalamanKerja) {
                            responsiveHelper_datatable_PengalamanKerja = new ResponsiveDatatablesHelper($('#datatable_PengalamanKerja'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_PengalamanKerja.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_PengalamanKerja.respond();
                    }
                });
                //button
                $("div.btn-add-pengalaman").html('<div class="text-right"><button type = "button" name = "btn-add-PengalamanKerja" id = "btn-add-PengalamanKerja" class = "btn btn-success btn-add-PengalamanKerja" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Kemahiran #btn-add-PengalamanKerja").on("click", function () {
                    $("#ModalPengalaman").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lP = 0;
                if ($('#Kemahiran #datatable_PengalamanKerja tbody tr:first td').length > 1) {
                    lP = $('#Kemahiran #datatable_PengalamanKerja tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Kemahiran #btn-pengalaman", function (e) {
                    e.preventDefault();
                    var isValid = 0
                    if ($("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT']").focus()
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN']").focus()
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA']").focus()
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT']").focus()
                        isValid++;
                    }

                    if (isValid <= 0) {
                        PengalamanKerja.row.add(["<span id='num'>" + (lP + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_NAMA_SYARIKAT' class='form-control HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT' value='" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT']").val() + "' data-msg-required='Sila masukkan nama syarikat' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_JAWATAN' class='form-control HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN' value='" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN']").val() + "' data-msg-required='Sila masukkan jawatan' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA' id='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_TAMAT' class='form-control HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT' id='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT' value='" + $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT']").val() + "' data-msg-required='Sila masukkan tarikh tamat' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("textarea[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_ALASAN_BERHENTI']").val() + "</div>" +
                        "<div class='textarea textarea-resizable'>" +
                        "<textarea style='display:none;' name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_ALASAN_BERHENTI' class='form-control' >" + $("textarea[name='HR_MAKLUMAT_PENGALAMAN_KERJA_HR_ALASAN_BERHENTI']").val() + "</textarea>" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-PengalamanKerja' id='btn-remove-PengalamanKerja' name='remove-PengalamanKerja' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_MULA']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_MULA']").addClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA');

                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_TAMAT']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_PENGALAMAN_KERJA[" + lP + "].HR_TARIKH_TAMAT']").addClass('HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT');

                        lP++;

                        $("#ModalPengalaman").modal("hide");
                        $("#ModalPengalaman").find('input,textarea').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Kemahiran .btn-remove-PengalamanKerja', function (e) {
                    var row = PengalamanKerja.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    PengalamanKerja.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                //$(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PENGALAMAN_KERJA_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + g + "]." + s[1])
                            }
                        })
                        g++;

                    });

                    lP--;

                    e.preventDefault();
                    return false;
                })
                

                var KemahiranBahasa = $('#datatable_KemahiranBahasa').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-KemahiranBahasa'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_KemahiranBahasa) {
                            responsiveHelper_datatable_KemahiranBahasa = new ResponsiveDatatablesHelper($('#datatable_KemahiranBahasa'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_KemahiranBahasa.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_KemahiranBahasa.respond();
                    }
                });
                //button
                $("div.btn-add-KemahiranBahasa").html('<div class="text-right"><button type = "button" name = "btn-add-KemahiranBahasa" id = "btn-add-KemahiranBahasa" class = "btn btn-success btn-add-KemahiranBahasa" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //
                
                $("#Kemahiran #btn-add-KemahiranBahasa").on("click", function () {
                    $("#ModalKemahiranBahasa").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lB = 0;
                if ($('#Kemahiran #datatable_KemahiranBahasa tbody tr:first td').length > 1) {
                    lB = $('#Kemahiran #datatable_KemahiranBahasa tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Kemahiran #btn-KemahiranBahasa", function (e) {
                    e.preventDefault();
                    var isValid = 0
                    if ($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {


                        var optionBahasa = $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").html();
                        var optionTahap = $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN']").html()

                        KemahiranBahasa.row.add(["<span id='num'>" + (lB + 1) + "</span>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_BAHASA' class='form-control HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA' id='HR_BAHASA' style='display:none;' data-msg-required='Sila pilih bahasa'>" +
                        optionBahasa +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PEMBACAAN' class='form-control HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN' style='display:none;' data-msg-required='Sila pilih pembacaan'>" +
                        optionTahap +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PENULISAN' class='form-control HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN' style='display:none;' data-msg-required='Sila pilih menulisan'>" +
                        optionTahap +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PERTUTURAN' class='form-control HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN' style='display:none;' data-msg-required='Sila pilih pertuturan'>" +
                        optionTahap +
                        "</select>" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-KemahiranBahasa' id='btn-remove-KemahiranBahasa' name='remove-KemahiranBahasa' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_BAHASA']").val($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").val());
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PEMBACAAN']").val($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN']").val())
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PENULISAN']").val($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN']").val())
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + lB + "].HR_PERTUTURAN']").val($("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN']").val())

                        lB++;

                        var tt = 0
                        KemahiranBahasa.rows().every(function () {
                            var data = this.node();
                            var vv = $("td:eq(1) select", data)

                            if (vv.val() != "" || vv.val() != null) {
                                var prevValue = $(vv).data('previous');
                                $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").not(vv).find('option[value="' + prevValue + '"]').show();
                                $('select').not(vv).find('option[value="' + prevValue + '"]').show();
                                var value = $(vv).val();
                                $(vv).data('previous', value); $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").not(vv).find('option[value="' + value + '"]').hide();
                                $(vv).data('previous', value); $('select').not(vv).find('option[value="' + value + '"]').hide();
                                if (tt >= 4) {
                                    $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").not(vv).find('option[value="' + prevValue + '"]').show();
                                    $('select').not(vv).find('option[value="' + prevValue + '"]').show();
                                    var value = $(vv).val();
                                    $(vv).data('previous', value); $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").not(vv).find('option[value="' + value + '"]').hide();
                                    $(vv).data('previous', value); $('select').not(vv).find('option[value="' + value + '"]').hide();
                                }
                                tt++;
                            }
                        })


                        $("#ModalKemahiranBahasa").modal("hide");
                        $("#ModalKemahiranBahasa").find('select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Kemahiran .btn-remove-KemahiranBahasa', function (e) {
                    var vv = $(this).parents('tr').find("td:eq(1) select").val();
                    var row = KemahiranBahasa.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;
                    
                    KemahiranBahasa.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                //$(this).removeAttr("id").attr("id", "HR_MAKLUMAT_KEMAHIRAN_BAHASA_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_BAHASA[" + g + "]." + s[1])
                            }
                        })
                        $("option[value='" + vv + "']", data).show()
                        g++;
                    });

                    lB--;

                    $("select[name='HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA']").find("option[value='" + vv + "']").show()
                    e.preventDefault();
                    return false;
                })

                $('#datatable_KemahiranBahasa').on('change', '#HR_BAHASA', function (event) {

                    var prevValue = $(this).data('previous');
                    if (prevValue != null || prevValue != "") {
                        $('select').not(this).find('option[value="' + prevValue + '"]').show();
                        var value = $(this).val();
                        $(this).data('previous', value); $('select').not(this).find('option[value="' + value + '"]').hide();
                    }

                });

                var KemahiranTeknikal = $('#datatable_KemahiranTeknikal').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-KemahiranTeknikal'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_KemahiranTeknikal) {
                            responsiveHelper_datatable_KemahiranTeknikal = new ResponsiveDatatablesHelper($('#datatable_KemahiranTeknikal'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_KemahiranTeknikal.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_KemahiranTeknikal.respond();
                    }
                });
                //button
                $("div.btn-add-KemahiranTeknikal").html('<div class="text-right"><button type = "button" name = "btn-add-KemahiranTeknikal" id = "btn-add-KemahiranTeknikal" class = "btn btn-success btn-add-KemahiranTeknikal" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //
                
                $("#Kemahiran #btn-add-KemahiranTeknikal").on("click", function () {
                    $("#ModalKemahiranTeknikal").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lKT = 0;
                if ($('#Kemahiran #datatable_KemahiranTeknikal tbody tr:first td').length > 1) {
                    lKT = $('#Kemahiran #datatable_KemahiranTeknikal tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Kemahiran #btn-KemahiranTeknikal", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN']").focus();
                        isValid++
                    }
                    if ($("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP']").focus();
                        isValid++
                    }

                    if (isValid <= 0) {
                        var optionTahap = $("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP']").html();

                        KemahiranTeknikal.row.add(["<span id='num'>" + (lKT + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + lKT + "].HR_KEMAHIRAN' class='form-control HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN' value='" + $("input[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN']").val() + "' data-msg-required='Sila masukkan kemahiran' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + lKT + "].HR_TAHAP' class='form-control HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP' style='display:none;' data-msg-required='Sila pilih tahap'>" +
                        optionTahap +
                        "</select>" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-KemahiranTeknikal' id='btn-remove-KemahiranTeknikal' name='remove-KemahiranTeknikal' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + lKT + "].HR_TAHAP']").val($("select[name='HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP']").val());
                        lKT++;

                        $("#ModalKemahiranTeknikal").modal("hide");
                        $("#ModalKemahiranTeknikal").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Kemahiran .btn-remove-KemahiranTeknikal', function (e) {
                    var row = KemahiranTeknikal.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    KemahiranTeknikal.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                //$(this).removeAttr("id").attr("id", "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lKT--;

                    e.preventDefault();
                    return false;
                });

                var Kelayakan = $('#datatable_Kelayakan').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Kelayakan'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Kelayakan) {
                            responsiveHelper_datatable_Kelayakan = new ResponsiveDatatablesHelper($('#datatable_Kelayakan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Kelayakan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Kelayakan.respond();
                    }
                });
                //button
                $("div.btn-add-Kelayakan").html('<div class="text-right"><button type = "button" name = "btn-add-Kelayakan" id = "btn-add-Kelayakan" class = "btn btn-success btn-add-Kelayakan" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Akademik #btn-add-Kelayakan").on("click", function () {
                    $("#ModalKelayakan").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lK = 0;
                if ($('#Akademik #datatable_Kelayakan tbody tr:first td').length > 1) {
                    lK = $('#Akademik #datatable_Kelayakan tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Akademik #btn-Kelayakan", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        Kelayakan.row.add(["<span id='num'>" + (lK + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KELAYAKAN[" + lK + "].HR_KEPUTUSAN' class='form-control HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN' value='" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN']").val() + "' data-msg-required='Sila masukkan kelayakan akademik' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KELAYAKAN[" + lK + "].HR_PANGKAT' class='form-control HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT' value='" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT']").val() + "' data-msg-required='Sila masukkan keputusan' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KELAYAKAN[" + lK + "].HR_TAHUN_MULA' class='form-control HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA' value='" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA']").val() + "' data-msg-required='Sila masukkan tahun mula' data-msg-number='Sila masukkan hanya nombor sahaja' data-msg-minlength='Tahun tidak betul' maxlength = 4 />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KELAYAKAN[" + lK + "].HR_TAHUN_TAMAT' class='form-control HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT' value='" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT']").val() + "' data-msg-required='Sila masukkan tahun tamat' data-msg-number='Sila masukkan hanya nombor sahaja' data-msg-minlength='Tahun tidak betul' maxlength = 4 />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KELAYAKAN[" + lK + "].HR_SEKOLAH_INSTITUSI' class='form-control HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI' value='" + $("input[name='HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI']").val() + "' data-msg-required='Sila masukkan sekolah/IPT' />" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Kelayakan' id='btn-remove-Kelayakan' name='remove-Kelayakan' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);
                        lK++;


                        $("#ModalKelayakan").modal("hide");
                        $("#ModalKelayakan").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Akademik .btn-remove-Kelayakan', function (e) {
                    var row = Kelayakan.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    Kelayakan.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                //$(this).removeAttr("id").attr("id", "HR_MAKLUMAT_KELAYAKAN_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KELAYAKAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lK--;

                    e.preventDefault();
                    return false;
                });

                

                var Sijil = $('#datatable_Sijil').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Sijil'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Sijil) {
                            responsiveHelper_datatable_Sijil = new ResponsiveDatatablesHelper($('#datatable_Sijil'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Sijil.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Sijil.respond();
                    }
                });
                //button
                $("div.btn-add-Sijil").html('<div class="text-right"><button type = "button" name = "btn-add-Sijil" id = "btn-add-Sijil" class = "btn btn-success btn-add-Sijil" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Akademik #btn-add-Sijil").on("click", function () {
                    $("#ModalSijil").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lS = 0;
                if ($('#Akademik #datatable_Sijil tbody tr:first td').length > 1) {
                    lS = $('#Akademik #datatable_Sijil tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Akademik #btn-Sijil", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN']").focus();
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI']").focus();
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_SIJIL_HR_ANJURAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_SIJIL_HR_ANJURAN']").focus();
                        isValid++;
                    }

                    if ($("select[name='HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKeputusan = $("select[name='HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN']").html()

                        Sijil.row.add(["<span id='num'>" + (lS + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_NAMA_SIJIL_PEPERIKSAAN' class='form-control HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN' value='" + $("input[name='HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN']").val() + "' data-msg-required='Sila masukkan nama sijil peperiksaan' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_TARIKH_DIPEROLEHI' class='form-control HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI' id='HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI' value='" + $("input[name='HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI']").val() + "' data-msg-required='Sila masukkan tarikh diperolehi' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_SIJIL_HR_ANJURAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_ANJURAN' class='form-control HR_MAKLUMAT_SIJIL_HR_ANJURAN' value='" + $("input[name='HR_MAKLUMAT_SIJIL_HR_ANJURAN']").val() + "' data-msg-required='Sila masukkan anjuran' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_KEPUTUSAN' class='form-control HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN' style='display:none;' data-msg-required='Sila pilih keputusan'>" +
                        optionKeputusan +
                        "</select>" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-Sijil' id='btn-remove-Sijil' name='remove-Sijil' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_KEPUTUSAN']").val($("select[name='HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN']").val());

                        $("input[name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_TARIKH_DIPEROLEHI']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_SIJIL[" + lS + "].HR_TARIKH_DIPEROLEHI']").addClass('HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI');
                        lS++;

                        $("#ModalSijil").modal("hide");
                        $("#ModalSijil").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Akademik .btn-remove-Sijil', function (e) {
                    var row = Sijil.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    Sijil.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_SIJIL[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lS--;

                    e.preventDefault();
                    return false;
                });

                var Kursus = $('#datatable_Kursus').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Kursus'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Kursus) {
                            responsiveHelper_datatable_Kursus = new ResponsiveDatatablesHelper($('#datatable_Kursus'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Kursus.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Kursus.respond();
                    }
                });
                //button
                $("div.btn-add-Kursus").html('<div class="text-right"><button type = "button" name = "btn-add-Kursus" id = "btn-add-Kursus" class = "btn btn-success btn-add-Kursus" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Akademik #btn-add-Kursus").on("click", function () {
                    $("#ModalKursus").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lKL = 0;
                if ($('#Akademik #datatable_Kursus tbody tr:first td').length > 1) {
                    lKL = $('#Akademik #datatable_Kursus tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Akademik #btn-Kursus", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKursus = $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS']").html();
                        var optionKeputusan = $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN']").html();

                        Kursus.row.add(["<span id='num'>" + (lKL + 1) + "</span>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_KOD_KURSUS' class='form-control HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS' style='display:none;' data-msg-required='Sila pilih nama kursus'>" +
                        optionKursus +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA' id='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_TAMAT' class='form-control HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT' id='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT' value='" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT']").val() + "' data-msg-required='Sila masukkan tarikh tamat' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_ANJURAN' class='form-control HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN' value='" + $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN']").val() + "' data-msg-required='Sila masukkan anjuran' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_KEPUTUSAN' class='form-control HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN' style='display:none;' data-msg-required='Sila pilih keputusan'>" +
                        optionKeputusan +
                        "</select>" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Kursus' id='btn-remove-Kursus' name='remove-Kursus' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_KOD_KURSUS']").val($("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS']").val());
                        $("select[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_KEPUTUSAN']").val($("select[name='HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN']").val());

                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_MULA']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_MULA']").addClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA')

                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_TAMAT']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_KURSUS_LATIHAN[" + lKL + "].HR_TARIKH_TAMAT']").addClass('HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT')
                        lKL++;


                        $("#ModalKursus").modal("hide");
                        $("#ModalKursus").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Akademik .btn-remove-Kursus', function (e) {
                    var row = Kursus.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    Kursus.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_KURSUS_LATIHAN_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURSUS_LATIHAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lKL--;

                    e.preventDefault();
                    return false;
                });

                

                var AktivitiLuar = $('#datatable_AktivitiLuar').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-AktivitiLuar'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AktivitiLuar) {
                            responsiveHelper_datatable_AktivitiLuar = new ResponsiveDatatablesHelper($('#datatable_AktivitiLuar'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AktivitiLuar.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AktivitiLuar.respond();
                    }
                });
                //button
                $("div.btn-add-AktivitiLuar").html('<div class="text-right"><button type = "button" name = "btn-add-AktivitiLuar" id = "btn-add-AktivitiLuar" class = "btn btn-success btn-add-AktivitiLuar" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Akademik #btn-add-AktivitiLuar").on("click", function () {
                    $("#ModalAktivitiLuar").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lAL = 0;
                if ($('#Akademik #datatable_AktivitiLuar tbody tr:first td').length > 1) {
                    lAL = $('#Akademik #datatable_AktivitiLuar tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Akademik #btn-AktivitiLuar", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("select[name='HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_AKTIVITI_HR_ANJURAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_AKTIVITI_HR_ANJURAN']").focus();
                        isValid++;
                    }
                    if (isValid <= 0) {
                        var optionPeringkat = $("select[name='HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT']").html();

                        AktivitiLuar.row.add(["<span id='num'>" + (lAL + 1) + "</span>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_PERINGKAT' class='form-control HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT' style='display:none;' data-msg-required='Sila pilih peringkat'>" +
                        optionPeringkat +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_TARIKH_AKTIVITI' class='form-control HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI' id='HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI' value='" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI']").val() + "' data-msg-required='Sila masukkan tarikh aktiviti' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_NAMA_AKTIVITI' class='form-control HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI' value='" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI']").val() + "' data-msg-required='Sila masukkan nama aktiviti' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_ANJURAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_ANJURAN' class='form-control HR_MAKLUMAT_AKTIVITI_HR_ANJURAN' value='" + $("input[name='HR_MAKLUMAT_AKTIVITI_HR_ANJURAN']").val() + "' data-msg-required='Sila masukkan anjuran' />" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-AktivitiLuar' id='btn-remove-AktivitiLuar' name='remove-AktivitiLuar' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_PERINGKAT']").val($("select[name='HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT']").val());

                        $("input[name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_TARIKH_AKTIVITI']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_MAKLUMAT_AKTIVITI[" + lAL + "].HR_TARIKH_AKTIVITI']").addClass('HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI')
                        lAL++;

                        $("#ModalAktivitiLuar").modal("hide");
                        $("#ModalAktivitiLuar").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Akademik .btn-remove-AktivitiLuar', function (e) {
                    var row = AktivitiLuar.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    AktivitiLuar.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                //$(this).removeAttr("id").attr("id", "HR_MAKLUMAT_AKTIVITI_" + g + "__" + s[1])
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_AKTIVITI[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lAL--;

                    e.preventDefault();
                    return false;
                });
                
                var Tanggungan = $('#datatable_Tanggungan').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Tanggungan'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Tanggungan) {
                            responsiveHelper_datatable_Tanggungan = new ResponsiveDatatablesHelper($('#datatable_Tanggungan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Tanggungan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Tanggungan.respond();
                    },
                    "scrollX": true
                });

                //button
                $("div.btn-add-Tanggungan").html('<div class="text-right"><button type = "button" name = "btn-add-Tanggungan" id = "btn-add-Tanggungan" class = "btn btn-success btn-add-Tanggungan" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Tanggungan #btn-add-Tanggungan").on("click", function () {
                    $("#ModalTanggungan").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lT = 0;
                if ($('#Tanggungan #datatable_Tanggungan tbody tr:first td').length > 1) {
                    lT = $('#Tanggungan #datatable_Tanggungan tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Tanggungan #btn-Tanggungan", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionJantina = $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA']").html();
                        var optionHubungan = $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN']").html();
                        var optionLahir = $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR']").html();

                        Tanggungan.row.add(["<span id='num'>" + (lT + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_NAMA_TANGGUNGAN' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN' value='" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN']").val() + "' data-msg-required='Sila masukkan nama' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_NO_KP' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP' value='" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP']").val() + "' data-msg-required='Sila masukkan no KP/surat beranak' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_JANTINA' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA' style='display:none;' data-msg-required='Sila pilih jantina'>" +
                        optionJantina +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_HUBUNGAN' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN' style='display:none;' data-msg-required='Sila pilih hubungan'>" +
                        optionHubungan +
                        "</select>" +
                        "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_TARIKH_LAHIR' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR' id='HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR' value='" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR']").val() + "' data-msg-required='Sila masukkan tarikh lahir' />" +
                        "</div>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_TEMPAT_LAHIR' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR' style='display:none;' data-msg-required='Sila pilih tempat lahir'>" +
                        optionLahir +
                        "</select>" +
                        "</div>",
                        "<div id='umur2'>" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_UMUR']").val() + "</div>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_SEK_IPT']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_SEK_IPT' class='form-control HR_MAKLUMAT_TANGGUNGAN_HR_SEK_IPT' value='" + $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_SEK_IPT']").val() + "' />" +
                        "</div>",
                        "<div class='text-center'><button class='btn btn-danger btn-remove-Tanggungan' id='btn-remove-Tanggungan' name='remove-Tanggungan' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_JANTINA']").val($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA']").val())
                        $("select[name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_HUBUNGAN']").val($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN']").val())
                        $("select[name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_TEMPAT_LAHIR']").val($("select[name='HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR']").val())

                        $("input[name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_TARIKH_LAHIR']").attr({ "id": "" }).removeClass('HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                                var umur = $(this).parents('tr')
                                $('td:eq(7) #umur2', umur).html('');
                                $.ajax({
                                    url: "../MaklumatKakitangan/KiraUmur",
                                    data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                                    contentType: "application/json; charset=utf-8",
                                    type: 'GET',
                                    dataType: "json",
                                    success: function (data) {
                                        $('td:eq(7) #umur2', umur).html(data);
                                    }
                                })
                            }
                        }).on('change', function () {
                            var umur = $(this).parents('tr')
                            $('td:eq(7) #umur2', umur).html('');
                            $.ajax({
                                url: "../MaklumatKakitangan/KiraUmur",
                                data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                                contentType: "application/json; charset=utf-8",
                                type: 'GET',
                                dataType: "json",
                                success: function (data) {
                                    $('td:eq(7) #umur2', umur).html(data);
                                }
                            })
                        });
                        $("input[name='HR_MAKLUMAT_TANGGUNGAN[" + lT + "].HR_TARIKH_LAHIR']").addClass('HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR')
                        lT++;


                        $("#ModalTanggungan").modal("hide");
                        $("#ModalTanggungan").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Tanggungan .btn-remove-Tanggungan', function (e) {
                    var row = Tanggungan.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    Tanggungan.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_TANGGUNGAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lT--;

                    e.preventDefault();
                    return false;
                });

                var GajiT = $('#datatable_Gaji').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Gaji'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    //"scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Gaji) {
                            responsiveHelper_datatable_Gaji = new ResponsiveDatatablesHelper($('#datatable_Gaji'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Gaji.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Gaji.respond();
                    }
                });
                //button
                $("div.btn-add-Gaji").html('<div class="text-right"><button type = "button" name = "btn-add-Gaji" id = "btn-add-Gaji" class = "btn btn-success btn-add-Gaji" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Gaji #btn-add-Gaji").on("click", function () {
                    $("#ModalGaji").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lG = 0;
                if ($('#Gaji #datatable_Gaji tbody tr:first td').length > 1) {
                    lG = $('#Gaji #datatable_Gaji tbody tr:not(:first)').length - 1;
                    $('#btn-add-Gaji').hide();
                }
                else {
                    $('#btn-add-Gaji').show();
                }

                $(document).on('click', "#Gaji #btn-Gaji", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD']").valid() == false) {
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN']").html();
                        var optionMod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN']").html();
                        var optionAktif = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND']").html();
                        var optionAuto = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND']").html();

                        GajiT.row.add(["<span id='num'>" + (lG + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_KOD' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD']").val() + "' readonly='readonly' data-msg-required='Sila masukkan kod' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_NP_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NP_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_NP_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NP_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_MATRIKS_GAJI_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MATRIKS_GAJI_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_GRED_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_GRED_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_UBAH_IND' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_UBAH_IND']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_NO_PEKERJA_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NO_PEKERJA_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_HARI_BEKERJA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_HARI_BEKERJA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_BAKI' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_BAKI']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TUNTUTAN_MAKSIMA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TUNTUTAN_MAKSIMA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_PENERANGAN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_PENERANGAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_JUMLAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_JUMLAH']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_KOD_ELAUN_POTONGAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN' id='HR_KOD_ELAUN_POTONGAN' style='display:none;'>" +
                        optionKod +
                        "</select>",


                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NO_FAIL']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_NO_FAIL' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NO_FAIL' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_NO_FAIL']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_AKHIR' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR']").val() + "' data-msg-required='Sila masukkan tarikh akhir' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_MOD_BAYARAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN' style='display:none;' data-msg-required='Sila pilih mod bayar'>" +
                        optionMod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='aktif_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_AKTIF_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND' style='display:none;' data-msg-required='Sila pilih status'>" +
                        optionAktif +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='auto_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND'] option:selected").text() + "</div>" +
                        "<div class='input'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_AUTO_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND' id='HR_AUTO_IND' style='display:none;'>" +
                        optionAuto +
                        "</select>" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Gaji' id='btn-remove-Gaji' name='remove-Gaji' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_KOD_ELAUN_POTONGAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_MOD_BAYARAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_AKTIF_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_AUTO_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND']").val())

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_MULA']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_MULA']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA")

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_AKHIR']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G[" + lG + "].HR_TARIKH_AKHIR']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR")

                        lG++;

                        $('#btn-add-Gaji').hide();
                        $("#ModalGaji").modal("hide");
                        $("#ModalGaji").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Gaji .btn-remove-Gaji', function (e) {
                    var row = GajiT.row($(this).parents('tr'));
                    row.remove().draw(false);
                    $('#btn-add-Gaji').show();
                    var g = 0;

                    GajiT.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_G[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lG--;

                    e.preventDefault();
                    return false;
                });
                

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN").on("change", function () {
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD']").val($(this).val());
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND").on("change", function () {
                    $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND").val("T");
                })

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND").on("change", function () {
                    var tr = $(this).parents("tr");
                    var auto = $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND").val();
                    var tMula = $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").val();
                    var tAkhir = $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR").val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND").val(data);
                        }
                    }, "Json")
                })

                $("#datatable_Gaji").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", tr).val("T");
                    $('.auto_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND option:selected", tr).text())
                })

                $("#datatable_Gaji").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR", tr).val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND", tr).val(data);
                            $('.aktif_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND option:selected", tr).text())
                        }
                    }, "Json")
                })

                var ElaunT = $('#datatable_Elaun').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Elaun'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    //"scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Elaun) {
                            responsiveHelper_datatable_Elaun = new ResponsiveDatatablesHelper($('#datatable_Elaun'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Elaun.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Elaun.respond();
                    }
                });
                //button
                $("div.btn-add-Elaun").html('<div class="text-right"><button type = "button" name = "btn-add-Elaun" id = "btn-add-Elaun" class = "btn btn-success btn-add-Elaun" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Gaji #btn-add-Elaun").on("click", function () {
                    $("#ModalElaun").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lE = 0;
                if ($('#Gaji #datatable_Elaun tbody tr:first td').length > 1) {
                    lE = $('#Gaji #datatable_Elaun tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Gaji #btn-Elaun", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD']").valid() == false) {
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN']").html();
                        var optionMod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN']").html();
                        var optionAktif = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND']").html();
                        var optionAuto = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND']").html();

                        ElaunT.row.add(["<span id='num'>" + (lE + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_KOD' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD']").val() + "' readonly='readonly' data-msg-required='Sila masukkan kod' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_NP_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NP_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_NP_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NP_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_MATRIKS_GAJI_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MATRIKS_GAJI_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_GRED_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_GRED_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_UBAH_IND' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_UBAH_IND']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_NO_PEKERJA_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NO_PEKERJA_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_HARI_BEKERJA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_HARI_BEKERJA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_BAKI' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_BAKI']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_PENERANGAN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_PENERANGAN']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_KOD_ELAUN_POTONGAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN' id='HR_KOD_ELAUN_POTONGAN' style='display:none;' data-msg-required='Sila pilih elaun'>" +
                        optionKod +
                        "</select>" +
                        "</div>",


                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NO_FAIL']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_NO_FAIL' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NO_FAIL' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_NO_FAIL']").val() + "' />" +
                         "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TUNTUTAN_MAKSIMA' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA']").val() + "' data-msg-number='Sila masukkan tuntutan maksima' />" +
                        "</div>",

                        "<div id='rowtxt' class='jumlah'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_JUMLAH' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").val() + "' readonly='readonly' data-msg-required='Sila masukkan hanya nombor sahaja' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_AKHIR' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR']").val() + "' data-msg-required='Sila masukkan tarikh akhir' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_MOD_BAYARAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN' style='display:none;' data-msg-required='Sila pilih mod bayaran'>" +
                        optionMod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='aktif_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_AKTIF_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND' style='display:none;' data-msg-required='Sila pilih status'>" +
                        optionAktif +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='auto_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_AUTO_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND' id='HR_AUTO_IND' style='display:none;'>" +
                        optionAuto +
                        "</select>" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Elaun' id='btn-remove-Elaun' name='remove-Elaun' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_KOD_ELAUN_POTONGAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_MOD_BAYARAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_AKTIF_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_AUTO_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND']").val())

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_MULA']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_MULA']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA")

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_AKHIR']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E[" + lE + "].HR_TARIKH_AKHIR']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR")

                        lE++;

                        $("#ModalElaun").modal("hide");
                        $("#ModalElaun").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Gaji .btn-remove-Elaun', function (e) {
                    var row = ElaunT.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    ElaunT.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_E[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lE--;

                    e.preventDefault();
                    return false;
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN").on("change", function () {
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD']").val($(this).val());
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").val("");
                    $.getJSON("../MaklumatKakitangan/JumElaun?HR_KOD=" + $(this).val(), function (data) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH']").val(data);
                    })
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND").on("change", function () {
                    $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND").val("T");
                })

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND").on("change", function () {
                    var tr = $(this).parents("tr");
                    var auto = $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND").val();
                    var tMula = $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA").val();
                    var tAkhir = $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND").val(data);
                        }
                    }, "Json")
                })

                $("#datatable_Elaun").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", tr).val("T");
                    $('.auto_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND option:selected", tr).text())
                })

                $("#datatable_Elaun").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR", tr).val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND", tr).val(data);
                            $('.aktif_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND option:selected", tr).text())
                        }
                    }, "Json")
                })

                var PotonganT = $('#datatable_Potongan').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Potongan'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    //"scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Potongan) {
                            responsiveHelper_datatable_Potongan = new ResponsiveDatatablesHelper($('#datatable_Potongan'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Potongan.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Potongan.respond();
                    }
                });
                //button
                $("div.btn-add-Potongan").html('<div class="text-right"><button type = "button" name = "btn-add-Potongan" id = "btn-add-Potongan" class = "btn btn-success btn-add-Potongan" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Gaji #btn-add-Potongan").on("click", function () {
                    $("#ModalPotongan").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lPO = 0;
                if ($('#Gaji #datatable_Potongan tbody tr:first td').length > 1) {
                    lPO = $('#Gaji #datatable_Potongan tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Gaji #btn-Potongan", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD']").valid() == false) {
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN']").html();
                        var optionMod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN']").html();
                        var optionAktif = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND']").html();
                        var optionAuto = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND']").html();

                        PotonganT.row.add(["<span id='num'>" + (lPO + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_KOD' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD']").val() + "' readonly='readonly' data-msg-required='Sila masukkan kod' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_NP_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NP_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_NP_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NP_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_MATRIKS_GAJI_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MATRIKS_GAJI_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_GRED_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_GRED_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_UBAH_IND' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_UBAH_IND']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_NO_PEKERJA_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NO_PEKERJA_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_HARI_BEKERJA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_HARI_BEKERJA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_BAKI' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_BAKI']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TUNTUTAN_MAKSIMA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TUNTUTAN_MAKSIMA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_PENERANGAN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_PENERANGAN']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_KOD_ELAUN_POTONGAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN' id='HR_KOD_ELAUN_POTONGAN' style='display:none;' data-msg-required='Sila pilih potongan'>" +
                        optionKod +
                        "</select>" +
                        "</div>",


                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NO_FAIL']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_NO_FAIL' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NO_FAIL' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_NO_FAIL']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt' class='jumlah'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_JUMLAH' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").val() + "' data-msg-number='Sila masukkan hanya nombor' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_AKHIR' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR']").val() + "' data-msg-required='Sila masukkan tarikh akhir' />" +
                         "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_MOD_BAYARAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN' style='display:none;' data-msg-required='Sila pilih mod bayaran'>" +
                        optionMod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='aktif_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_AKTIF_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND' style='display:none;' data-msg-required='Sila pilih status'>" +
                        optionAktif +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='auto_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_AUTO_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND' id='HR_AUTO_IND' style='display:none;'>" +
                        optionAuto +
                        "</select>" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Potongan' id='btn-remove-Potongan' name='remove-Potongan' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_KOD_ELAUN_POTONGAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_MOD_BAYARAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_AKTIF_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_AUTO_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND']").val())

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_MULA']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_MULA']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA")

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_AKHIR']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P[" + lPO + "].HR_TARIKH_AKHIR']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR")

                        lPO++;

                        $("#ModalPotongan").modal("hide");
                        $("#ModalPotongan").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Gaji .btn-remove-Potongan', function (e) {
                    var row = PotonganT.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    PotonganT.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_P[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lPO--;

                    e.preventDefault();
                    return false;
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN").on("change", function () {
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD']").val($(this).val());
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").val("");
                    $.getJSON("../MaklumatKakitangan/JumElaun?HR_KOD=" + $(this).val(), function (data) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH']").val(data);
                    })
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND").on("change", function () {
                    $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND").val("T");
                })

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND").on("change", function () {
                    var tr = $(this).parents("tr");
                    var auto = $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND").val();
                    var tMula = $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA").val();
                    var tAkhir = $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR").val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND").val(data);
                        }
                    }, "Json")
                })

                $("#datatable_Potongan").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", tr).val("T");
                    $('.auto_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND option:selected", tr).text())
                })

                $("#datatable_Potongan").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR", tr).val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND", tr).val(data);
                            $('.aktif_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND option:selected", tr).text())
                        }
                    }, "Json")
                })

                $("#datatable_Elaun, #datatable_Potongan").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {
                    var tr = $(this).parents("tr");
                    var name = $(this).attr('name');
                    var sname = name.split('.')
                    $('td:eq(1) #rowtxt', tr).html($(this).val());
                    $("input[name='" + sname[0] + ".HR_KOD']", tr).val($(this).val());
                    $("input[name='" + sname[0] + ".HR_JUMLAH']", tr).val("");
                    $('.jumlah', tr).html("");
                    $.getJSON("../MaklumatKakitangan/JumElaun?HR_KOD=" + $(this).val(), function (data) {
                        $("input[name='" + sname[0] + ".HR_JUMLAH']", tr).val(data);
                        $('.jumlah', tr).html(data);
                    })
                });

                var CarumanT = $('#datatable_Caruman').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Caruman'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    //"scrollX": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Caruman) {
                            responsiveHelper_datatable_Caruman = new ResponsiveDatatablesHelper($('#datatable_Caruman'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Caruman.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Caruman.respond();
                    }
                });
                //button
                $("div.btn-add-Caruman").html('<div class="text-right"><button type = "button" name = "btn-add-Caruman" id = "btn-add-Caruman" class = "btn btn-success btn-add-Caruman" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Gaji #btn-add-Caruman").on("click", function () {
                    $("#ModalCaruman").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lC = 0;
                if ($('#Gaji #datatable_Caruman tbody tr:first td').length > 1) {
                    lC = $('#Gaji #datatable_Caruman tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Gaji #btn-Caruman", function (e) {
                    e.preventDefault();
                    var isValid = 0;
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD']").valid() == false) {
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR']").focus();
                        isValid++;
                    }

                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN']").html();
                        var optionMod = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN']").html();
                        var optionAktif = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND']").html();
                        var optionAuto = $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND']").html();

                        CarumanT.row.add(["<span id='num'>" + (lC + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_KOD' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD']").val() + "' readonly='readonly' data-msg-required='Sila masukkan kod' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_NP_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NP_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_NP_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NP_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_MATRIKS_GAJI_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MATRIKS_GAJI_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_GRED_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_GRED_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_UBAH_IND' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_UBAH_IND']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_UBAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_UBAH']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_KEYIN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_KEYIN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_NO_PEKERJA_PT' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NO_PEKERJA_PT']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_HARI_BEKERJA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_HARI_BEKERJA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_BAKI' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_BAKI']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TUNTUTAN_MAKSIMA' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TUNTUTAN_MAKSIMA']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_PENERANGAN' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_PENERANGAN']").val() + "' />" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_JUMLAH' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_JUMLAH']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_KOD_ELAUN_POTONGAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN' id='HR_KOD_ELAUN_POTONGAN' style='display:none;' data-msg-required='Sila pilih caruman'>" +
                        optionKod +
                        "</select>" +
                        "</div>",


                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NO_FAIL']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_NO_FAIL' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NO_FAIL' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_NO_FAIL']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_MULA' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh mula' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_AKHIR' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR' value='" + $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR']").val() + "' data-msg-required='Sila masukkan tarikh akhir' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_MOD_BAYARAN' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN' style='display:none;' data-msg-required='Sila pilih mod bayaran'>" +
                        optionMod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='aktif_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_AKTIF_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND' style='display:none;' data-msg-required='Sila pilih status'>" +
                        optionAktif +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt' class='auto_ind'>" + $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_AUTO_IND' class='form-control HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND' id='HR_AUTO_IND' style='display:none;'>" +
                        optionAuto +
                        "</select>" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Caruman' id='btn-remove-Caruman' name='remove-Caruman' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_KOD_ELAUN_POTONGAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_MOD_BAYARAN']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_AKTIF_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND']").val())
                        $("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_AUTO_IND']").val($("select[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND']").val())

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_MULA']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_MULA']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA")

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_AKHIR']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C[" + lC + "].HR_TARIKH_AKHIR']").addClass("HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR")

                        lC++;

                        $("#ModalCaruman").modal("hide");
                        $("#ModalCaruman").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Gaji .btn-remove-Caruman', function (e) {
                    var row = CarumanT.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    CarumanT.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_ELAUN_POTONGAN_C[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lC--;

                    e.preventDefault();
                    return false;
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN").on("change", function () {
                    $("input[name='HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD']").val($(this).val());
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND").on("change", function () {
                    $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND").val("T");
                })

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND").on("change", function () {
                    var tr = $(this).parents("tr");
                    var auto = $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND").val();
                    var tMula = $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA").val();
                    var tAkhir = $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR").val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND").val(data);
                        }
                    }, "Json")
                })

                $("#datatable_Caruman").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND", function () {
                    var tr = $(this).parents("tr");
                    $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", tr).val("T");
                    $('.auto_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND option:selected", tr).text())
                })

                $("#datatable_Caruman").on("change", ".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", function () {
                    var tr = $(this).parents("tr");
                    var auto = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AUTO_IND", tr).val();
                    var tMula = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA", tr).val();
                    var tAkhir = $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR", tr).val();

                    $.get("../MaklumatKakitangan/AutoAktif", { tMula: tMula, tAkhir: tAkhir, auto: auto }, function (data) {
                        if (data != null) {
                            $(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND", tr).val(data);
                            $('.aktif_ind', tr).html($(".HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND option:selected", tr).text())
                        }
                    }, "Json")
                })

                $("#datatable_Gaji, #datatable_Caruman").on("input", "#HR_KOD_ELAUN_POTONGAN", function () {
                    var name = $(this).attr('name');
                    var txt = $(this).parents('tr').find('td:eq(1) #rowtxt').html($(this).val());
                    var sname = name.split('.')
                    $("input[name='" + sname[0] + ".HR_KOD']").val($(this).val());
                });

                

                var AnugerahPingat = $('#datatable_AnugerahPingat').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-AnugerahPingat'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AnugerahPingat) {
                            responsiveHelper_datatable_AnugerahPingat = new ResponsiveDatatablesHelper($('#datatable_AnugerahPingat'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AnugerahPingat.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AnugerahPingat.respond();
                    },
                    //"scrollX": true,
                });
                //button
                $("div.btn-add-AnugerahPingat").html('<div class="text-right"><button type = "button" name = "btn-add-AnugerahPingat" id = "btn-add-AnugerahPingat" class = "btn btn-success btn-add-AnugerahPingat" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Anugerah #btn-add-AnugerahPingat").on("click", function () {
                    $("#ModalAnugerahPingat").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                $("#btn-pekerja").on("click", function () {
                    $("#ModalPekerja").find('.btn-done').attr('id', 'btn-done');
                    $("#ModalPekerja").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                $("#datatable_AnugerahPingat").on("click", "#btn-pekerja2", function () {
                    var tr = $(this).parents("tr");
                    var index = AnugerahPingat.row(tr).index();
                    $("#ModalPekerja").find('#INDEX').val(index);
                    $("#ModalPekerja").find('.btn-done').attr('id', 'btn-done2');
                    $("#ModalPekerja").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                $(document).on("click", "#btn-pekerja3", function () {
                    $("#ModalPekerja").find('.btn-done').attr('id', 'btn-done3');
                    $("#ModalPekerja").modal({
                        show: true,
                        backdrop: 'static'
                    });
                }).on('click', "#btn-done3", function () {
                    //$('#datatable_CariPekerja').DataTable().destroy();
                    Cari("").draw().$("input[type='radio']").each(function () {
                        if (this.checked) {
                            var VIEW = $(this).parents("tr");
                            var HR_NAMA_PENYELIA = VIEW.find("td:eq(3)").text()
                            var HR_NO_PENYELIA = this.value

                            //console.log(HR_NO_PENYELIA);

                            $("#HR_ANUGERAH_HAJI_HR_NAMA_UP").val(HR_NAMA_PENYELIA);
                            $("#HR_ANUGERAH_HAJI_HR_NP_UP").val(HR_NO_PENYELIA);

                            $("#ModalPekerja").modal("hide")
                        }
                    })
                })

                $(document).on("click", "#Anugerah #btn-pekerja4", function () {
                    $("#ModalPekerja").find('.btn-done').attr('id', 'btn-done4');
                    $("#ModalPekerja").modal({
                        show: true,
                        backdrop: 'static'
                    });
                }).on("click", "#btn-done4", function () {
                    //$('#datatable_CariPekerja').DataTable().destroy();
                    Cari("").draw().$("input[type='radio']").each(function () {
                        if (this.checked) {
                            var VIEW = $(this).parents("tr");
                            var HR_NAMA_PENYELIA = VIEW.find("td:eq(3)").text()
                            var HR_NO_PENYELIA = this.value

                            //console.log(HR_NO_PENYELIA);

                            $("#HR_ANUGERAH_HAJI_HR_NAMA_YDP").val(HR_NAMA_PENYELIA);
                            $("#HR_ANUGERAH_HAJI_HR_NP_YDP").val(HR_NO_PENYELIA);

                            console.log($("#Anugerah").html())

                            $("#ModalPekerja").modal("hide")
                        }
                    })
                })

                var lAP = 0;
                if ($('#Anugerah #datatable_AnugerahPingat tbody tr:first td').length > 1) {
                    lAP = $('#Anugerah #datatable_AnugerahPingat tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Anugerah #btn-AnugerahPingat", function (e) {
                    e.preventDefault();
                    var isValid = 0;

                    if ($("select[name='HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN']").focus();
                        isValid++;
                    }

                    if ($("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_MAKLUMAT_KURNIAAN_HR_STATUS']").valid() == false) {
                        $("select[name='HR_MAKLUMAT_KURNIAAN_HR_STATUS']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN']").valid() == false) {
                        $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionPeringkat = $("select[name='HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT']").html();
                        var optionInd = $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND']").html();
                        var optionKod = $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN']").html();
                        var optionStatus = $("select[name='HR_MAKLUMAT_KURNIAAN_HR_STATUS']").html();

                        AnugerahPingat.row.add(["<span id='num'>" + (lAP + 1) + "</span>",
                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_PERINGKAT' class='form-control HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT' style='display:none;' data-msg-required='Sila pilih peringkat kurniaan' >" +
                        optionPeringkat +
                        "</select>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_NP_PENCALON' class='form-control hide' value='" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_NP_PENCALON']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_KURNIAAN_IND' class='form-control HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND' style='display:none;' data-msg-required='Sila pilih nama kurniaan'>" +
                        optionInd +
                        "</select>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_KOD_KURNIAAN' class='form-control HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN' style='display:none;' data-msg-required='Sila pilih status' data-msg-required='Sila pilih nama darjah kebesaran/bintang/pingat'>" +
                        optionKod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_PENCALONAN' class='form-control HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN' value='" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN']").val() + "' data-msg-required='Sila masukkan tarikh pencalonan' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON']").val() + "</div>" +
                        "<div class='input'>" +
                        "<div class='input-group'>" +
                            "<input type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_NAMA_PENCALON' class='form-control HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON' value='" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON']").val() + "' readonly='readonly' data-msg-required='Sila pilih nama pegawai yang mencalonkan' />" +
                            "<div class='input-group-btn'>" +
                                "<a class='btn btn-default btn-sm btn-pekerja2' id='btn-pekerja2' href='javascript:void(0)' title='Cari Pekerja' style='display:none;'><i class='fa fa-search'></i></a>" +
                            "</div>" +
                        "</div>" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_MAKLUMAT_KURNIAAN_HR_STATUS'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_STATUS' class='form-control' style='display:none;'>" +
                        optionStatus +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_KURNIAAN' class='form-control HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN' value='" + $("input[name='HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN']").val() + "' />" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-AnugerahPingat' id='btn-remove-AnugerahPingat' name='remove-AnugerahPingat' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_PERINGKAT']").val($("select[name='HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT']").val())
                        $("select[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_KURNIAAN_IND']").val($("select[name='HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND']").val())
                        $("select[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_KOD_KURNIAAN']").val($("select[name='HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN']").val())
                        $("select[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_STATUS']").val($("select[name='HR_MAKLUMAT_KURNIAAN_HR_STATUS']").val())

                        $("input[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_PENCALONAN']").removeClass('HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_PENCALONAN']").addClass("HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN")

                        $("input[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_KURNIAAN']").removeClass('HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });

                        $("input[name='HR_MAKLUMAT_KURNIAAN[" + lAP + "].HR_TARIKH_KURNIAAN']").addClass("HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN")

                        lAP++;

                        $("#ModalAnugerahPingat").modal("hide");
                        $("#ModalAnugerahPingat").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Anugerah .btn-remove-AnugerahPingat', function (e) {
                    var row = AnugerahPingat.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    AnugerahPingat.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_KURNIAAN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lAP--;

                    e.preventDefault();
                    return false;
                }).on("click", "#btn-done2", function () {
                    //$('#datatable_CariPekerja').DataTable().destroy();
                    var modal = $(this).parents("#ModalPekerja");
                    var index = modal.find('#INDEX').val();
                    Cari("").draw().$("input[type='radio']").each(function () {
                        if (this.checked) {
                            var VIEW = $(this).parents("tr");
                            var HR_NAMA_PENYELIA = VIEW.find("td:eq(3)").text()
                            var HR_NO_PENYELIA = this.value

                            console.log(HR_NO_PENYELIA);

                            $("input[name='HR_MAKLUMAT_KURNIAAN[" + index + "].HR_NAMA_PENCALON']").val(HR_NAMA_PENYELIA);
                            $("input[name='HR_MAKLUMAT_KURNIAAN[" + index + "].HR_NP_PENCALON']").val(HR_NO_PENYELIA);
                            var td = $("input[name='HR_MAKLUMAT_KURNIAAN[" + index + "].HR_NAMA_PENCALON']").parents("td");
                            $("#rowtxt", td).html(HR_NAMA_PENYELIA);

                            $("#ModalPekerja").modal("hide")
                        }
                    })
                });

                $("#btn-done").click(function () {
                    //$('#datatable_CariPekerja').DataTable().destroy();
                    Cari("").draw().$("input[type='radio']").each(function () {
                        if (this.checked) {
                            var VIEW = $(this).parents("tr");
                            var HR_NAMA_PENYELIA = VIEW.find("td:eq(3)").text()
                            var HR_NO_PENYELIA = this.value

                            console.log(HR_NO_PENYELIA);

                            $("#HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON").val(HR_NAMA_PENYELIA);
                            $("#HR_MAKLUMAT_KURNIAAN_HR_NP_PENCALON").val(HR_NO_PENYELIA);

                            $("#ModalPekerja").modal("hide")
                        }
                    })
                })


                var AnugerahCemerlang = $('#datatable_AnugerahCemerlang').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-AnugerahCemerlang'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_AnugerahCemerlang) {
                            responsiveHelper_datatable_AnugerahCemerlang = new ResponsiveDatatablesHelper($('#datatable_AnugerahCemerlang'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_AnugerahCemerlang.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_AnugerahCemerlang.respond();
                    }
                });
                //button
                $("div.btn-add-AnugerahCemerlang").html('<div class="text-right"><button type = "button" name = "btn-add-AnugerahCemerlang" id = "btn-add-AnugerahCemerlang" class = "btn btn-success btn-add-AnugerahCemerlang" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');
                //

                $("#Anugerah #btn-add-AnugerahCemerlang").on("click", function () {
                    $("#ModalAnugerahCemerlang").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })

                var lAC = 0;
                if ($('#Anugerah #datatable_AnugerahCemerlang tbody tr:first td').length > 1) {
                    lAC = $('#Anugerah #datatable_AnugerahCemerlang tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Anugerah #btn-AnugerahCemerlang", function (e) {
                    e.preventDefault();
                    var isValid = 0;

                    if ($("input[name='HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH']").valid() == false) {
                        $("input[name='HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN']").valid() == false) {
                        $("input[name='HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        AnugerahCemerlang.row.add(["<span id='num'>" + (lAC + 1) + "</span>",
                        "<div id='rowtxt'>" + $("input[name='HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_ANUGERAH_CEMERLANG[" + lAC + "].HR_NAMA_ANUGERAH' class='form-control HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH' value='" + $("input[name='HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH']").val() + "' data-msg-required='Sila masukkan nama anugerah' />" +
                        "<input type='hidden' name='HR_ANUGERAH_CEMERLANG[" + lAC + "].HR_NO_PEKERJA' class='form-control hide' value='" + $("input[name='HR_ANUGERAH_CEMERLANG_HR_NO_PEKERJA']").val() + "' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_ANUGERAH_CEMERLANG[" + lAC + "].HR_TARIKH_PENERIMAAN' class='form-control HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN' value='" + $("input[name='HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN']").val() + "' data-msg-required='Sila masukkan tarikh penerimaan' />" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-AnugerahCemerlang' id='btn-remove-AnugerahCemerlang' name='remove-AnugerahCemerlang' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("input[name='HR_ANUGERAH_CEMERLANG[" + lAC + "].HR_TARIKH_PENERIMAAN']").removeClass('HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_ANUGERAH_CEMERLANG[" + lAC + "].HR_TARIKH_PENERIMAAN']").addClass("HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN")

                        lAC++;

                        $("#ModalAnugerahCemerlang").modal("hide");
                        $("#ModalAnugerahCemerlang").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Anugerah .btn-remove-AnugerahCemerlang', function (e) {
                    var row = AnugerahCemerlang.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    AnugerahCemerlang.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_ANUGERAH_CEMERLANG[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lAC--;

                    e.preventDefault();
                    return false;
                });

                var Tatatertib = $('#datatable_Tatatertib').DataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'><'col-sm-6 col-xs-6 hidden-xs'T<'btn-add-Tatatertib'>>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Tatatertib) {
                            responsiveHelper_datatable_Tatatertib = new ResponsiveDatatablesHelper($('#datatable_Tatatertib'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Tatatertib.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Tatatertib.respond();
                    },
                    //"scrollX": true,
                });

                $("div.btn-add-Tatatertib").html('<div class="text-right"><button type = "button" name = "btn-add-Tatatertib" id = "btn-add-Tatatertib" class = "btn btn-success btn-add-Tatatertib" disabled = "disabled"><i class = "fa fa-plus"></i></button></div>');

                $("#Tatatertib #btn-add-Tatatertib").on("click", function () {
                    $("#ModalTatatertib").modal({
                        show: true,
                        backdrop: 'static'
                    });
                })


                var lTT = 0;
                if ($('#Tatatertib #datatable_Tatatertib tbody tr:first td').length > 1) {
                    lTT = $('#Tatatertib #datatable_Tatatertib tbody tr:not(:first)').length - 1;
                }

                $(document).on('click', "#Tatatertib #btn-Tatatertib", function (e) {
                    e.preventDefault();
                    var isValid = 0;

                    if ($("textarea[name='HR_TINDAKAN_DISIPLIN_HR_KESALAHAN']").valid() == false) {
                        $("textarea[name='HR_TINDAKAN_DISIPLIN_HR_KESALAHAN']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN']").valid() == false) {
                        $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN']").focus();
                        isValid++;
                    }
                    if ($("select[name='HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN']").valid() == false) {
                        $("select[name='HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN']").focus();
                        isValid++;
                    }

                    if ($("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA']").valid() == false) {
                        $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA']").focus();
                        isValid++;
                    }
                    if ($("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR']").valid() == false) {
                        $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR']").focus();
                        isValid++;
                    }

                    if (isValid <= 0) {
                        var optionKod = $("select[name='HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN']").html();

                        Tatatertib.row.add(["<span id='num'>" + (lTT + 1) + "</span>",

                        "<div id='rowtxt'>" + $("textarea[name='HR_TINDAKAN_DISIPLIN_HR_KESALAHAN']").val() + "</div>" +
                        "<div class='textarea textarea-resizable'>" +
                        "<textarea name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_KESALAHAN' class='form-control HR_TINDAKAN_DISIPLIN_HR_KESALAHAN' style='display:none;' data-msg-required='Sila masukkan jenis kesalahan' >" + $("textarea[name='HR_TINDAKAN_DISIPLIN_HR_KESALAHAN']").val() + "</textarea>" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_KESALAHAN' class='form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN' value='" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN']").val() + "' data-msg-required='Sila masukkan tarikh mula tindakan' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("select[name='HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN'] option:selected").text() + "</div>" +
                        "<div class='select'>" +
                        "<select type='hidden' name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_KOD_TINDAKAN' class='form-control HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN' style='display:none;' data-msg-required='Sila pilih jenis hukuman'>" +
                        optionKod +
                        "</select>" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_MULA' class='form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA' value='" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA']").val() + "' data-msg-required='Sila masukkan tarikh hukuman' />" +
                        "</div>",

                        "<div id='rowtxt'>" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR']").val() + "</div>" +
                        "<div class='input'>" +
                        "<input type='hidden' name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_AKHIR' class='form-control HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR' value='" + $("input[name='HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR']").val() + "' data-msg-required='Sila masukkan tarikh tamat' />" +
                        "</div>",

                        "<div class='text-center'><button class='btn btn-danger btn-remove-Tatatertib' id='btn-remove-Tatatertib' name='remove-Tatatertib' type='button'>" +
                            "<i class='fa fa-minus'></i>" +
                            "</button></div>"]).draw(false);

                        $("select[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_KOD_TINDAKAN']").val($("select[name='HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN']").val())


                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_KESALAHAN']").removeClass('HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_KESALAHAN']").addClass('HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN')

                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_MULA']").removeClass('HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_MULA']").addClass('HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA')

                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_AKHIR']").removeClass('HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA').removeClass('hasDatepicker').removeData('datepicker').unbind()
                        .datepicker({
                            changeMonth: true,
                            changeYear: true,
                            dateFormat: 'dd/mm/yy',
                            prevText: '<i class="fa fa-chevron-left"></i>',
                            nextText: '<i class="fa fa-chevron-right"></i>',
                            onSelect: function (selectedDate) {
                                //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                $(this).parents('td').find("#rowtxt").html(selectedDate)
                            }
                        });
                        $("input[name='HR_TINDAKAN_DISIPLIN[" + lTT + "].HR_TARIKH_AKHIR']").addClass('HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA')

                        lTT++;

                        $("#ModalTatatertib").modal("hide");
                        $("#ModalTatatertib").find('input, select').val('').parents('label').removeClass('state-success');
                    }
                }).on('click', '#Tatatertib .btn-remove-Tatatertib', function (e) {
                    var row = Tatatertib.row($(this).parents('tr'));
                    row.remove().draw(false);

                    var g = 0;

                    Tatatertib.rows().every(function () {
                        var data = this.node();
                        var name = $("input, select, textarea", data);
                        var nom = $("span#num", data);
                        var currentDate = new Date();
                        nom.each(function () {
                            $(this).html(g + 1);
                        })

                        name.each(function () {

                            var splitName = $(this).attr("name");
                            var s = splitName.split('.');
                            //console.log(s);
                            if (s.length > 1) {
                                $(this).removeAttr("name").attr("name", "HR_TINDAKAN_DISIPLIN[" + g + "]." + s[1])
                            }
                        })
                        g++;
                    });

                    lTT--;

                    e.preventDefault();
                    return false;
                })

                $('#datatable_PengalamanKerja, #datatable_KemahiranBahasa, #datatable_KemahiranTeknikal, #datatable_Kelayakan, #datatable_Sijil, #datatable_Kursus, #datatable_AktivitiLuar, #datatable_Tanggungan, #datatable_Gaji, #datatable_Elaun, #datatable_Potongan, #datatable_Potongan, #datatable_Caruman, #datatable_AnugerahPingat, #datatable_AnugerahCemerlang, #datatable_Tatatertib').on('input', 'input, textarea', function (e) {
                    $(this).parents('td').find('#rowtxt').html(this.value);
                });

                $('#datatable_PengalamanKerja, #datatable_KemahiranBahasa, #datatable_KemahiranTeknikal, #datatable_Kelayakan, #datatable_Sijil, #datatable_Kursus, #datatable_AktivitiLuar, #datatable_Tanggungan, #datatable_Gaji, #datatable_Elaun, #datatable_Potongan, #datatable_Potongan, #datatable_Caruman, #datatable_AnugerahPingat, #datatable_AnugerahCemerlang, #datatable_Tatatertib').on('change', 'select', function (e) {
                    $(this).parents('td').find('#rowtxt').html($(this).find("option:selected").text());
                });

                $('#datatable_PengalamanKerja, #datatable_KemahiranBahasa, #datatable_KemahiranTeknikal, #datatable_Kelayakan, #datatable_Sijil, #datatable_Kursus, #datatable_AktivitiLuar, #datatable_Tanggungan, #datatable_Gaji, #datatable_Elaun, #datatable_Potongan, #datatable_Potongan, #datatable_Caruman, #datatable_AnugerahPingat, #datatable_AnugerahCemerlang, #datatable_Tatatertib').on('click', 'tbody td:not(:first-child)', function (e) {
                    $("#rowtxt", this).hide()
                    $('input', this).attr('type', 'text')
                    $('select', this).show()
                    $('textarea', this).show()
                    $('#btn-pekerja2', this).show()
                });

                $('#datatable_PengalamanKerja, #datatable_KemahiranBahasa, #datatable_KemahiranTeknikal, #datatable_Kelayakan, #datatable_Sijil, #datatable_Kursus, #datatable_AktivitiLuar, #datatable_Tanggungan, #datatable_Gaji, #datatable_Elaun, #datatable_Potongan, #datatable_Potongan, #datatable_Caruman, #datatable_AnugerahPingat, #datatable_AnugerahCemerlang, #datatable_Tatatertib').on('mouseleave', 'tbody td:not(:first-child)', function (e) {
                    $("#rowtxt", this).show()
                    $('input', this).attr('type', 'hidden')
                    $('select', this).hide()
                    $('textarea', this).hide()
                    $('#btn-pekerja2', this).hide()
                });

                $('#datatable_Cuti').dataTable({

                    // Tabletools options:
                    //   https://datatables.net/extensions/tabletools/button_options
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-6 hidden-xs'T>r>" +
                            "t" +
                            "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-sm-6 col-xs-12'p>>",
                    "oTableTools": {
                        "aButtons": [
                        "copy",
                        "csv",
                        "xls",
                           {
                               "sExtends": "pdf",
                               "sTitle": "SmartAdmin_PDF",
                               "sPdfMessage": "SmartAdmin PDF Export",
                               "sPdfSize": "letter"
                           },
                           {
                               "sExtends": "print",
                               "sMessage": "Generated by SmartAdmin <i>(press Esc to close)</i>"
                           }
                        ],
                        "sSwfPath": "/Scripts/plugin/datatables/swf/copy_csv_xls_pdf.swf"
                    },
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once.
                        if (!responsiveHelper_datatable_Cuti) {
                            responsiveHelper_datatable_Cuti = new ResponsiveDatatablesHelper($('#datatable_Cuti'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_datatable_Cuti.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_datatable_Cuti.respond();
                    },
                    //"scrollX": true,
                });
                /* END TABLETOOLS */
                /*var $mKakitangan = $('#mKakitangan').validate({
                    // Rules for form validation
                    rules: {
                        HR_NO_PEKERJA: {
                            required: true,
                            number: true,
                            maxlength: 5,
                            minlength: 5
                        },
                        HR_NAMA_PEKERJA: {
                            required: true
                        },
                        HR_NO_KPBARU: {
                            required: true,
                            number: true,
                            maxlength: 12,
                            minlength: 12
                        }
                    },

                    // Messages for form validation
                    messages: {
                        HR_NO_PEKERJA: {
                            required: 'Sila masukkan no pekerja',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 5 digit nombor'
                        },
                        HR_NAMA_PEKERJA: {
                            required: 'Sila masukkan nama pekerja'

                        },
                        HR_NO_KPBARU: {
                            required: 'Sila masukkan no kad pengenalan',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 12 digit nombor'
                        }

                    },

                    // Do not change code below
                    errorPlacement: function (error, element) {
                        error.insertAfter(element.parent());
                    }
                });*/

                $.validator.setDefaults({ ignore: '' });
                var HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR = $('.HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR').attr('name');
                var $mKakitangan = $('#mKakitangan').validate({
                    // Rules for form validation
                    rules: {
                        //'HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA': {
                        //    required: true,
                        //    number: true,
                        //    maxlength: 5,
                        //    minlength: 5
                        //},
                        'HR_MAKLUMAT_PERIBADI.HR_NAMA_PEKERJA': {
                            required: function () {
                                return ($("#mPeribadi-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_NO_KPBARU': {
                            required: function () {
                                return ($("#mPeribadi-btn").val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($("#mPeribadi-btn").val() == "on") ? true : false;
                            },
                            maxlength: 12,
                            minlength: 12
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_EMAIL':
                        {
                            email: function () {
                                return ($("#mPeribadi-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR': {
                            dateITA: function () {
                                return ($("#mPeribadi-btn").val() == "on") ? true : false;
                            }
                        },
                        '#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        '#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK_KERAJAAN': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_BULAN_KENAIKAN_GAJI': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_J_TUKAR_LANTIK': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN': {
                            dateITA: function () {
                                return ($("#mPekerjaan-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalPengalaman').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalPengalaman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT': {
                            required: function () {
                                return $('#ModalPengalaman').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalPengalaman').is(':visible');
                            }
                        },

                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT': {
                            required: function () {
                                return $('#ModalPengalaman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN': {
                            required: function () {
                                return $('#ModalPengalaman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA': {
                            required: function () {
                                return $('#ModalKemahiranBahasa').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN': {
                            required: function () {
                                return $('#ModalKemahiranBahasa').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN': {
                            required: function () {
                                return $('#ModalKemahiranBahasa').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN': {
                            required: function () {
                                return $('#ModalKemahiranBahasa').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN': {
                            required: function () {
                                return $('#ModalKemahiranTeknikal').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP': {
                            required: function () {
                                return $('#ModalKemahiranTeknikal').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN': {
                            required: function () {
                                return $('#ModalKelayakan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT': {
                            required: function () {
                                return $('#ModalKelayakan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA': {
                            required: function () {
                                return $('#ModalKelayakan').is(':visible');
                            },
                            number: function () {
                                return $('#ModalKelayakan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT': {
                            required: function () {
                                return $('#ModalKelayakan').is(':visible');
                            },
                            number: function () {
                                return $('#ModalKelayakan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI': {
                            required: function () {
                                return $('#ModalKelayakan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI': {
                            required: function () {
                                return $('#ModalSijil').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalSijil').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN': {
                            required: function () {
                                return $('#ModalSijil').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_SIJIL_HR_ANJURAN': {
                            required: function () {
                                return $('#ModalSijil').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN': {
                            required: function () {
                                return $('#ModalSijil').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalKursus').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalKursus').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT': {
                            required: function () {
                                return $('#ModalKursus').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalKursus').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS': {
                            required: function () {
                                return $('#ModalKursus').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN': {
                            required: function () {
                                return $('#ModalKursus').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN': {
                            required: function () {
                                return $('#ModalKursus').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI': {
                            required: function () {
                                return $('#ModalAktivitiLuar').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalAktivitiLuar').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT': {
                            required: function () {
                                return $('#ModalAktivitiLuar').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI': {
                            required: function () {
                                return $('#ModalAktivitiLuar').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_ANJURAN': {
                            required: function () {
                                return $('#ModalAktivitiLuar').is(':visible');
                            }
                        },

                        '.datepicker': {
                            dateITA: true
                        },

                        'HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR': {
                            dateITA: function () {
                                return ($('#mPewaris-btn').val() == "on")? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEWARIS_HR_NAMA_PEWARIS': {
                            required: function () {
                                return ($('#mPewaris-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_PEWARIS_HR_NO_KP': {
                            required: function () {
                                return ($('#mPewaris-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_TARIKH_MASUK': {
                            required: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_TARIKH_KELUAR': {
                            required: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_KOD_KUARTERS': {
                            required: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_AKTIF_IND': {
                            required: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            }

                        },
                        'HR_MAKLUMAT_KUARTERS.HR_NO_UNIT': {
                            required: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mKuarters-btn').val() == "on") ? true : false;
                            }
                        },

                        'HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR': {
                            required: function () {
                                return $('#ModalTanggungan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND': {
                            required: function () {
                                return $('#ModalGaji').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA': {
                            number: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH': {
                            number: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND': {
                            required: function () {
                                return $('#ModalElaun').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH': {
                            number: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND': {
                            required: function () {
                                return $('#ModalPotongan').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND': {
                            required: function () {
                                return $('#ModalCaruman').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_STATUS': {
                            required: function () {
                                return $('#ModalAnugerahPingat').is(':visible');
                            }
                        },
                        'HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN': {
                            required: function () {
                                return $('#ModalAnugerahCemerlang').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalAnugerahCemerlang').is(':visible');
                            }
                        },
                        'HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH': {
                            required: function () {
                                return $('#ModalAnugerahCemerlang').is(':visible');
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_TAHUN_PERGI': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_STATUS_HAJI': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_LULUS_IND': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_NAMA_UP': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_NP_UP': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_NAMA_YDP': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_ANUGERAH_HAJI.HR_NP_YDP': {
                            required: function () {
                                return ($("#mAnugerah3-btn").val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_TARIKH_BERSARA': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_ALASAN': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_JUMLAH_CUTI': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_JUMLAH_BAYARAN': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_BERSARA_IND': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_TERIMA_BAYARAN_IND': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_BAYARAN_IND': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_PALAMAT1': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_PNEGERI': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_PPOSKOD': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_PBANDAR': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_NP_PEGAWAI': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PERSARAAN.HR_JAWATAN_PEGAWAI': {
                            required: function () {
                                return ($('#mPersaraan-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN': {
                            required: function () {
                                return $('#ModalTatatertib').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalTatatertib').is(':visible');
                            }
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA': {
                            required: function () {
                                return $('#ModalTatatertib').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalTatatertib').is(':visible');
                            }
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR': {
                            required: function () {
                                return $('#ModalTatatertib').is(':visible');
                            },
                            dateITA: function () {
                                return $('#ModalTatatertib').is(':visible');
                            }
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_KESALAHAN': {
                            required: function () {
                                return $('#ModalTatatertib').is(':visible');
                            }
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN': {
                            required: function () {
                                return $('#ModalTatatertib').is(':visible');
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_TARIKH_KEMATIAN': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_TARIKH_BAYAR': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            },
                            dateITA: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NAMA_PEWARIS': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_ALAMAT1': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NEGERI': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_POSKOD': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_BANDAR': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NO_KP_PEWARIS': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_HUBUNGAN': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NAMA_PEGAWAI': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_JAWATAN_PEGAWAI': {
                            required: function () {
                                return ($('#mKematian-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            maxlength: 4,
                            minlength: 4
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUMP_PERKHIDMATAN': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },
                        'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK': {
                            required: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            },
                            number: function () {
                                return ($('#mPrestasi-btn').val() == "on") ? true : false;
                            }
                        },

                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MIN':
                        {
                            number: true
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MAX':
                        {
                            number: true
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK':
                        {
                            number: true
                        },
                        'HR_MAKLUMAT_PEWARIS.HR_NO_KP':
                        {
                            required: function () {
                                return $("#mPewaris-btn").is(":checked");
                            }
                        }
                    },

                    // Messages for form validation
                    messages: {
                        //'HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA': {
                        //    required: 'Sila masukkan no pekerja',
                        //    number: 'Sila masukkan hanya nombor sahaja',
                        //    minlength: 'Sila masukkan 5 digit nombor'
                        //},
                        'HR_MAKLUMAT_PERIBADI.HR_NAMA_PEKERJA': {
                            required: 'Sila masukkan nama pekerja'

                        },
                        'HR_MAKLUMAT_PERIBADI.HR_NO_KPBARU': {
                            required: 'Sila masukkan no kad pengenalan',
                            number: 'Sila masukkan hanya nombor sahaja',
                            minlength: 'Sila masukkan 12 digit nombor'
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_EMAIL': {
                            email: "Sila masukkan email dengan betul"
                        },
                        'HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        '#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        '#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK_KERAJAAN': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_BULAN_KENAIKAN_GAJI': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_J_TUKAR_LANTIK': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA': {
                            required: 'Sila masukkan tarikh mula',
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT': {
                            required: 'Sila masukkan tarikh tamat',
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT': {
                            required: 'Sila masukkan nama syarikat'
                        },
                        'HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN': {
                            required: 'Sila masukkan jawatan'
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA': {
                            required: 'Sila pilih bahasa'
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN': {
                            required: 'Sila pilih pembacaan'
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN': {
                            required: 'Sila pilih penulisan'
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN': {
                            required: 'Sila pilih pertuturan'
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN': {
                            required: "Sila masukkan kemahiran"
                        },
                        'HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP': {
                            required: "Sila pilih tahap"
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN': {
                            required: "Sila masukkan kelayakan akademik"
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT': {
                            required: "Sila masukkan kelulusan"
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA': {
                            required: "Sila masukkan tahun mula",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT': {
                            required: "Sila masukkan tahun tamat",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI': {
                            required: "Sila masukkan sekolah/IPT"
                        },
                        'HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI': {
                            required: "Sila masukkan tarikh diperolehi",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN': {
                            required: "Sila masukkan nama sijil peperiksaan"
                        },
                        'HR_MAKLUMAT_SIJIL_HR_ANJURAN': {
                            required: "Sila masukkan anjuran"
                        },
                        'HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN': {
                            required: "Sila masukkan keputusan"
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT': {
                            required: "Sila masukkan tarikh tamat",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS': {
                            required: "Sila pilih nama kursus",
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN': {
                            required: "Sila masukkan anjuran"
                        },
                        'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN': {
                            required: "Sila pilih keputusan"
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI': {
                            required: "Sila masukkan tarikh aktiviti",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT': {
                            required: "Sila pilih peringkat"
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI': {
                            required: "Sila masukkan nama aktiviti",
                        },
                        'HR_MAKLUMAT_AKTIVITI_HR_ANJURAN': {
                            required: "Sila masukkan anjuran",
                        },

                        '.datepicker': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },

                        'HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR': {
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR': {
                            required: "Sila masukkan anjuran"
                        },
                        'HR_MAKLUMAT_PEWARIS_HR_NO_KP': {
                            required: "Sila masukkan anjuran"
                        },

                        'HR_MAKLUMAT_KUARTERS.HR_TARIKH_MASUK': {
                            required: "Sila masukkan tarikh masuk",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_TARIKH_KELUAR': {
                            required: "Sila masukkan tarikh keluar",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_KOD_KUARTERS': {
                            required: "Sila pilih kuarters"
                        },
                        'HR_MAKLUMAT_KUARTERS.HR_AKTIF_IND': {
                            required: "Sila pilih status"

                        },
                        'HR_MAKLUMAT_KUARTERS.HR_NO_UNIT': {
                            required: "Sila masukkan no. unit",
                            number: 'Sila masukkan hanya nombor sahaja'
                        },

                        'HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR': {
                            required: "Sila masukkan tarikh lahir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN': {
                            required: "Sila masukkan nama"
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP': {
                            required: "Sila masukkan no KP"
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA': {
                            required: "Sila pilih jantina"
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN': {
                            required: "Sila pilih hubungan"
                        },
                        'HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR': {
                            required: "Sila pilih tempat lahir"
                        },

                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR': {
                            required: "Sila masukkan tarikh akhir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD': {
                            required: "Sila masukkan kod"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN': {
                            required: "Sila pilih gaji"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN': {
                            required: "Sila pilih mod bayaran"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND': {
                            required: "Sila pilih status"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR': {
                            required: "Sila masukkan tarikh akhir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD': {
                            required: "Sila masukkan kod"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN': {
                            required: "Sila pilih elaun"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA': {
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH': {
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN': {
                            required: "Sila pilih mod bayaran"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND': {
                            required: "Sila pilih status"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR': {
                            required: "Sila masukkan tarikh akhir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD': {
                            required: "Sila masukkan kod"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN': {
                            required: "Sila pilih potongan"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH': {
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN': {
                            required: "Sila pilih mod bayaran"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND': {
                            required: "Sila pilih status"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR': {
                            required: "Sila masukkan tarikh akhir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD': {
                            required: "Sila masukkan kod"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN': {
                            required: "Sila pilih caruman"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN': {
                            required: "Sila pilih mod bayaran"
                        },
                        'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND': {
                            required: "Sila pilih status"
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN': {
                            required: "Sila masukkan tarikh pencalonan",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN': {
                            required: "Sila masukkan tarikh akhir",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT': {
                            required: "Sila pilih peringkat kurniaan"
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND': {
                            required: "Sila pilih nama kurniaan"
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN': {
                            required: "Sila pilih nama darjah kebesaran/bintang/pingat"
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON': {
                            required: "Sila pilih nama pegawai yang mencalonkan"
                        },
                        'HR_MAKLUMAT_KURNIAAN_HR_STATUS': {
                            required: "Sila pilih keputusan pencalonan"
                        },
                        'HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN': {
                            required: "Sila masukkan tarikh penerimaan",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH': {
                            required: "Sila masukkan nama anugerah",
                        },
                        'HR_ANUGERAH_HAJI.HR_TAHUN_PERGI': {
                            required: "Sila masukkan tarikh pemergian",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_ANUGERAH_HAJI.HR_STATUS_HAJI': {
                            required: "Sila pilih status"
                        },
                        'HR_ANUGERAH_HAJI.HR_LULUS_IND': {
                            required: "Sila pilih kelulusan"
                        },
                        'HR_ANUGERAH_HAJI.HR_NAMA_UP': {
                            required: "Sila pilih nama"
                        },
                        'HR_ANUGERAH_HAJI.HR_NP_UP': {
                            required: "Sila masukkan KP"
                        },
                        'HR_ANUGERAH_HAJI.HR_NAMA_YDP': {
                            required: "Sila pilih nama"
                        },
                        'HR_ANUGERAH_HAJI.HR_NP_YDP': {
                            required: "Sila masukkan KP"
                        },
                        'HR_PERSARAAN.HR_TARIKH_BERSARA': {
                            required: "Sila masukkan tarikh pemergian",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_PERSARAAN.HR_ALASAN': {
                            required: "Sila pilih sebab"
                        },
                        'HR_PERSARAAN.HR_JUMLAH_CUTI': {
                            required: "Sila masukkan jumlah cuti GCR",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PERSARAAN.HR_JUMLAH_BAYARAN': {
                            required: "Sila masukkan bayaran GCR",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PERSARAAN.HR_BERSARA_IND': {
                            required: "Sila pilih jenis persaraan"
                        },
                        'HR_PERSARAAN.HR_TERIMA_BAYARAN_IND': {
                            required: "Sila pilih status bayaran"
                        },
                        'HR_PERSARAAN.HR_BAYARAN_IND': {
                            required: "Sila pilih cara bayaran pencen"
                        },
                        'HR_PERSARAAN.HR_PALAMAT1': {
                            required: "Sila masukkan alamat"
                        },
                        'HR_PERSARAAN.HR_PNEGERI': {
                            required: "Sila masukkan negeri"
                        },
                        'HR_PERSARAAN.HR_PPOSKOD': {
                            required: "Sila masukkan paskod"
                        },
                        'HR_PERSARAAN.HR_PBANDAR': {
                            required: "Sila masukkan bandar"
                        },
                        'HR_PERSARAAN.HR_NP_PEGAWAI': {
                            required: "Sila pilih nama pegawai"
                        },
                        'HR_PERSARAAN.HR_JAWATAN_PEGAWAI': {
                            required: "Sila pilih nama jawatan pegawai"
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN': {
                            required: "Sila masukkan tarikh mula tindakan",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA': {
                            required: "Sila masukkan tarikh mula hukuman",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR': {
                            required: "Sila masukkan tarikh mula tamat",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_KESALAHAN': {
                            required: "Sila masukkan jenis kesalahan",
                        },
                        'HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN': {
                            required: "Sila pilih jenis hukuman",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_TARIKH_KEMATIAN': {
                            required: "Sila masukkan tarikh kematian",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_TARIKH_BAYAR': {
                            required: "Sila masukkan tarikh",
                            dateITA: 'Sila masukkan tarikh dengan betul'
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NAMA_PEWARIS': {
                            required: "Sila masukkan nama pewaris",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_ALAMAT1': {
                            required: "Sila masukkan alamat",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NEGERI': {
                            required: "Sila pilih negeri",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_POSKOD': {
                            required: "Sila masukkan paskod",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_BANDAR': {
                            required: "Sila masukkan bandar",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NO_KP_PEWARIS': {
                            required: "Sila masukkan KP",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_HUBUNGAN': {
                            required: "Sila pilih hubungan",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_NAMA_PEGAWAI': {
                            required: "Sila pilih pegawai",
                        },
                        'HR_MAKLUMAT_KEMATIAN.HR_JAWATAN_PEGAWAI': {
                            required: "Sila masukkan jawatan pegawai",
                        },
                        'HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                            maxlength: "Tahun tidak betul",
                            minlength: "Tahun tidak betul"
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUMP_PERKHIDMATAN': {
                            required: "Diperlukan"
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },
                        'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK': {
                            required: "Diperlukan",
                            number: 'Sila masukkan hanya nombor sahaja',
                        },




                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MIN':
                        {
                            number: 'Sila masukkan hanya nombor sahaja'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MAX':
                        {
                            number: 'Sila masukkan hanya nombor sahaja'
                        },
                        'HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK':
                        {
                            number: 'Sila masukkan hanya nombor sahaja'
                        },
                        'HR_MAKLUMAT_PEWARIS.HR_NO_KP':
                        {
                            required: 'Sila masukkan no. kad pengenalan',
                        }

                    },

                    // Do not change code below
                    errorPlacement: function (error, element) {
                        error.insertAfter(element.parent());
                        $.datepicker.errorPlacement
                    }
                });

                jQuery.validator.addClassRules({
                    "HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA": {
                        required: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT": {
                        required: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_PENGALAMAN_KERJA_HR_NAMA_SYARIKAT": {
                        required: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_PENGALAMAN_KERJA_HR_JAWATAN": {
                        required: function () {
                            return ($("#mKemahiran-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR" : {
                        dateITA: true
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_BAHASA" : {
                        required: function () {
                            return ($("#mKemahiran2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PEMBACAAN" : {
                        required: function () {
                            return ($("#mKemahiran2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PENULISAN" : {
                        required: function () {
                            return ($("#mKemahiran2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_BAHASA_HR_PERTUTURAN" : {
                        required: function () {
                            return ($("#mKemahiran2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_KEMAHIRAN" : {
                        required: function () {
                            return ($("#mKemahiran3-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KEMAHIRAN_TEKNIKAL_HR_TAHAP" : {
                        required: function () {
                            return ($("#mKemahiran3-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KELAYAKAN_HR_KEPUTUSAN": {
                        required: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KELAYAKAN_HR_PANGKAT" : {
                        required: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_MULA" : {
                        required: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        },
                        number: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        },
                        minlength: 4
                    },
                    "HR_MAKLUMAT_KELAYAKAN_HR_TAHUN_TAMAT" : {
                        required: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        },
                        number: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        },
                        minlength: 4
                    },
                    "HR_MAKLUMAT_KELAYAKAN_HR_SEKOLAH_INSTITUSI" : {
                        required: function () {
                            return ($("#mAkademik2-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_SIJIL_HR_NAMA_SIJIL_PEPERIKSAAN": {
                        required: function () {
                            return ($("#mAkademik3-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI": {
                        required: function () {
                            return ($("#mAkademik3-btn").val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($("#mAkademik3-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_SIJIL_HR_ANJURAN": {
                        required: function () {
                            return ($("#mAkademik3-btn").val() == "on") ? true : false;
                        }
                    },
                    "HR_MAKLUMAT_SIJIL_HR_KEPUTUSAN": {
                        required: function () {
                            return ($("#mAkademik3-btn").val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT': {
                        required: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KOD_KURSUS': {
                        required: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURSUS_LATIHAN_HR_ANJURAN': {
                        required: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURSUS_LATIHAN_HR_KEPUTUSAN': {
                        required: function () {
                            return ($('#mAkademik4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI': {
                        required: function () {
                            return ($('#mAkademik5-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAkademik5-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_AKTIVITI_HR_PERINGKAT': {
                        required: function () {
                            return ($('#mAkademik5-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_AKTIVITI_HR_NAMA_AKTIVITI': {
                        required: function () {
                            return ($('#mAkademik5-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_AKTIVITI_HR_ANJURAN': {
                        required: function () {
                            return ($('#mAkademik5-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_NAMA_TANGGUNGAN': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_NO_KP': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_JANTINA': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_HUBUNGAN': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_TANGGUNGAN_HR_TEMPAT_LAHIR': {
                        required: function () {
                            return ($('#mTanggungan-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_KOD_ELAUN_POTONGAN': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_MOD_BAYARAN': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_AKTIF_IND': {
                        required: function () {
                            return ($('#mGaji-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_KOD_ELAUN_POTONGAN': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TUNTUTAN_MAKSIMA': {
                        number: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_JUMLAH': {
                        number: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_MOD_BAYARAN': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_AKTIF_IND': {
                        required: function () {
                            return ($('#mGaji2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_KOD_ELAUN_POTONGAN': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_JUMLAH': {
                        number: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_MOD_BAYARAN': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_AKTIF_IND': {
                        required: function () {
                            return ($('#mGaji3-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_KOD_ELAUN_POTONGAN': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_MOD_BAYARAN': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_AKTIF_IND': {
                        required: function () {
                            return ($('#mGaji4-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_PERINGKAT': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_KURNIAAN_IND': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_KOD_KURNIAAN': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_NAMA_PENCALON': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_MAKLUMAT_KURNIAAN_HR_STATUS': {
                        required: function () {
                            return ($('#mAnugerah-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN': {
                        required: function () {
                            return ($('#mAnugerah2-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mAnugerah2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_ANUGERAH_CEMERLANG_HR_NAMA_ANUGERAH': {
                        required: function () {
                            return ($('#mAnugerah2-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN': {
                        required: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA': {
                        required: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR': {
                        required: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        },
                        dateITA: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_TINDAKAN_DISIPLIN_HR_KESALAHAN': {
                        required: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        }
                    },
                    'HR_TINDAKAN_DISIPLIN_HR_KOD_TINDAKAN': {
                        required: function () {
                            return ($('#mTatatertib-btn').val() == "on") ? true : false;
                        }
                    },
                });

                $.validator.addMethod("dateITA", function (value, element) {

                    var check = false,
                        re = /^\d{1,2}\/\d{1,2}\/\d{4}$/,
                        adata, gg, mm, aaaa, xdata;
                    if (re.test(value)) {
                        adata = value.split("/");
                        gg = parseInt(adata[0], 10);
                        mm = parseInt(adata[1], 10);
                        aaaa = parseInt(adata[2], 10);
                        xdata = new Date(aaaa, mm - 1, gg, 12, 0, 0, 0);
                        if ((xdata.getUTCFullYear() === aaaa) && (xdata.getUTCMonth() === mm - 1) && (xdata.getUTCDate() === gg)) {
                            check = true;
                        } else {
                            check = false;
                        }
                    } else {
                        check = false;
                    }
                    return this.optional(element) || check;
                }, 'Sila masukkan tarikh dengan betul');


            });

            $(function () {
                $(document).on('click', '#Pewaris .tambah-waris', function (e) {
                    e.preventDefault();

                    var controlForm = $('#form-Pewaris'),
                        currentEntry = $("#clone-pewaris:last"),
                        newEntry = $(currentEntry.clone()).appendTo(controlForm);

                    controlForm.find('.tambah-waris:not(:first)')
                        .removeClass('tambah-waris').addClass('padam-waris')
                        .removeClass('btn-success').addClass('btn-danger')
                        .html('<span class="glyphicon glyphicon-minus"></span>');

                    var name = currentEntry.find('input, select')
                    var length = $("#Pewaris #clone-pewaris").length;


                    if (length > 1) {
                        $("#Pewaris .padam-waris").removeAttr('disabled');
                        $("#Pewaris .tambah-waris").attr('disabled', 'disabled');
                    }
                    else {
                        $("#Pewaris .padam-waris").attr('disabled', 'disabled');
                    }

                    name.each(function () {
                        var splitName = $(this).attr("name");
                        var newClone = newEntry.find('input, select')
                        var s = splitName.split('.');
                        if (s.length > 1) {

                            newClone.each(function () {
                                var splitName2 = $(this).attr("name");
                                var s2 = splitName2.split('.');
                                if (s[1] == s2[1]) {
                                    if (s2.length > 1) {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PEWARIS[" + (length-1) + "]." + s2[1]);
                                        $(this).removeAttr("id").attr("id", "HR_MAKLUMAT_PEWARIS_" + (length - 1) + "__" + s2[1]);
                                        if (s2[1] == "HR_TARIKH_LAHIR") {
                                            $(this).attr({ "id": "" }).removeClass('HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR').removeClass('hasDatepicker').removeData('datepicker').unbind()
                                            .datepicker({
                                                changeMonth: true,
                                                changeYear: true,
                                                dateFormat: 'dd/mm/yy',
                                                prevText: '<i class="fa fa-chevron-left"></i>',
                                                nextText: '<i class="fa fa-chevron-right"></i>',
                                                onSelect: function (selectedDate) {
                                                    //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                                                }
                                            });
                                            $(this).addClass('HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR')
                                        }
                                    }
                                }
                            })


                        }
                    })

                    newEntry.find('input').val('');
                    newEntry.find('select').val('');
                    newEntry.find('em').remove();
                    newEntry.find('.invalid').removeClass('invalid');
                    newEntry.find('.state-error').removeClass('state-error');
                    newEntry.find('.state-success').removeClass('state-success');
                    newEntry.find('#text-pewaris').text("Kedua")

                }).on('click', '#Pewaris .padam-waris', function (e) {
                    var length = $("#Pewaris #clone-pewaris").length;
                    if (length == 2) {
                        $("#Pewaris .padam-waris").attr('disabled', 'disabled');
                        $("#Pewaris .tambah-waris").removeAttr('disabled');
                    }

                    $(this).parents('#clone-pewaris:first').remove();



                    e.preventDefault();
                    return false;
                })
                $('.tambah-waris:not(:first)')
                      .removeClass('tambah-waris').addClass('padam-waris')
                      .removeClass('btn-success').addClass('btn-danger')
                      .html('<span class="glyphicon glyphicon-minus"></span>');
            });

        $(function () {
            /*$("#btn-click").on("click",this, function (e) {
                e.preventDefault();
                $("#Peribadi input[type='text']").removeAttr('disabled')
                $("#Peribadi input[type='radio']").removeAttr('disabled')
                $("#Peribadi input[name='HR_TARIKH_LAHIR']").removeAttr('disabled').attr('readonly', 'readonly')
                $("#Peribadi input[name='Umur']").removeAttr('disabled').attr('readonly', 'readonly')
                $("#Peribadi select").removeAttr('disabled')
                $(".click-parent").addClass("hide")
                $(".edit-parent").removeClass("hide")
            })*/

            /*$("#btn-click2").on("click", this, function (e) {
                e.preventDefault();
                $("#infoKakitangan input[type='text']").removeAttr('disabled')
                $("#infoKakitangan input[name='HR_NO_PEKERJA']").removeAttr('disabled').attr('readonly', 'readonly')

                $(".click-parent2").addClass("hide")
                $(".edit-parent2").removeClass("hide")

            })*/

            //hide column datatable
            /*$("#Pekerjaan #datatable_PengalamanKerjaMPPJ tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_PengalamanKerja tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_KemahiranBahasa tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#Kemahiran #datatable_KemahiranTeknikal tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Kelayakan tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Sijil tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_Kursus tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });
            $("#datatable_AktivitiLuar tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });*/
            /*
            $("#datatable_Tanggungan tr").each(function () {
                $(this).find("th.hideRow, td.hideRow").hide();
            });*/
            //
            var DisabledCuti = 0
            $("input[name='sah[]']").on("change", this, function () {


                if ($(this).attr("id") == "mKakitangan-btn" || $(this).attr("id") == "mPeribadi-btn")
                {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#infoKakitangan input[name='kemaskini']").val("Info")
                        $("#infoKakitangan input[type='text']").removeAttr('disabled');
                        if ($("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").val() == null || $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").val() == "") {
                            $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").attr('disabled', 'disabled');
                        }
                        else {
                            $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").attr('readonly', 'readonly');
                        }
                        $("#infoKakitangan #upload-image").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#infoKakitangan input[name='kemaskini']").val("off")

                        $("#infoKakitangan input[type='text']").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                        })

                        $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").removeAttr('readonly', 'readonly');
                        $("#infoKakitangan input[type='text']").attr('disabled', 'disabled');
                        $("#infoKakitangan #upload-image").attr('disabled', 'disabled');
                    }
                }
                if ($(this).attr("id") == "mPeribadi-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Peribadi input[name='kemaskini']").val("Peribadi")

                        $("#Peribadi input[type='text']").removeAttr('disabled');
                        $("#Peribadi input[type='email']").removeAttr('disabled');
                        $("#Peribadi select").not('#HR_MAKLUMAT_PERIBADI_HR_ALASAN').removeAttr('disabled');
                        $("#Peribadi input[type='radio']").removeAttr('disabled');
                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        $("#Peribadi input[name='Umur']").attr('readonly', 'readonly');
                        $("#Peribadi button").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Peribadi input[name='kemaskini']").val("off")

                        $("#Peribadi input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Peribadi input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Peribadi select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Peribadi input[name='HR_TARIKH_LAHIR']").removeAttr('readonly', 'readonly');
                        $("#Peribadi input[name='Umur']").removeAttr('readonly', 'readonly');
                        $("#Peribadi input[type='text']").attr('disabled', 'disabled');
                        $("#Peribadi input[type='email']").attr('disabled', 'disabled');
                        $("#Peribadi select").attr('disabled', 'disabled');
                        $("#Peribadi input[type='radio']").attr('disabled', 'disabled');
                        $("#Peribadi button").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mPekerjaan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Pekerjaan input[name='kemaskini']").val("Pekerjaan")

                        $("#Pekerjaan input[type='text']").removeAttr('disabled');
                        $("#Pekerjaan select").removeAttr('disabled');
                        $("#Pekerjaan input[type='radio']").removeAttr('disabled');
                        $("#Pekerjaan textarea").removeAttr('disabled');
                        $("#Pekerjaan .btn-remove-history").removeAttr('disabled');

                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ tbody tr").each(function () {
                            if ($("td:eq(4) input", this).val() == $.datepicker.formatDate('dd/mm/yy', new Date())) {
                                $("#Pekerjaan .btn-add-history").attr('disabled', 'disabled');
                            }
                            else {
                                $("#Pekerjaan .btn-add-history").removeAttr('disabled');
                            }
                        });

                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ input[type='text']:not(.hide)").attr('disabled', 'disabled');
                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ select").attr('disabled', 'disabled');

                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_MULA']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_AKHIR']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN']").attr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").attr('readonly', 'readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_MULA").attr('readonly', 'readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_TAMAT").attr('readonly', 'readonly');

                        /*var g = 0;
                        $('#Kemahiran #datatable_tabletools2 tr:not(:first)').each(function () {
                            var name = $(this).find("input, textarea");
                            var nom = $(this).find("span#num");
                            nom.each(function () {
                                $(this).html(g + 1);
                            })
                            name.each(function () {
                                var splitName = $(this).attr("name");
                                var s = splitName.split('.');
                                //console.log(s);
                                if (s.length > 1) {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g + mmm - 1) + "]." + s[1])
                                }
                            })
                            g++;
                        });*/

                    }
                    else {
                        $(this).val('off')
                        $("#Pekerjaan input[name='kemaskini']").val("off")
                        /*$("#Pekerjaan #datatable_PengalamanKerjaMPPJ tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });*/
                        $("#Pekerjaan input,#Pekerjaan textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Pekerjaan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Pekerjaan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ select").attr('disabled', 'disabled');
                        $("#Pekerjaan #datatable_PengalamanKerjaMPPJ input[type='text']").attr('disabled', 'disabled');

                        //$("#Pekerjaan input[name='HR_TARIKH_LAHIR']").removeAttr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='Umur']").removeAttr('readonly', 'readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_MULA']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_PCB_TARIKH_AKHIR']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_SAH_JAWATAN']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_LANTIKAN']").removeAttr('readonly');
                        //$("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").removeAttr('readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_MULA").removeAttr('readonly');
                        //$("#Pekerjaan .HR_MAKLUMAT_PENGALAMAN_KERJA_MPPJ_HR_TARIKH_TAMAT").removeAttr('readonly');

                        $("#Pekerjaan input[type='text']").attr('disabled', 'disabled');
                        $("#Pekerjaan textarea").attr('disabled', 'disabled');
                        $("#Pekerjaan select").attr('disabled', 'disabled');
                        $("#Pekerjaan input[type='radio']").attr('disabled', 'disabled');
                        $("#Pekerjaan .btn-add-history, #Pekerjaan .btn-remove-history").attr('disabled', 'disabled');

                        /*var g = 0;
                        $('#Kemahiran #datatable_tabletools2 tr:not(:first)').each(function () {
                            var name = $(this).find("input, textarea");
                            var nom = $(this).find("span#num");
                            nom.each(function () {
                                $(this).html(g + 1);
                            })
                            name.each(function () {
                                var splitName = $(this).attr("name");
                                var s = splitName.split('.');
                                //console.log(s);
                                if (s.length > 1)
                                {
                                        $(this).removeAttr("name").attr("name", "HR_MAKLUMAT_PENGALAMAN_KERJA[" + (g) + "]." + s[1])
                                }
                            })
                            g++;
                            //var spliteanme = name.split('.')
                            //console.log(spliteanme[0])
                        });*/
                    }
                }
                if ($(this).attr("id") == "mPewaris-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Pewaris input[name='kemaskini']").val("Pewaris")

                        $("#Pewaris input").removeAttr('disabled');
                        //$("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR ").attr('readonly', 'readonly');
                        $("#Pewaris select").removeAttr('disabled');
                        $("#Pewaris input[type='radio']").removeAttr('disabled');
                        //$("#Pekerjaan textarea").removeAttr('disabled');
                        $("#Pewaris button[name='tambah-waris']").removeAttr('disabled');
                        if ($("#Pewaris #clone-pewaris").length > 1) {
                            $("#Pewaris button[name='padam-waris']").removeAttr('disabled');
                            $("#Pewaris button[name='tambah-waris']").attr('disabled');
                        }

                        $("#Pewaris .HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR").removeAttr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Pewaris input[name='kemaskini']").val("off")

                        $("#Pewaris button[name='tambah-waris'], #Pewaris button[name='tambah-waris']").attr('disabled');

                        $("#Pewaris input,#Pewaris textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Pewaris input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Pewaris select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR").attr('readonly', 'readonly');

                        $("#Pewaris input[type='text']").attr('disabled', 'disabled');
                        $("#Pewaris .HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR ").removeAttr('readonly', 'readonly');
                        $("#Pewaris textarea").attr('disabled', 'disabled');
                        $("#Pewaris select").attr('disabled', 'disabled');
                        $("#Pewaris input[type='radio']").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mKemahiran-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kemahiran #Kemahiran1[name='kemaskini']").val("Kemahiran")
                        $("#Kemahiran .btn-add-PengalamanKerja, #Kemahiran .btn-remove-PengalamanKerja").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Kemahiran #Kemahiran1[name='kemaskini']").val("off")
                        $("#Kemahiran .btn-add-PengalamanKerja, #Kemahiran .btn-remove-PengalamanKerja").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mKemahiran2-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kemahiran #Kemahiran2[name='kemaskini']").val("Kemahiran2")
                        $("#Kemahiran .btn-add-KemahiranBahasa, #Kemahiran .btn-remove-KemahiranBahasa").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Kemahiran #Kemahiran2[name='kemaskini']").val("off")
                        $("#Kemahiran .btn-add-KemahiranBahasa, #Kemahiran .btn-remove-KemahiranBahasa").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mKemahiran3-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kemahiran #Kemahiran3[name='kemaskini']").val("Kemahiran3")
                        $("#Kemahiran .btn-add-KemahiranTeknikal, #Kemahiran .btn-remove-KemahiranTeknikal").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Kemahiran #Kemahiran3[name='kemaskini']").val("off")
                        $("#Kemahiran .btn-add-KemahiranTeknikal, #Kemahiran .btn-remove-KemahiranTeknikal").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAkademik-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik #Akademik1[name='kemaskini']").val("Akademik")

                        $("#Akademik #xmodel input[type='text']").removeAttr('disabled');
                        
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik #Akademik1[name='kemaskini']").val("off")

                        $("#Akademik input,#Akademik textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            })
                        })
                        $("#Akademik #xmodel input[type='text']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAkademik2-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik #Akademik2[name='kemaskini']").val("Akademik2")
                        $("#Akademik .btn-add-Kelayakan, #Akademik .btn-remove-Kelayakan").removeAttr('disabled');
                        
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik #Akademik2[name='kemaskini']").val("off")
                        $("#Akademik .btn-add-Kelayakan, #Akademik .btn-remove-Kelayakan").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAkademik3-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik #Akademik3[name='kemaskini']").val("Akademik3")
                        $("#Akademik .btn-add-Sijil, #Akademik .btn-remove-Sijil").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik #Akademik3[name='kemaskini']").val("off")
                        $("#Akademik .btn-add-Sijil, #Akademik .btn-remove-Sijil").attr('disabled', 'disabled');
                    }
                }
                if ($(this).attr("id") == "mAkademik4-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik #Akademik4[name='kemaskini']").val("Akademik4")
                        $("#Akademik .btn-add-Kursus, #Akademik .btn-remove-Kursus").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik #Akademik4[name='kemaskini']").val("off")
                        $("#Akademik .btn-add-Kursus, #Akademik .btn-remove-Kursus").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAkademik5-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Akademik #Akademik5[name='kemaskini']").val("Akademik5")
                        $("#Akademik .btn-add-AktivitiLuar, #Akademik .btn-remove-AktivitiLuar").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Akademik #Akademik5 input[name='kemaskini']").val("off")
                        $("#Akademik .btn-add-AktivitiLuar, #Akademik .btn-remove-AktivitiLuar").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mKuarters-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kuarters input[name='kemaskini']").val("Kuarters")

                        $("#Kuarters input[type='text']").removeAttr('disabled');
                        $("#Kuarters textarea").removeAttr('disabled');
                        $("#Kuarters select").removeAttr('disabled');
                        $("#Kuarters input[type='checkbox']").not('#mKuarters-btn').removeAttr('disabled');

                        //$("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK").attr('readonly', 'readonly');
                        //$("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR").attr('readonly', 'readonly');

                    }
                    else {
                        $(this).val('off')
                        $("#Kuarters input[name='kemaskini']").val("off")

                        $("#Kuarters input,#Kuarters textarea").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Kuarters input[type=checkbox]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Kuarters select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        //$("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK").removeAttr('readonly');
                        //$("#Kuarters #HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR").removeAttr('readonly');


                        $("#Kuarters input[type='text']").attr('disabled', 'disabled');
                        //$("#Akademik textarea").attr('disabled', 'disabled');
                        $("#Kuarters select").attr('disabled', 'disabled');
                        $("#Kuarters input[type='checkbox']").not('#mKuarters-btn').attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mTanggungan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Tanggungan input[name='kemaskini']").val("Tanggungan")

                        $("#Tanggungan input[type='text']").removeAttr('disabled');
                        //$("#Tanggungan textarea").removeAttr('disabled');
                        $("#Tanggungan select").removeAttr('disabled');
                        $("#Tanggungan input[type='radio']").removeAttr('disabled');

                        //$("#Tanggungan .HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR").attr('readonly', 'readonly');
                        $("#Tanggungan .umur").attr('readonly', 'readonly');

                        $("#Tanggungan .btn-add-Tanggungan, #Tanggungan .btn-remove-Tanggungan").removeAttr('disabled');
                        /*
                        $("#datatable_Tanggungan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").show();
                        });
                        */
                    }
                    else {
                        $(this).val('off')
                        $("#Tanggungan input[name='kemaskini']").val("off")

                        $("#Tanggungan input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Tanggungan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Tanggungan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kemahiran input[name='HR_MAKLUMAT_PEWARIS.HR_TARIKH_LAHIR']").removeAttr('readonly');
                        //$("#Tanggungan .HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR").removeAttr('readonly');
                        $("#Tanggungan .umur").removeAttr('readonly');


                        $("#Tanggungan input[type='text']").attr('disabled', 'disabled');
                        //$("#Akademik textarea").attr('disabled', 'disabled');
                        $("#Tanggungan select").attr('disabled', 'disabled');
                        $("#Tanggungan input[type='radio']").attr('disabled', 'disabled');
                        $("#Tanggungan .btn-add-Tanggungan, #Tanggungan .btn-remove-Tanggungan").attr('disabled', 'disabled');
                        /*
                        $("#Tanggungan #datatable_Tanggungan tr").each(function () {
                            $(this).find("th.hideRow, td.hideRow").hide();
                        });
                        */
                    }
                }

                if ($(this).attr("id") == "mGaji-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Gaji #Gaji1[name='kemaskini']").val("Gaji")

                        $("#Gaji input[type='text']").removeAttr('disabled');
                        $("#Gaji select").removeAttr('disabled');

                        $("#Gaji #HR_KOD").attr('readonly', 'readonly');
                        $("#Gaji #HR_JAWATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_JABATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_KUMPULAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_TAHUN_EP").attr('readonly', 'readonly');

                        $("#Gaji .btn-add-Gaji, #Gaji .btn-remove-Gaji").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Gaji #Gaji1[name='kemaskini']").val("off")

                        $("#Gaji #HR_KOD").removeAttr('readonly');
                        $("#Gaji #HR_JAWATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_JABATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_KUMPULAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_TAHUN_EP").removeAttr('readonly');

                        $("#Gaji input[type='text']").attr('disabled', 'disabled');
                        $("#Gaji select").attr('disabled', 'disabled');

                        $("#Gaji .btn-add-Gaji, #Gaji .btn-remove-Gaji").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mGaji2-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Gaji #Gaji2[name='kemaskini']").val("Gaji2")

                        $("#Gaji input[type='text']").removeAttr('disabled');
                        $("#Gaji select").removeAttr('disabled');

                        $("#Gaji #HR_KOD").attr('readonly', 'readonly');
                        $("#Gaji #HR_JAWATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_JABATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_KUMPULAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_TAHUN_EP").attr('readonly', 'readonly');

                        $("#Gaji .btn-add-Elaun, #Gaji .btn-remove-Elaun").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Gaji #Gaji2[name='kemaskini']").val("off")

                        $("#Gaji #HR_KOD").removeAttr('readonly');
                        $("#Gaji #HR_JAWATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_JABATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_KUMPULAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_TAHUN_EP").removeAttr('readonly');

                        $("#Gaji input[type='text']").attr('disabled', 'disabled');
                        $("#Gaji select").attr('disabled', 'disabled');

                        $("#Gaji .btn-add-Elaun, #Gaji .btn-remove-Elaun").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mGaji3-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Gaji #Gaji3[name='kemaskini']").val("Gaji3")

                        $("#Gaji input[type='text']").removeAttr('disabled');
                        $("#Gaji select").removeAttr('disabled');

                        $("#Gaji #HR_KOD").attr('readonly', 'readonly');
                        $("#Gaji #HR_JAWATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_JABATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_KUMPULAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_TAHUN_EP").attr('readonly', 'readonly');

                        $("#Gaji .btn-add-Potongan, #Gaji .btn-remove-Potongan").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Gaji #Gaji3[name='kemaskini']").val("off")

                        $("#Gaji #HR_KOD").removeAttr('readonly');
                        $("#Gaji #HR_JAWATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_JABATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_KUMPULAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_TAHUN_EP").removeAttr('readonly');

                        $("#Gaji input[type='text']").attr('disabled', 'disabled');
                        $("#Gaji select").attr('disabled', 'disabled');

                        $("#Gaji .btn-add-Potongan, #Gaji .btn-remove-Potongan").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mGaji4-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Gaji #Gaji4[name='kemaskini']").val("Gaji4")

                        $("#Gaji input[type='text']").removeAttr('disabled');
                        $("#Gaji select").removeAttr('disabled');

                        $("#Gaji #HR_KOD").attr('readonly', 'readonly');
                        $("#Gaji #HR_JAWATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_JABATAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_KUMPULAN_EP").attr('readonly', 'readonly');
                        $("#Gaji #HR_TAHUN_EP").attr('readonly', 'readonly');

                        $("#Gaji .btn-add-Caruman, #Gaji .btn-remove-Caruman").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Gaji #Gaji4[name='kemaskini']").val("off")

                        $("#Gaji #HR_KOD").removeAttr('readonly');
                        $("#Gaji #HR_JAWATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_JABATAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_BAHAGIAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_KUMPULAN_EP").removeAttr('readonly');
                        $("#Gaji #HR_TAHUN_EP").removeAttr('readonly');

                        $("#Gaji input[type='text']").attr('disabled', 'disabled');
                        $("#Gaji select").attr('disabled', 'disabled');

                        $("#Gaji .btn-add-Caruman, #Gaji .btn-remove-Caruman").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAnugerah-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Anugerah #Anugerah1[name='kemaskini']").val("Anugerah")
                        $("#Anugerah .btn-add-AnugerahPingat, #Anugerah .btn-remove-AnugerahPingat").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Anugerah #Anugerah1[name='kemaskini']").val("off")
                        $("#Anugerah .btn-add-AnugerahPingat, #Anugerah .btn-remove-AnugerahPingat").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAnugerah2-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Anugerah #Anugerah2[name='kemaskini']").val("Anugerah2")
                        $("#Anugerah .btn-add-AnugerahCemerlang, #Anugerah .btn-remove-AnugerahCemerlang").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Anugerah #Anugerah2[name='kemaskini']").val("off")
                        $("#Anugerah .btn-add-AnugerahCemerlang, #Anugerah .btn-remove-AnugerahCemerlang").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mAnugerah3-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Anugerah #Anugerah3[name='kemaskini']").val("Anugerah3")
                        $("#Anugerah #xmodal input[type='text']").removeAttr('disabled');
                        $("#Anugerah #xmodal select").removeAttr('disabled');
                        $("#Anugerah #xmodal input[type='radio']").removeAttr('disabled');

                        $("#Anugerah #xmodal #HR_ANUGERAH_HAJI_HR_NP_UP").attr('readonly', 'readonly');
                        $("#Anugerah #xmodal #HR_ANUGERAH_HAJI_HR_NP_YDP").attr('readonly', 'readonly');
                        $("#Anugerah #xmodal #HR_KOD").attr('readonly', 'readonly');

                        $("#btn-pekerja3, #btn-pekerja4").removeAttr('disabled');
                    }
                    else {
                        $(this).val('off')
                        $("#Anugerah #Anugerah3[name='kemaskini']").val("off")

                        $("#Anugerah #xmodal input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                        })

                        $("#Anugerah #xmodal select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })
                        $("#Anugerah #xmodal #HR_ANUGERAH_HAJI_HR_NP_UP").removeAttr('readonly');
                        $("#Anugerah #xmodal #HR_ANUGERAH_HAJI_HR_NP_YDP").removeAttr('readonly');

                        $("#Anugerah #xmodal input[type='text']").attr('disabled', 'disabled');

                        $("#Anugerah #xmodal select").attr('disabled', 'disabled');
                        $("#Anugerah #xmodal input[type='radio']").attr('disabled', 'disabled');
                        $("#btn-pekerja3, #btn-pekerja4").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mPersaraan-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Persaraan input[name='kemaskini']").val("Persaraan")

                        $("#Persaraan input[type='text']").removeAttr('disabled');
                        $("#Persaraan input[type='number']").removeAttr('disabled');
                        $("#Persaraan select").removeAttr('disabled');
                        $("#Persaraan input[type='radio']").removeAttr('disabled');

                        if ($("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND:checked").val() == "C")
                        {
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").attr("disabled", "disabled")
                            $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").attr("disabled", "disabled")
                        }

                        //$("#Persaraan #HR_PERSARAAN_HR_TARIKH_BERSARA").attr('readonly', 'readonly');

                    }
                    else {
                        $(this).val('off')
                        $("#Persaraan input[name='kemaskini']").val("off")

                        $("#Persaraan input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            $('#Persaraan input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });
                        })

                        $("#Persaraan select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Persaraan #HR_PERSARAAN_HR_TARIKH_BERSARA").removeAttr('readonly');
                        $("#Persaraan input[type='text']").attr('disabled', 'disabled');
                        $("#Persaraan input[type='number']").attr('disabled', 'disabled');
                        $("#Persaraan select").attr('disabled', 'disabled');
                        $("#Persaraan input[type='radio']").attr('disabled', 'disabled');

                    }
                }

                if ($(this).attr("id") == "mTatatertib-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Tatatertib input[name='kemaskini']").val("Tatatertib")

                        $("#Tatatertib input[type='text']").removeAttr('disabled');
                        $("#Tatatertib textarea").removeAttr('disabled');
                        $("#Tatatertib select").removeAttr('disabled');
                        //$("#Tatatertib .HR_TARIKH_KESALAHAN").attr('readonly', 'readonly');
                        //$("#Tatatertib .HR_TARIKH_MULA_TINDAKAN").attr('readonly', 'readonly');
                        //$("#Tatatertib .HR_TARIKH_AKHIR_TINDAKAN").attr('readonly', 'readonly');

                        $("#Tatatertib .btn-add-Tatatertib, #Tatatertib .btn-remove-Tatatertib").removeAttr('disabled');

                    }
                    else {
                        $(this).val('off')
                        $("#Tatatertib input[name='kemaskini']").val("off")

                        $("#Tatatertib input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Tatatertib select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Tatatertib .HR_TARIKH_KESALAHAN").removeAttr('readonly');
                        //$("#Tatatertib .HR_TARIKH_MULA_TINDAKAN").removeAttr('readonly');
                        //$("#Tatatertib .HR_TARIKH_AKHIR_TINDAKAN").removeAttr('readonly');
                        $("#Tatatertib .HR_JABATAN_T").removeAttr('readonly');
                        $("#Tatatertib input[type='text']").attr('disabled', 'disabled');
                        $("#Tatatertib textarea").attr('disabled', 'disabled');
                        $("#Tatatertib select").attr('disabled', 'disabled');
                        $("#Tatatertib input[type='radio']").attr('disabled', 'disabled');
                        $("#Tatatertib .btn-add-Tatatertib, #Tatatertib .btn-remove-Tatatertib").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mKematian-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Kematian input[name='kemaskini']").val("Kematian")

                        $("#Kematian input[type='text']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Kematian select").removeAttr('disabled');
                        //$("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").attr('readonly', 'readonly');
                        //$("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").attr('readonly', 'readonly');

                    }
                    else {
                        $(this).val('off')
                        $("#Kematian input[name='kemaskini']").val("off")

                        $("#Kematian input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Kematian select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        //$("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").removeAttr('readonly');
                        //$("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").removeAttr('readonly');

                        $("#Kematian input[type='text']").attr('disabled', 'disabled');
                        $("#Kematian select").attr('disabled', 'disabled');
                        $("#Kematian input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mPrestasi-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Prestasi input[name='kemaskini']").val("Prestasi")

                        $("#Prestasi input[type='text']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Prestasi select").removeAttr('disabled');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_JUMLAH_BESAR").attr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Prestasi input[name='kemaskini']").val("off")

                        $("#Prestasi input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Prestasi select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })

                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGHASILAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_PENGETAHUAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_KUALITI").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PURATA_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_PERATUS_SUMBANGAN").attr('readonly', 'readonly');
                        $("#Prestasi #HR_PENILAIAN_PRESTASI_HR_JUMLAH_BESAR").removeAttr('readonly');

                        $("#Prestasi input[type='text']").attr('disabled', 'disabled');
                        $("#Prestasi select").attr('disabled', 'disabled');
                        $("#Prestasi input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                if ($(this).attr("id") == "mCuti-btn") {
                    if ($(this).is(':checked') == true) {
                        $(this).val('on')
                        $("#Cuti input[name='kemaskini']").val("Cuti")
                        $("#Cuti #HR_MAKLUMAT_CUTI_DISABLED").val("1")
                        DisabledCuti = 1;
                        $("#Cuti input[type='text'], #Cuti input[type='number']").removeAttr('disabled');
                        $("#Cuti input[type='radio']").removeAttr('disabled');
                        //$("#Tatatertib textarea").removeAttr('disabled');
                        $("#Cuti select").removeAttr('disabled');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KOD_CUTI2").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_TAHUNAN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").attr('readonly', 'readonly');
                    }
                    else {
                        $(this).val('off')
                        $("#Cuti input[name='kemaskini']").val("off")
                        $("#Cuti #HR_MAKLUMAT_CUTI_DISABLED").val("0")
                        $("#Cuti input").each(function () {
                            $(this).val(function () {
                                return this.defaultValue;
                            });
                            /*$('#Gaji input[type=radio]').prop('checked', function () {
                                return $(this).attr('checked') == 'checked';
                            });*/
                        })

                        $("#Cuti select option").each(function () {
                            $(this).prop('selected', function () {
                                return $(this).attr('selected') == 'selected';
                            });
                        })
                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");

                        $("#Cuti #Kelulusan").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").attr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KOD_CUTI2").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").removeAttr('readonly', 'readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_KELAYAKAN_TAHUNAN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").removeAttr('readonly');
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").removeAttr('readonly');
                        $("#Cuti input[type='text'], #Cuti input[type='number']").attr('disabled', 'disabled');
                        $("#Cuti select").attr('disabled', 'disabled');
                        $("#Cuti input[type='radio']").attr('disabled', 'disabled');
                    }
                }

                var on = 0;
                $("input[name='sah[]']").each(function () {
                    if($(this).val() == "on")
                    {
                        on++;
                    }
                })
                if (on > 0) {
                    $("#btn-edit").removeAttr("disabled");
                }
                else {
                    $("#btn-edit").attr("disabled", "disabled");
                }
            })

            $("#HR_MAKLUMAT_KUARTERS_HR_KOD_KUARTERS").on("input", function () {

                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT1").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT2").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_POSKOD").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BANDAR").val("");
                $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_NEGERI").val("");

                $.ajax({
                    url: "../MaklumatKakitangan/CariKodKuarters",
                    data: { "HR_KOD_KUARTERS": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function(data)
                    {
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT1").val(data.HR_ALAMAT1);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_ALAMAT2").val(data.HR_ALAMAT2);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_POSKOD").val(data.HR_POSKOD);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BANDAR").val(data.HR_BANDAR);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_NEGERI").val(data.HR_NEGERI);
                        $("#HR_MAKLUMAT_KUARTERS_HR_KUARTERS_HR_BLOK_KUARTERS").val(data.HR_BLOK_KUARTERS);
                    }
                })
            })

            $("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND").on("click", function () {

                if ($("#Persaraan #HR_PERSARAAN_HR_BAYARAN_IND:checked").val() == "C") {
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").attr("disabled", "disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").attr("disabled", "disabled")
                }
                else{
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT1").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT2").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PALAMAT3").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PBANDAR").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PNEGERI").removeAttr("disabled")
                    $("#Persaraan #HR_PERSARAAN_HR_PPOSKOD").removeAttr("disabled", "disabled")
                }
            })

            $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_NAMA_PEGAWAI").on("change", function () {

                $.ajax({
                    url: "../MaklumatKakitangan/CariJawatanPegawai",
                    data: { "id": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $("#HR_MAKLUMAT_KEMATIAN_HR_JAWATAN_PEGAWAI").val(data);
                    }
                })
            });

            $("#Persaraan #HR_PERSARAAN_HR_NP_PEGAWAI").on("change", function () {

                $.ajax({
                    url: "../MaklumatKakitangan/CariJawatanPegawai",
                    data: { "id": $(this).val() },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $("#HR_PERSARAAN_HR_JAWATAN_PEGAWAI").val(data);
                    }
                })
            })

            $("#Kematian #HR_MAKLUMAT_KEMATIAN_HR_NAMA_PEWARIS").on("input", function () {
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_KP_PEWARIS").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT1").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT2").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT3").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_BANDAR").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_POSKOD").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NEGERI").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_HUBUNGAN").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELRUMAH").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELPEJABAT").val("");
                $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELBIMBIT").val("");
                $.ajax({
                    url: "../MaklumatKakitangan/CariPewaris",
                    data: { "id": $(this).val(), "no": '@Model.HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA'},
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $.each(data, function (i, v) {
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_KP_PEWARIS").val(v.HR_NO_KP);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT1").val(v.HR_PALAMAT1);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT2").val(v.HR_PALAMAT2);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_ALAMAT3").val(v.HR_PALAMAT3);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_BANDAR").val(v.HR_PBANDAR);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_POSKOD").val(v.HR_PPOSKOD);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NEGERI").val(v.HR_PNEGERI);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_HUBUNGAN").val(v.HR_HUBUNGAN);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELRUMAH").val(v.HR_TELRUMAH);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELPEJABAT").val(v.HR_TELPEJABAT);
                            $("#HR_MAKLUMAT_KEMATIAN_HR_NO_TELBIMBIT").val(v.HR_TELBIMBIT);
                        })

                    }
                })
            })

            function KiraUmur(no_pekerja, tarikh_lahir) {
                $.ajax({
                    url: "../MaklumatKakitangan/KiraUmur",
                    data: { "id": no_pekerja, "date": tarikh_lahir },
                    contentType: "application/json; charset=utf-8",
                    type: 'GET',
                    dataType: "json",
                    success: function (data) {
                        $("#Umur").val(data);
                    }
                })
            }

            function KiraPencen(tarikh_lahir, tarikh_tamat) {
                $("#Pekerjaan input[name='HR_UMUR_SARA']").val("");
                if ($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val() != "")
                    $.ajax({
                        url: "../MaklumatKakitangan/KiraUmurBersara",
                        data: { "HR_TARIKH_LAHIR": tarikh_lahir, "HR_TARIKH_TAMAT": tarikh_tamat },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#Pekerjaan input[name='HR_UMUR_SARA']").val(data);
                        }
                    })
            }

            function getDate(element) {
                var date;
                try {
                    date = $.datepicker.parseDate(dateFormat, element.value);
                } catch (error) {
                    date = null;
                }

                return date;
            }

            $('#HR_MAKLUMAT_PERIBADI_HR_TARIKH_LAHIR').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);

                    KiraUmur($("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), $(this).val())
                    KiraPencen($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val())
                }
            }).on('input', function (e) {
                KiraUmur($("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), $(this).val())
                KiraPencen($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val())
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR').datepicker('option', 'minDate', selectedDate);
                }
            }).on('change', function (e) {
                $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR').datepicker('option', 'minDate', getDate(this));
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_AKHIR').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA').datepicker('option', 'maxDate', selectedDate);
                }
            }).on('change', function (e) {
                $('#HR_MAKLUMAT_PEKERJAAN_HR_PCB_TARIKH_MULA').datepicker('option', 'maxDate', getDate(this));
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK_KERAJAAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#HR_TARIKH_TAMAT').datepicker('option', 'minDate', selectedDate);
                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_BULAN_KENAIKAN_GAJI').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                showButtonPanel: true,
                currentText: "Bulan Kini",
                closeText: 'Tutup',
                onSelect: function (selectedDate) {
                    $('#HR_TARIKH_AKHIR').datepicker('option', 'minDate', selectedDate);
                },
                onChangeMonthYear: function (year, month, inst) {
                    $(this).val($.datepicker.formatDate('dd/mm/yy', new Date(year, month - 1, 1)));
                },
                onClose: function (dateText, inst) {
                    $(this).val($.datepicker.formatDate('dd/mm/yy', new Date(inst.selectedYear, inst.selectedMonth, 1)));
                }
            }).on('change', function (e) {
                $('#HR_TARIKH_AKHIR').datepicker('option', 'minDate', getDate(this));
            }).focus(function () {
                $(".ui-datepicker-calendar").hide();
            });

            function KiraTahunKontrek(tahun, tarikh) {
                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val("");
                if ($("#Pekerjaan input[name='HR_JUM_TAHUN']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() != "") {
                    $.ajax({
                        url: "../MaklumatKakitangan/JumlahTahunKontrak",
                        data: { "HR_JUM_TAHUN": tahun, "HR_TARIKH_MASUK": tarikh },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                            $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val(tarikh.toLocaleDateString('en-GB'));
                        }
                    })
                }
            }

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT').datepicker('option', 'minDate', selectedDate);
                    KiraTahunKontrek($("#Pekerjaan input[name='HR_JUM_TAHUN']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val())
                }
            }).on('change', function (e) {
                $('#HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT').datepicker('option', 'minDate', getDate(this));
                KiraTahunKontrek($("#Pekerjaan input[name='HR_JUM_TAHUN']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val())
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', selectedDate);
                    KiraPencen($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI_HR_TARIKH_LAHIR']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT']").val())
                }
            }).on('change', function (e) {
                $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', getDate(this));
                KiraPencen($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI_HR_TARIKH_LAHIR']").val(), $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT']").val())
            });

            function TarafJawatan() {
                if ($("#HR_MAKLUMAT_PEKERJAAN_HR_TARAF_JAWATAN").val() == "K") {
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT_KONTRAK').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT_KONTRAK').val());
                    }
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('disable');
                }
                else {
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').datepicker('option', 'maxDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').val());
                    }
                    if ($('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').val() != "") {
                        $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('option', 'minDate', $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_MASUK').val());
                    }
                    $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_TAMAT').datepicker('enable');
                }
            }
            TarafJawatan()

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_SAH_JAWATAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_SAH_J_TUKAR_LANTIK').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });

            $('#HR_MAKLUMAT_PEKERJAAN_HR_TARIKH_LANTIKAN').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });

            /*$('#HR_TARIKH_TAMAT_KONTRAK').datepicker({
                changeMonth: true,
                changeYear: true,
                dateFormat: 'dd/mm/yy',
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    //$('#finishdate').datepicker('option', 'minDate', selectedDate);


                }
            });*/

                $(".HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA, #HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#datepicker3').datepicker('option', 'minDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT, #HR_MAKLUMAT_PENGALAMAN_KERJA_HR_TARIKH_TAMAT").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI, #HR_MAKLUMAT_SIJIL_HR_TARIKH_DIPEROLEHI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#datepicker3').datepicker('option', 'minDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_KURSUS_LATIHAN_HR_TARIKH_TAMAT").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_AKTIVITI_HR_TARIKH_AKTIVITI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".datepicker").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $('.HR_MAKLUMAT_PEWARIS_HR_TARIKH_LAHIR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#finishdate').datepicker('option', 'minDate', selectedDate);
                        $.ajax({
                            url: "../MaklumatKakitangan/KiraUmur",
                            data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                //$("#Umur").val(data);
                            }
                        })

                    }
                }).on('change', function (e) {
                    $.ajax({
                        url: "../MaklumatKakitangan/KiraUmur",
                        data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#Umur").val(data);
                        }
                    })
                });

                $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR').datepicker('option', 'minDate', selectedDate);
                    }
                }).on('change', function (e) {
                    $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR').datepicker('option', 'minDate', getDate(this));
                });

                $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_KELUAR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK').datepicker('option', 'maxDate', selectedDate);
                    }
                }).on('change', function (e) {
                    $('#HR_MAKLUMAT_KUARTERS_HR_TARIKH_MASUK').datepicker('option', 'minDate', getDate(this));
                });

                $('#HR_MAKLUMAT_TANGGUNGAN_HR_TARIKH_LAHIR').datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('#finishdate').datepicker('option', 'minDate', selectedDate);
                        $.ajax({
                            url: "../MaklumatKakitangan/KiraUmur",
                            data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {

                                $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_UMUR']").val(data);
                            }
                        })
                    }
                }).on('change', function (e) {
                    $.ajax({
                        url: "../MaklumatKakitangan/KiraUmur",
                        data: { "id": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "date": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {

                            $("input[name='HR_MAKLUMAT_TANGGUNGAN_HR_UMUR']").val(data);
                        }
                    })
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA, .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR, .HR_MAKLUMAT_ELAUN_POTONGAN_G_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA, .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR, .HR_MAKLUMAT_ELAUN_POTONGAN_E_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA, .HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR, .HR_MAKLUMAT_ELAUN_POTONGAN_P_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA, .HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR, .HR_MAKLUMAT_ELAUN_POTONGAN_C_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $(".HR_MAKLUMAT_KURNIAAN_HR_TARIKH_PENCALONAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $(".HR_MAKLUMAT_KURNIAAN_HR_TARIKH_KURNIAAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN, .HR_ANUGERAH_CEMERLANG_HR_TARIKH_PENERIMAAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_ANUGERAH_HAJI_HR_TAHUN_PERGI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_PERSARAAN_HR_TARIKH_BERSARA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN, .HR_TINDAKAN_DISIPLIN_HR_TARIKH_KESALAHAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA, .HR_TINDAKAN_DISIPLIN_HR_TARIKH_MULA").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR, .HR_TINDAKAN_DISIPLIN_HR_TARIKH_AKHIR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });

                $("#HR_MAKLUMAT_KEMATIAN_HR_TARIKH_KEMATIAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_KEMATIAN_HR_TARIKH_BAYAR").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        //$('.datepicker2').datepicker('option', 'maxDate', selectedDate);
                    }
                });
                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI').datepicker('option', 'minDate', selectedDate);
                        var start = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker("getDate");
                        var end = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker("getDate");
                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");

                        function max() {
                            return $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val();
                        }

                        function BakiTerkini() {
                            return $("#HR_MAKLUMAT_CUTI_HR_BAKI_TERKINI").val();
                        }

                        if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == 3)
                        {
                            console.log(max());
                            end = new Date(start);
                            end.setDate(end.getDate() + parseInt(max()) - 1);

                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val($.datepicker.formatDate('dd/mm/yy', end));
                            $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(parseInt(max()))
                        }
                        else
                        {
                            //disable day in datepicker
                            if (parseInt(BakiTerkini()) != "")
                            {
                                var startMax = new Date(start);
                                var endMax = new Date(start);
                                endMax = new Date(endMax.setDate(endMax.getDate() + parseInt(BakiTerkini()) - 1));
                                console.log(selectedDate)
                                console.log(endMax)
                                while (startMax <= endMax) {

                                    if ($.datepicker.formatDate('DD', startMax) == "Sunday" || $.datepicker.formatDate('DD', startMax) == "Saturday") {
                                        endMax.setDate(endMax.getDate() + 1)
                                    }
                                    startMax.setDate(startMax.getDate() + 1)
                                }
                                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker('option', 'maxDate', endMax);
                            }

                            if ($("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val != "" && $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val() != "") {
                                $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("");
                                var currentDate = new Date(start);
                                var between = [];
                                while (currentDate <= end) {
                                    between.push(new Date(currentDate));
                                    currentDate.setDate(currentDate.getDate() + 1);
                                }
                                var totalDay = 0;
                                $.each(between, function (i, v) {
                                    if ($.datepicker.formatDate('DD', v) != "Sunday" && $.datepicker.formatDate('DD', v) != "Saturday") {
                                        totalDay++;
                                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").append($("<option selected='selected'></option>").val($.datepicker.formatDate('dd/mm/yy', v)).html($.datepicker.formatDate('dd/mm/yy', v)))
                                    }

                                })
                                $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(totalDay)

                                $.ajax({
                                    url: "../MaklumatKakitangan/BilCuti",
                                    data: { "no_pekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "kod_cuti": $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "tahun": $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() },
                                    contentType: "application/json; charset=utf-8",
                                    type: 'GET',
                                    dataType: "json",
                                    success: function (data) {
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data)
                                    }
                                })
                            }
                        }

                    }
                });


                $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker({
                    changeMonth: true,
                    changeYear: true,
                    dateFormat: 'dd/mm/yy',
                    prevText: '<i class="fa fa-chevron-left"></i>',
                    nextText: '<i class="fa fa-chevron-right"></i>',
                    minDate: 0,
                    onSelect: function (selectedDate) {
                        $('#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI').datepicker('option', 'maxDate', selectedDate);
                        var start = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").datepicker("getDate");
                        var end = $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").datepicker("getDate");
                        $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        if ($("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val != "" && $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val() != "")
                        {
                            $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("");
                            var currentDate = new Date(start);
                            var between = [];
                            while(currentDate <= end)
                            {
                                between.push(new Date(currentDate));
                                currentDate.setDate(currentDate.getDate() + 1);
                            }
                            var totalDay = 0;
                            $.each(between, function (i, v) {
                                if ($.datepicker.formatDate('DD', v) != "Sunday" && $.datepicker.formatDate('DD', v) != "Saturday") {
                                    totalDay++;
                                    $("#HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").append($("<option selected='selected'></option>").val($.datepicker.formatDate('dd/mm/yy', v)).html($.datepicker.formatDate('dd/mm/yy', v)))
                                }

                            })
                            $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(totalDay)

                            $.ajax({
                                url: "../MaklumatKakitangan/BilCuti",
                                data: { "no_pekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "kod_cuti": $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "tahun": $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() },
                                contentType: "application/json; charset=utf-8",
                                type: 'GET',
                                dataType: "json",
                                success: function (data) {
                                    $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data)
                                }
                            })

                        }
                    }
                });


                if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "")
                {
                    $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                }

                $("#HR_MAKLUMAT_CUTI_HR_TAHUN, #HR_MAKLUMAT_CUTI_HR_KOD_CUTI, #HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").on("input", function () {

                    if ($(this).attr("id") == "HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI") {

                        $.ajax({
                            url: "../MaklumatKakitangan/KategoriCuti",
                            data: { "HR_KATEGORI_CUTI": $(this).val() },
                            type: "GET",
                            dataType: "json",
                            success: function (data) {
                                $.each(data, function (i, v) {
                                    if ($("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "2") {
                                        $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val(v.HR_KOD_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").append($("<option selected></option>").val(v.HR_KOD_CUTI).html(v.HR_KETERANGAN));

                                    }
                                    else {
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").append($("<option></option>").val(v.HR_KOD_CUTI).html(v.HR_KETERANGAN));
                                    }
                                    if(data.length == 1)
                                    {
                                        if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val().length == 4 && $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() == "2") {
                                            $.ajax({
                                                url: "../MaklumatKakitangan/JenisCuti",
                                                type: "GET",
                                                data: { HR_KATEGORI_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val(), HR_TARIKH_PERMOHONAN: $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(), HR_JUMLAH_MAKSIMUM: $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(), HR_TAHUN: $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(), HR_KOD_CUTI: v.HR_KOD_CUTI, "NoPekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), DISABLED: DisabledCuti },
                                                //dataType: "json",
                                                //contentType: "application/json: charset=utf-8",
                                                success: function (data) {

                                                    $("#Cuti #KategoriCuti").html(data);
                                                }
                                            });
                                        }
                                    }
                                })
                            }
                        })

                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                        $("#Cuti input").each(function () {
                            $(this).not("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN, #HR_MAKLUMAT_CUTI_HR_TAHUN, #KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                        })
                        $("#Cuti select").each(function () {
                            if ($(this).attr("id") != "HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI") {
                                $(this).val("");
                            }
                        })

                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");

                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanHR").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");

                        $("#Cuti #Kelulusan").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });

                        if ($(this).val() == 1) {
                            $("#Cuti #CutiBerekod").removeClass("hide");
                            $("#Cuti #CutiBerekod2").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Bahagian");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");

                        }
                        else if ($(this).val() == 2) {
                            $("#Cuti #CutiTidakBerekod").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            $("#Cuti #KelulusanYDP").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan / Bahagian");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).val() == 3) {
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #KelulusanYDP").removeClass("hide");
                            /*$("#Cuti #KelulusanHR").find(".row").each(function () {
                                $(this).not("#Ulasan").hide();
                            });*/
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).val() == 4)
                        {
                            //$("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #Sokongan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Kelulusan Penolong Pengarah, Bahagian Sumber Manusia");
                            $("#Cuti #Ulasan").hide();
                        }
                    }

                    $("#Cuti input").each(function () {
                        $(this).not("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN, #HR_MAKLUMAT_CUTI_HR_TAHUN, #KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                    })
                    $("#Cuti select").each(function () {
                        $(this).not("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI, #HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val("");

                    })
                    $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                    $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");
                    if ($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                        $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val())
                    }

                    if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val() != "" && $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                        if ($(this).val() == "CU008") {
                            $("#Cuti #CutiKematian").removeClass("hide");
                            $("#Cuti #CutiBersalin").addClass("hide");
                        }
                        if ($(this).val() == "CU007" || $(this).val() == "CU091") {
                            $("#Cuti #CutiKematian").addClass("hide");
                            $("#Cuti #CutiBersalin").removeClass("hide");
                        }
                    }
                    if ($("#HR_MAKLUMAT_CUTI_HR_TAHUN").val().length == 4 && $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "" && $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val() != "2") {
                        $.ajax({
                            url: "../MaklumatKakitangan/JenisCuti",
                            type: "GET",
                            data: { HR_KATEGORI_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KATEGORI_CUTI").val(), HR_TARIKH_PERMOHONAN: $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(), HR_JUMLAH_MAKSIMUM: $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(), HR_TAHUN: $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(), HR_KOD_CUTI: $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(), "NoPekerja": $("#HR_NO_PEKERJA").val(), DISABLED: DisabledCuti },
                            //dataType: "json",
                            //contentType: "application/json: charset=utf-8",
                            success: function (data) {

                                $("#Cuti #KategoriCuti").html(data);
                            }
                        });
                    }
                })

                var tableCuti = $('#datatable_Cuti').DataTable();
                $('#datatable_Cuti tbody').on('click', 'tr', function () {
                    if ('@ViewBag.SenaraiCutiCount' > 0)
                    {
                        var tr = $(this);
                        if ($(this).hasClass('selectedCuti')) {
                            $(this).removeClass('selectedCuti');
                        }
                        else {
                            tableCuti.$('tr.selectedCuti').removeClass('selectedCuti');
                            $(this).parent().find("tr").removeAttr("style");
                            $(this).addClass('selectedCuti');
                            $(".selectedCuti").css({ "background-color": "yellow" })
                            /*$(this).parent().find("tr").each(function () {
                                $(this).not(tr).removeAttr("style");
                            })*/

                        }

                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").html("<option></option>");
                        $("#Cuti input").each(function () {
                            $(this).not("#KATEGORI_CUTI_dt, #KOD_CUTI_dt, #JUMLAH_MAKSIMUM_dt, #TAHUN_dt, #TARIKH_PERMOHONAN_dt, #kemaskini, #HR_MAKLUMAT_CUTI_DISABLED").val("");
                        })
                        $("#Cuti select").each(function () {
                            $(this).val("");
                        })

                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_SENARAI_TARIKH").html("<option></option>");
                        $("#Cuti #HR_MAKLUMAT_CUTI_HR_TARIKH_BATAL").html("<option></option>");

                        $("#Cuti #Sokongan").addClass("hide");
                        $("#Cuti #Kelulusan").addClass("hide");
                        $("#Cuti #KelulusanHR").addClass("hide");
                        $("#Cuti #KelulusanYDP").addClass("hide");
                        $("#Cuti #CutiBerekod").addClass("hide");
                        $("#Cuti #CutiBerekod2").addClass("hide");
                        $("#Cuti #CutiTidakBerekod").addClass("hide");
                        $("#Cuti #CutiKematian").addClass("hide");
                        $("#Cuti #CutiBersalin").addClass("hide");

                        $("#Cuti #Sokongan").find("legend").html("");
                        $("#Cuti #Kelulusan").find("legend").html("");
                        $("#Cuti #KelulusanHR").find("legend").html("");
                        $("#Cuti #KelulusanHR").find(".row").each(function () {
                            $(this).not("#Ulasan").show();
                        });

                        var DataJson = { DISABLED: DisabledCuti, "NoPekerja": $("#HR_MAKLUMAT_PERIBADI_HR_NO_PEKERJA").val(), "KodCuti": $(this).find("#KOD_CUTI_dt").val(), "HR_TARIKH_PERMOHONAN": $(this).find("#TARIKH_PERMOHONAN_dt").val() };

                        $.ajax({
                            url: "../MaklumatKakitangan/DataCuti",
                            data: DataJson,
                            type: "GET",
                            //dataType: "json",
                            success: function (data) {
                                $("#Cuti #KategoriCuti").html(data);
                                $.ajax({
                                    url: "../MaklumatKakitangan/DataCuti2",
                                    data: DataJson,
                                    type: "GET",
                                    dataType: "json",
                                    success: function (data) {


                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA").val(data.HR_MAKLUMAT_CUTI.HR_NO_PEKERJA)
                                        $("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_KOD_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_PERMOHONAN != null) {
                                            var tarikhPermohonan = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_PERMOHONAN.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_PERMOHONAN").val(tarikhPermohonan.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_CUTI_REHAT").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_CUTI_REHAT)
                                        $("#HR_MAKLUMAT_CUTI_HR_JUMLAH_MAKSIMUM").val(data.HR_MAKLUMAT_CUTI.HR_JUMLAH_MAKSIMUM)
                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_TAHUN_LEPAS").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_TAHUN_LEPA)

                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_PENCEN").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_PENCEN)
                                        $("#HR_MAKLUMAT_CUTI_HR_TAHUN").val(data.HR_MAKLUMAT_CUTI.HR_TAHUN)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_TEMP").val(data.HR_MAKLUMAT_CUTI.HR_BIL_CUTI_TEMP)
                                        $("#HR_MAKLUMAT_CUTI_HR_BAKI_PENCEN_TERKUMPUL").val(data.HR_MAKLUMAT_CUTI.HR_BAKI_PENCEN_TERKUMPUL)
                                        $("#HR_MAKLUMAT_CUTI_HR_KELAYAKAN_BULANAN").val(data.HR_MAKLUMAT_CUTI.HR_KELAYAKAN_BULANAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_CUTI_DIAMBIL").val(data.HR_MAKLUMAT_CUTI.HR_BIL_CUTI_DIAMBIL)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_MULA_CUTI != null) {
                                            var tarikhMulaCuti = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_MULA_CUTI.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_MULA_CUTI").val(tarikhMulaCuti.toLocaleDateString('en-GB'))
                                        }
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_TAMAT_CUTI != null) {
                                            var tarikhTamatCuti = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_TAMAT_CUTI.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_TAMAT_CUTI").val(tarikhTamatCuti.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT1").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT1)
                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT2").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT2)
                                        $("#HR_MAKLUMAT_CUTI_HR_CALAMAT3").val(data.HR_MAKLUMAT_CUTI.HR_CALAMAT3)
                                        $("#HR_MAKLUMAT_CUTI_HR_CBANDAR").val(data.HR_MAKLUMAT_CUTI.HR_CBANDAR)
                                        $("#HR_MAKLUMAT_CUTI_HR_CPOSKOD").val(data.HR_MAKLUMAT_CUTI.HR_CPOSKOD)
                                        $("#HR_MAKLUMAT_CUTI_HR_CNEGERI").val(data.HR_MAKLUMAT_CUTI.HR_CNEGERI)
                                        $("#HR_MAKLUMAT_CUTI_HR_TEL").val(data.HR_MAKLUMAT_CUTI.HR_TEL)
                                        $("#HR_MAKLUMAT_CUTI_HR_NP_PENGGANTI").val(data.HR_MAKLUMAT_CUTI.HR_NP_PENGGANTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_NAMA_PROGRAM").val(data.HR_MAKLUMAT_CUTI.HR_NAMA_PROGRAM)
                                        $("#HR_MAKLUMAT_CUTI_HR_TEMPAT_PROGRAM").val(data.HR_MAKLUMAT_CUTI.HR_TEMPAT_PROGRAM)
                                        $("#HR_MAKLUMAT_CUTI_HR_ANJURAN").val(data.HR_MAKLUMAT_CUTI.HR_ANJURAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_ISTERI_BERSALIN != null) {
                                            var tarikhIsteriBersalin = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_ISTERI_BERSALIN.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_ISTERI_BERSALIN").val(tarikhIsteriBersalin.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_ALASAN").val(data.HR_MAKLUMAT_CUTI.HR_ALASAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_HUBUNGAN").val(data.HR_MAKLUMAT_CUTI.HR_HUBUNGAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_NO_SIRI").val(data.HR_MAKLUMAT_CUTI.HR_NO_SIRI)
                                        $("#HR_MAKLUMAT_CUTI_HR_BIL_HARI_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_BIL_HARI_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_SOKONG_IND").val(data.HR_MAKLUMAT_CUTI.HR_SOKONG_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_SOKONG != null) {
                                            var tarikhSokong = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_SOKONG.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_SOKONG").val(tarikhSokong.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_LULUS_IND").val(data.HR_MAKLUMAT_CUTI.HR_LULUS_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS != null) {
                                            var tarikhLulus = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS").val(tarikhLulus.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NP_KJ").val(data.HR_MAKLUMAT_CUTI.HR_NP_KJ)
                                        $("#HR_MAKLUMAT_CUTI_HR_HR_LULUS_IND").val(data.HR_MAKLUMAT_CUTI.HR_HR_LULUS_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS_HR").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS_HR != null) {
                                            var tarikhLulusHR = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_LULUS_HR.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_LULUS_HR").val(tarikhLulusHR.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA_LULUS").val(data.HR_MAKLUMAT_CUTI.HR_NO_PEKERJA_LULUS)
                                        $("#HR_MAKLUMAT_CUTI_HR_ULASAN").val(data.HR_MAKLUMAT_CUTI.HR_ULASAN)
                                        $("#HR_MAKLUMAT_CUTI_HR_LULUS_YDP_IND").val(data.HR_MAKLUMAT_CUTI.HR_LULUS_YDP_IND)
                                        $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").val("")
                                        if (data.HR_MAKLUMAT_CUTI.HR_TARIKH_YDP != null) {
                                            var tarikhYDP = new Date(parseInt(data.HR_MAKLUMAT_CUTI.HR_TARIKH_YDP.replace(/\/Date\((\d+)\)\//, '$1')));
                                            $("#HR_MAKLUMAT_CUTI_HR_TARIKH_YDP").val(tarikhYDP.toLocaleDateString('en-GB'))
                                        }

                                        $("#HR_MAKLUMAT_CUTI_HR_NO_PEKERJA_YDP").val(data.HR_MAKLUMAT_CUTI._HR_NO_PEKERJA_YDP)
                                        $("#HR_MAKLUMAT_CUTI_HR_HARI_CUTI").val(data.HR_MAKLUMAT_CUTI.HR_HARI_CUTI)
                                        $("#HR_MAKLUMAT_CUTI_HR_NAMA_KLINIK").val(data.HR_MAKLUMAT_CUTI.HR_NAMA_KLINIK)
                                    }
                                })
                            }
                        })


                        if ($(this).find("#KATEGORI_CUTI_dt").val() == 1) {
                            $("#Cuti #CutiBerekod").removeClass("hide");
                            $("#Cuti #CutiBerekod2").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Bahagian");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");

                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 2) {
                            $("#Cuti #CutiTidakBerekod").removeClass("hide");
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            $("#Cuti #KelulusanYDP").removeClass("hide");
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan / Bahagian");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 3) {
                            $("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #KelulusanYDP").removeClass("hide");
                            /*$("#Cuti #KelulusanHR").find(".row").each(function () {
                                $(this).not("#Ulasan").hide();
                            });*/
                            $("#Cuti #Sokongan").find("legend").html("Sokongan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Pen. Pengarah Bah. Sumber Manusia");
                        }
                        else if ($(this).find("#KATEGORI_CUTI_dt").val() == 4) {
                            //$("#Cuti #Sokongan").removeClass("hide");
                            $("#Cuti #Kelulusan").removeClass("hide");
                            $("#Cuti #KelulusanHR").removeClass("hide");
                            //$("#Cuti #Sokongan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #Kelulusan").find("legend").html("Kelulusan Ketua Jabatan");
                            $("#Cuti #KelulusanHR").find("legend").html("Kelulusan Penolong Pengarah, Bahagian Sumber Manusia");
                            $("#Cuti #Ulasan").hide();
                        }


                        if ($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val() != "") {
                            $("#Cuti input[name='HR_MAKLUMAT_CUTI.HR_KOD_CUTI2']").val($("#HR_MAKLUMAT_CUTI_HR_KOD_CUTI").val())
                        }

                        if ($(this).find("#TAHUN_dt").val() != "" && $(this).find("#KOD_CUTI_dt").val() != "") {
                            if ($(this).val() == "CU008") {
                                $("#Cuti #CutiKematian").removeClass("hide");
                                $("#Cuti #CutiBersalin").addClass("hide");
                            }
                            if ($(this).val() == "CU007" || $(this).val() == "CU091") {
                                $("#Cuti #CutiKematian").addClass("hide");
                                $("#Cuti #CutiBersalin").removeClass("hide");
                            }
                        }
                    }



                    //$.ajax({})
                });

            $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").on("input", function () {
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").html("<option></option>");
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").html("<option></option>");
                    $.ajax({
                        url: "../MaklumatKakitangan/Bahagian",
                        data: { "KodJabatan": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").append($("<option></option>").val(v.GE_KOD_BAHAGIAN).html(v.GE_KETERANGAN));
                            })
                        }
                    })
                })
                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_BAHAGIAN']").on("input", function () {
                    $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").html("<option></option>");
                    $.ajax({
                        url: "../MaklumatKakitangan/Unit",
                        data: { "KodBahagian": $(this).val(), "KodJabatan": $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_JABATAN']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_UNIT']").append($("<option></option>").val(v.GE_KOD_UNIT).html(v.GE_KETERANGAN));
                            })
                        }
                    })
                })
                $("#Peribadi #btn-paste").on("click", function () {
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT1']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT1']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT2']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT2']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SALAMAT3']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TALAMAT3']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SPOSKOD']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TPOSKOD']").val());
                    $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_SBANDAR']").val($("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TBANDAR']").val());
                    $("#Peribadi select[name='HR_MAKLUMAT_PERIBADI.HR_SNEGERI']").val($("#Peribadi select[name='HR_MAKLUMAT_PERIBADI.HR_TNEGERI']").val());
                })

                $("#Pekerjaan input[name='HR_UMUR_SARA']").on("input", function () {
                    $("#Pekerjaan input[name='HR_TARIKH_TAMAT']").val("");
                    $.ajax({
                        url: "../MaklumatKakitangan/KiraUmurBersara2",
                        data: { "HR_TARIKH_LAHIR": $("#Peribadi input[name='HR_MAKLUMAT_PERIBADI.HR_TARIKH_LAHIR']").val(), "HR_UMUR_SARA": $(this).val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                            $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT']").val(tarikh.toLocaleDateString('en-GB'));
                        }
                    })
                })

                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_PENCEN']").on("click", function () {
                    if ($(this).is(":checked") == true) {
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_KWSP']").prop("checked", false)
                    }
                })
                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_KWSP']").on("click", function () {
                    if ($(this).is(":checked") == true) {
                        $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_STATUS_PENCEN']").prop("checked", false)
                    }
                })

                function CariGred(HR_SISTEM) {
                    $.ajax({
                        url: "../MaklumatKakitangan/CariGred",
                        data: { "HR_SISTEM": HR_SISTEM },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#gredList").empty();
                            $.each(data, function (i, v) {
                                $("#gredList").append("<option value = '" + v.SHORT_DESCRIPTION + "'></option>")
                            })
                        }
                    })
                }
                CariGred($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val())

                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']").on("click", function () {
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GRED']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MIN']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_MAX']").val("");
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_GAJI_POKOK']").val("")
                    $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_KOD_GAJI']").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#MinList").empty()
                    $("#MaxList").empty()
                    $("#GajiList").empty()

                    CariGred(this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KATEGORI_PCB").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_PCB").html("<option></option>");
                    $.ajax({
                        url: "../MaklumatKakitangan/KategoriPCB",
                        type: "GET",
                        data: { "id": $(this).val() },
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        success: function (data) {
                            $.each(data, function (i, v) {
                                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_PCB").append($("<option></option>").val(v.STRING_PARAM).html(v.SHORT_DESCRIPTION));
                            })
                        }
                    })
                })

                /*$("#Pekerjaan input[name='HR_SISTEM'], #Pekerjaan select[name='HR_GRED'], #Pekerjaan select[name='HR_GAJI_MIN'], #Pekerjaan select[name='HR_GAJI_MAX']").on("input", function () {

                    if($(this).attr("name") == "HR_GRED")
                    {
                        $("#Pekerjaan select[name='HR_GAJI_MIN']").html("<option></option>");
                        $("#Pekerjaan select[name='HR_GAJI_MAX']").html("<option></option>");
                        $("#Pekerjaan input[name='HR_GAJI_POKOK']").val("")
                        $("#Pekerjaan input[name='HR_KOD_GAJI']").val("")
                        $.ajax({
                            url: "MaklumatKakitangan/MinGaji",
                            data: { "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {

                                $.each($.unique(data), function (i, v) {
                                    $("#Pekerjaan select[name='HR_GAJI_MIN']").append($("<option></option>").val(v.PERINGKAT).html(v.PERINGKAT))
                                })
                            }
                        })
                    }
                    if($(this).attr("name") == "HR_GAJI_MIN")
                    {
                        $("#Pekerjaan select[name='HR_GAJI_MAX']").html("<option></option>");
                        $.ajax({
                            url: "MaklumatKakitangan/MaxGaji",
                            data: { "HR_GAJI_MIN": $("#Pekerjaan select[name='HR_GAJI_MIN']").val(), "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                $.each($.unique(data), function (i, v) {
                                    $("#Pekerjaan select[name='HR_GAJI_MAX']").append($("<option></option>").val(v.TAHAP).html(v.TAHAP))
                                })

                            }
                        })
                    }

                    $.ajax({
                        url: "MaklumatKakitangan/GajiPokok",
                        data: { "HR_SISTEM": $("#Pekerjaan input[name='HR_SISTEM']").val(), "HR_GRED": $("#Pekerjaan select[name='HR_GRED']").val(), "HR_GAJI_MIN": $("#Pekerjaan select[name='HR_GAJI_MIN']").val(), "HR_GAJI_MAX": $("#Pekerjaan select[name='HR_GAJI_MAX']").val() },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {


                                $("#Pekerjaan input[name='HR_GAJI_POKOK']").val(data.HR_GAJI_POKOK)
                                $("#Pekerjaan input[name='HR_KOD_GAJI']").val(data.HR_KOD_GAJI)

                        }
                    })

                })*/

                function MinGaji(HR_SISTEM, HR_GRED) {
                    $.ajax({
                        url: "../MaklumatKakitangan/MinGaji",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#MinList").empty()

                            $.each(data, function (i, v) {
                                $("#MinList").append("<option value='" + v.HR_GAJI_MIN.toFixed(2) + "'></option>")
                            })
                        }
                    })
                    GajiPokok(HR_SISTEM, HR_GRED, null, null)
                }
                MinGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val())

                function MaxGaji(HR_SISTEM, HR_GRED, HR_GAJI_MIN) {
                    $.ajax({
                        url: "../MaklumatKakitangan/MaxGaji",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_MIN": HR_GAJI_MIN },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#MaxList").empty()

                            $.each(data, function (i, v) {
                                //console.log(v.HR_GAJI_MAX.toFixed(2))
                                $("#MaxList").append("<option value='" + v.HR_GAJI_MAX.toFixed(2) + "'></option>")
                            })
                        }
                    })
                    //MaxGaji(HR_SISTEM, HR_GRED, HR_GAJI_MIN)
                    GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, null)
                }
                MaxGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val())

                function GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, HR_GAJI_MAX) {
                    $.ajax({
                        url: "../MaklumatKakitangan/GajiPokok",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_MIN": HR_GAJI_MIN, "HR_GAJI_MAX": HR_GAJI_MAX },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {
                            $("#GajiList").empty()
                            $.each(data, function (i, v) {

                                $("#GajiList").append("<option value='" + v.HR_GAJI_POKOK.toFixed(2) + "'>P" + v.HR_PERINGKAT + "T" + parseFloat(v.HR_TAHAP).toFixed(2) + "</option>")
                            })

                        }
                    })
                    //GajiPokok(HR_SISTEM, HR_GRED, HR_GAJI_MIN, HR_GAJI_MAX)
                }
                GajiPokok($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val())

                function KodMatriks(HR_SISTEM, HR_GRED, HR_GAJI_POKOK) {
                    $.ajax({
                        url: "../MaklumatKakitangan/KodMatriks",
                        data: { "HR_SISTEM": HR_SISTEM, "HR_GRED": HR_GRED, "HR_GAJI_POKOK": HR_GAJI_POKOK },
                        contentType: "application/json; charset=utf-8",
                        type: 'GET',
                        dataType: "json",
                        success: function (data) {

                            $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("P" + data.HR_PERINGKAT + "T" + parseFloat(data.HR_TAHAP).toFixed(2))
                            $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val(data.HR_KOD_GAJI)
                        }
                    })
                    //GajiPokok(HR_SISTEM, HR_GRED, null, null)
                }
                KodMatriks($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val())

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#MaxList").empty()
                    $("#GajiList").empty()

                    MinGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").val("");
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    $("#GajiList").empty()

                    MaxGaji($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MAX").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    GajiPokok($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_MIN").val(), this.value)
                })

                $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GAJI_POKOK").on("input", function () {
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_KOD_GAJI").val("")
                    $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_MATRIKS_GAJI").val("")

                    KodMatriks($("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_SISTEM']:checked").val(), $("#Pekerjaan #HR_MAKLUMAT_PEKERJAAN_HR_GRED").val(), this.value)
                })

                $("#Pekerjaan input[name='HR_JUM_TAHUN']").on("input", function () {
                    $("#Pekerjaan input[name='HR_TARIKH_TAMAT_KONTRAK']").val("");
                    if ($("#Pekerjaan input[name='HR_JUM_TAHUN']").val() != "" && $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() != "")
                    {
                        $.ajax({
                            url: "../MaklumatKakitangan/JumlahTahunKontrak",
                            data: { "HR_JUM_TAHUN": $("#Pekerjaan input[name='HR_JUM_TAHUN']").val(), "HR_TARIKH_MASUK": $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_MASUK']").val() },
                            contentType: "application/json; charset=utf-8",
                            type: 'GET',
                            dataType: "json",
                            success: function (data) {
                                var tarikh = new Date(parseInt(data.replace(/\/Date\((\d+)\)\//, '$1')));
                                $("#Pekerjaan input[name='HR_MAKLUMAT_PEKERJAAN.HR_TARIKH_TAMAT_KONTRAK']").val(tarikh.toLocaleDateString('en-GB'));
                            }
                        })
                    }

                })

                if ($.trim($("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").find("option:selected").text().toLowerCase()) != "kontrak") {
                    $("#Pekerjaan #TamatKontrak").hide();
                    $("#Pekerjaan #TamatTetap").show();
                }
                else {
                    $("#Pekerjaan #TamatKontrak").show();
                    $("#Pekerjaan #TamatTetap").hide();
                }
                $("#Pekerjaan select[name='HR_MAKLUMAT_PEKERJAAN.HR_TARAF_JAWATAN']").on("input", function () {
                    console.log($.trim($(this).find("option:selected").text().toLowerCase()))
                    if ($.trim($(this).find("option:selected").text().toLowerCase()) == "kontrak")
                    {
                        $("#Pekerjaan #TamatKontrak").show();
                        $("#Pekerjaan #TamatTetap").hide();
                    }
                    else {
                        $("#Pekerjaan #TamatKontrak").hide();
                        $("#Pekerjaan #TamatTetap").show();
                    }

                    TarafJawatan();
                })

                $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP'], #Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").on("input", function () {

                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val("");
                    }

                    var TambahPenghasilan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val()))
                    var PurataPenghasilan = parseFloat(TambahPenghasilan / 2);
                    var PeratusPenghasilan = parseFloat(PurataPenghasilan / 100 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val(PurataPenghasilan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val(PeratusPenghasilan.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val("");
                    }
                    var TambahPengetahuan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val()))
                    var PurataPengetahuan = parseFloat(TambahPengetahuan / 2);
                    var PeratusPengetahuan = parseFloat(PurataPengetahuan / 120 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val(PurataPengetahuan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val(PeratusPengetahuan.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val("");
                    }
                    var TambahKualiti = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val()))
                    var PurataKualiti = parseFloat(TambahKualiti / 2);
                    var PeratusKualiti = parseFloat(PurataKualiti / 200 * 100);

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val(PurataKualiti.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val(PeratusKualiti.toFixed(2));


                    if ($(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP' || $(this).attr('name') == 'HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK')
                    {
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val("");
                        $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val("");
                    }
                    var TambahSumbangan = (parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val()) + parseFloat($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val()))
                    var PurataSumbangan = parseFloat(TambahSumbangan / 2);
                    var PeratusSumbangan = parseFloat(PurataSumbangan / 200 * 100);
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val(PurataSumbangan.toFixed(2));
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val(PeratusSumbangan.toFixed(2));


                    var jumlah = PeratusPenghasilan + PeratusPengetahuan + PeratusKualiti + PeratusSumbangan;
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val(jumlah.toFixed(2));

                });
                $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").on("input", function () {
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val("");

                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val("")
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val("");
                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val("");

                    if ($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").val() != "" && $("#Pekerjaan input[name='HR_TARIKH_MASUK']").val() != "") {
                        if ($("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_TAHUN_PRESTASI']").val().length > 3)
                        {
                            $.ajax({
                                url: "../MaklumatKakitangan/CariPrestasi",
                                data: { "HR_TAHUN_PRESTASI": $(this).val(), "HR_NO_PEKERJA": $("#infoKakitangan input[name='HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA']").val() },
                                contentType: "application/json; charset=utf-8",
                                type: 'GET',
                                dataType: "json",
                                success: function (data) {
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPP']").val(data.HR_PENGHASILAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGHASILAN_PPK']").val(data.HR_PENGHASILAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGHASILAN']").val(data.HR_PURATA_PENGHASILAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGHASILAN']").val(data.HR_PERATUS_PENGHASILAN.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPP']").val(data.HR_PENGETAHUAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PENGETAHUAN_PPK']").val(data.HR_PENGETAHUAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_PENGETAHUAN']").val(data.HR_PURATA_PENGETAHUAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_PENGETAHUAN']").val(data.HR_PERATUS_PENGETAHUAN.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPP']").val(data.HR_KUALITI_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_KUALITI_PPK']").val(data.HR_KUALITI_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_KUALITI']").val(data.HR_PURATA_KUALITI.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_KUALITI']").val(data.HR_PERATUS_KUALITI.toFixed(2));

                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPP']").val(data.HR_SUMBANGAN_PPP.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_SUMBANGAN_PPK']").val(data.HR_SUMBANGAN_PPK.toFixed(2))
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PURATA_SUMBANGAN']").val(data.HR_PURATA_SUMBANGAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_PERATUS_SUMBANGAN']").val(data.HR_PERATUS_SUMBANGAN.toFixed(2));
                                    $("#Prestasi input[name='HR_PENILAIAN_PRESTASI.HR_JUMLAH_BESAR']").val(data.HR_JUMLAH_BESAR.toFixed(2));
                                }
                            })
                        }

                    }

                })

            //upload image
                $("button[name='upload-image']").click(function () {
                    $("input[name='file']").click();
                })
                $("input[name='file']").change(function () {
                    readURL(this);
                });

                function readURL(input) {
                    if (input.files && input.files[0]) {
                        var reader = new FileReader();

                        reader.onload = function (e) {
                            $('#img').attr('src', e.target.result);
                        }
                        reader.readAsDataURL(input.files[0]);
                    }
                }
                $.post("../Kewangan8/AutoAktif", { HR_NO_PEKERJA: '@Model.HR_MAKLUMAT_PERIBADI.HR_NO_PEKERJA' });

            $("#Peribadi #HR_MAKLUMAT_PERIBADI_HR_ALASAN option:first-child").show();
        });
</script>
}
<!-- END JAVASCRIPT -->
